(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(a){if(a.ep)return;a.ep=!0;const r=t(a);fetch(a.href,r)}})();function oM(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var gS={exports:{}},O0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JT;function HU(){if(JT)return O0;JT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,r){var l=null;if(r!==void 0&&(l=""+r),a.key!==void 0&&(l=""+a.key),"key"in a){r={};for(var u in a)u!=="key"&&(r[u]=a[u])}else r=a;return a=r.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:r}}return O0.Fragment=e,O0.jsx=t,O0.jsxs=t,O0}var $T;function kU(){return $T||($T=1,gS.exports=HU()),gS.exports}var B=kU(),vS={exports:{}},Cn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e3;function GU(){if(e3)return Cn;e3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function x(X){return X===null||typeof X!="object"?null:(X=v&&X[v]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,C={};function E(X,fe,xe){this.props=X,this.context=fe,this.refs=C,this.updater=xe||b}E.prototype.isReactComponent={},E.prototype.setState=function(X,fe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,fe,"setState")},E.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function w(){}w.prototype=E.prototype;function R(X,fe,xe){this.props=X,this.context=fe,this.refs=C,this.updater=xe||b}var D=R.prototype=new w;D.constructor=R,M(D,E.prototype),D.isPureReactComponent=!0;var O=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function V(X,fe,xe,Ce,Be,ft){return xe=ft.ref,{$$typeof:n,type:X,key:fe,ref:xe!==void 0?xe:null,props:ft}}function H(X,fe){return V(X.type,fe,void 0,void 0,void 0,X.props)}function I(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function L(X){var fe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(xe){return fe[xe]})}var q=/\/+/g;function J(X,fe){return typeof X=="object"&&X!==null&&X.key!=null?L(""+X.key):fe.toString(36)}function re(){}function de(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(re,re):(X.status="pending",X.then(function(fe){X.status==="pending"&&(X.status="fulfilled",X.value=fe)},function(fe){X.status==="pending"&&(X.status="rejected",X.reason=fe)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function ve(X,fe,xe,Ce,Be){var ft=typeof X;(ft==="undefined"||ft==="boolean")&&(X=null);var ge=!1;if(X===null)ge=!0;else switch(ft){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(X.$$typeof){case n:case e:ge=!0;break;case m:return ge=X._init,ve(ge(X._payload),fe,xe,Ce,Be)}}if(ge)return Be=Be(X),ge=Ce===""?"."+J(X,0):Ce,O(Be)?(xe="",ge!=null&&(xe=ge.replace(q,"$&/")+"/"),ve(Be,fe,xe,"",function(St){return St})):Be!=null&&(I(Be)&&(Be=H(Be,xe+(Be.key==null||X&&X.key===Be.key?"":(""+Be.key).replace(q,"$&/")+"/")+ge)),fe.push(Be)),1;ge=0;var ze=Ce===""?".":Ce+":";if(O(X))for(var Ke=0;Ke<X.length;Ke++)Ce=X[Ke],ft=ze+J(Ce,Ke),ge+=ve(Ce,fe,xe,ft,Be);else if(Ke=x(X),typeof Ke=="function")for(X=Ke.call(X),Ke=0;!(Ce=X.next()).done;)Ce=Ce.value,ft=ze+J(Ce,Ke++),ge+=ve(Ce,fe,xe,ft,Be);else if(ft==="object"){if(typeof X.then=="function")return ve(de(X),fe,xe,Ce,Be);throw fe=String(X),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return ge}function G(X,fe,xe){if(X==null)return X;var Ce=[],Be=0;return ve(X,Ce,"","",function(ft){return fe.call(xe,ft,Be++)}),Ce}function K(X){if(X._status===-1){var fe=X._result;fe=fe(),fe.then(function(xe){(X._status===0||X._status===-1)&&(X._status=1,X._result=xe)},function(xe){(X._status===0||X._status===-1)&&(X._status=2,X._result=xe)}),X._status===-1&&(X._status=0,X._result=fe)}if(X._status===1)return X._result.default;throw X._result}var $=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)};function pe(){}return Cn.Children={map:G,forEach:function(X,fe,xe){G(X,function(){fe.apply(this,arguments)},xe)},count:function(X){var fe=0;return G(X,function(){fe++}),fe},toArray:function(X){return G(X,function(fe){return fe})||[]},only:function(X){if(!I(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Cn.Component=E,Cn.Fragment=t,Cn.Profiler=a,Cn.PureComponent=R,Cn.StrictMode=i,Cn.Suspense=h,Cn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Cn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return P.H.useMemoCache(X)}},Cn.cache=function(X){return function(){return X.apply(null,arguments)}},Cn.cloneElement=function(X,fe,xe){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Ce=M({},X.props),Be=X.key,ft=void 0;if(fe!=null)for(ge in fe.ref!==void 0&&(ft=void 0),fe.key!==void 0&&(Be=""+fe.key),fe)!U.call(fe,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&fe.ref===void 0||(Ce[ge]=fe[ge]);var ge=arguments.length-2;if(ge===1)Ce.children=xe;else if(1<ge){for(var ze=Array(ge),Ke=0;Ke<ge;Ke++)ze[Ke]=arguments[Ke+2];Ce.children=ze}return V(X.type,Be,void 0,void 0,ft,Ce)},Cn.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:r,_context:X},X},Cn.createElement=function(X,fe,xe){var Ce,Be={},ft=null;if(fe!=null)for(Ce in fe.key!==void 0&&(ft=""+fe.key),fe)U.call(fe,Ce)&&Ce!=="key"&&Ce!=="__self"&&Ce!=="__source"&&(Be[Ce]=fe[Ce]);var ge=arguments.length-2;if(ge===1)Be.children=xe;else if(1<ge){for(var ze=Array(ge),Ke=0;Ke<ge;Ke++)ze[Ke]=arguments[Ke+2];Be.children=ze}if(X&&X.defaultProps)for(Ce in ge=X.defaultProps,ge)Be[Ce]===void 0&&(Be[Ce]=ge[Ce]);return V(X,ft,void 0,void 0,null,Be)},Cn.createRef=function(){return{current:null}},Cn.forwardRef=function(X){return{$$typeof:u,render:X}},Cn.isValidElement=I,Cn.lazy=function(X){return{$$typeof:m,_payload:{_status:-1,_result:X},_init:K}},Cn.memo=function(X,fe){return{$$typeof:p,type:X,compare:fe===void 0?null:fe}},Cn.startTransition=function(X){var fe=P.T,xe={};P.T=xe;try{var Ce=X(),Be=P.S;Be!==null&&Be(xe,Ce),typeof Ce=="object"&&Ce!==null&&typeof Ce.then=="function"&&Ce.then(pe,$)}catch(ft){$(ft)}finally{P.T=fe}},Cn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Cn.use=function(X){return P.H.use(X)},Cn.useActionState=function(X,fe,xe){return P.H.useActionState(X,fe,xe)},Cn.useCallback=function(X,fe){return P.H.useCallback(X,fe)},Cn.useContext=function(X){return P.H.useContext(X)},Cn.useDebugValue=function(){},Cn.useDeferredValue=function(X,fe){return P.H.useDeferredValue(X,fe)},Cn.useEffect=function(X,fe,xe){var Ce=P.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ce.useEffect(X,fe)},Cn.useId=function(){return P.H.useId()},Cn.useImperativeHandle=function(X,fe,xe){return P.H.useImperativeHandle(X,fe,xe)},Cn.useInsertionEffect=function(X,fe){return P.H.useInsertionEffect(X,fe)},Cn.useLayoutEffect=function(X,fe){return P.H.useLayoutEffect(X,fe)},Cn.useMemo=function(X,fe){return P.H.useMemo(X,fe)},Cn.useOptimistic=function(X,fe){return P.H.useOptimistic(X,fe)},Cn.useReducer=function(X,fe,xe){return P.H.useReducer(X,fe,xe)},Cn.useRef=function(X){return P.H.useRef(X)},Cn.useState=function(X){return P.H.useState(X)},Cn.useSyncExternalStore=function(X,fe,xe){return P.H.useSyncExternalStore(X,fe,xe)},Cn.useTransition=function(){return P.H.useTransition()},Cn.version="19.1.0",Cn}var t3;function sm(){return t3||(t3=1,vS.exports=GU()),vS.exports}var ne=sm();const ns=oM(ne);var yS={exports:{}},U0={},xS={exports:{}},bS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n3;function jU(){return n3||(n3=1,function(n){function e(G,K){var $=G.length;G.push(K);e:for(;0<$;){var pe=$-1>>>1,X=G[pe];if(0<a(X,K))G[pe]=K,G[$]=X,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],$=G.pop();if($!==K){G[0]=$;e:for(var pe=0,X=G.length,fe=X>>>1;pe<fe;){var xe=2*(pe+1)-1,Ce=G[xe],Be=xe+1,ft=G[Be];if(0>a(Ce,$))Be<X&&0>a(ft,Ce)?(G[pe]=ft,G[Be]=$,pe=Be):(G[pe]=Ce,G[xe]=$,pe=xe);else if(Be<X&&0>a(ft,$))G[pe]=ft,G[Be]=$,pe=Be;else break e}}return K}function a(G,K){var $=G.sortIndex-K.sortIndex;return $!==0?$:G.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,x=3,b=!1,M=!1,C=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function O(G){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=G)i(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(p)}}function P(G){if(C=!1,O(G),!M)if(t(h)!==null)M=!0,U||(U=!0,J());else{var K=t(p);K!==null&&ve(P,K.startTime-G)}}var U=!1,V=-1,H=5,I=-1;function L(){return E?!0:!(n.unstable_now()-I<H)}function q(){if(E=!1,U){var G=n.unstable_now();I=G;var K=!0;try{e:{M=!1,C&&(C=!1,R(V),V=-1),b=!0;var $=x;try{t:{for(O(G),v=t(h);v!==null&&!(v.expirationTime>G&&L());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,x=v.priorityLevel;var X=pe(v.expirationTime<=G);if(G=n.unstable_now(),typeof X=="function"){v.callback=X,O(G),K=!0;break t}v===t(h)&&i(h),O(G)}else i(h);v=t(h)}if(v!==null)K=!0;else{var fe=t(p);fe!==null&&ve(P,fe.startTime-G),K=!1}}break e}finally{v=null,x=$,b=!1}K=void 0}}finally{K?J():U=!1}}}var J;if(typeof D=="function")J=function(){D(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,de=re.port2;re.port1.onmessage=q,J=function(){de.postMessage(null)}}else J=function(){w(q,0)};function ve(G,K){V=w(function(){G(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var $=x;x=K;try{return G()}finally{x=$}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=x;x=G;try{return K()}finally{x=$}},n.unstable_scheduleCallback=function(G,K,$){var pe=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,G={id:m++,callback:K,priorityLevel:G,startTime:$,expirationTime:X,sortIndex:-1},$>pe?(G.sortIndex=$,e(p,G),t(h)===null&&G===t(p)&&(C?(R(V),V=-1):C=!0,ve(P,$-pe))):(G.sortIndex=X,e(h,G),M||b||(M=!0,U||(U=!0,J()))),G},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(G){var K=x;return function(){var $=x;x=K;try{return G.apply(this,arguments)}finally{x=$}}}}(bS)),bS}var i3;function XU(){return i3||(i3=1,xS.exports=jU()),xS.exports}var _S={exports:{}},ds={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a3;function WU(){if(a3)return ds;a3=1;var n=sm();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function r(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:h,containerInfo:p,implementation:m}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ds.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ds.createPortal=function(h,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return r(h,p,null,m)},ds.flushSync=function(h){var p=l.T,m=i.p;try{if(l.T=null,i.p=2,h)return h()}finally{l.T=p,i.p=m,i.d.f()}},ds.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(h,p))},ds.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},ds.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?i.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:b}):m==="script"&&i.d.X(h,{crossOrigin:v,integrity:x,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ds.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);i.d.M(h,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(h)},ds.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,v=u(m,p.crossOrigin);i.d.L(h,m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ds.preloadModule=function(h,p){if(typeof h=="string")if(p){var m=u(p.as,p.crossOrigin);i.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(h)},ds.requestFormReset=function(h){i.d.r(h)},ds.unstable_batchedUpdates=function(h,p){return h(p)},ds.useFormState=function(h,p,m){return l.H.useFormState(h,p,m)},ds.useFormStatus=function(){return l.H.useHostTransitionStatus()},ds.version="19.1.0",ds}var s3;function qU(){if(s3)return _S.exports;s3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_S.exports=WU(),_S.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r3;function YU(){if(r3)return U0;r3=1;var n=XU(),e=sm(),t=qU();function i(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function r(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function l(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(r(s)!==s)throw Error(i(188))}function h(s){var o=s.alternate;if(!o){if(o=r(s),o===null)throw Error(i(188));return o!==s?null:s}for(var d=s,g=o;;){var _=d.return;if(_===null)break;var T=_.alternate;if(T===null){if(g=_.return,g!==null){d=g;continue}break}if(_.child===T.child){for(T=_.child;T;){if(T===d)return u(_),s;if(T===g)return u(_),o;T=T.sibling}throw Error(i(188))}if(d.return!==g.return)d=_,g=T;else{for(var z=!1,W=_.child;W;){if(W===d){z=!0,d=_,g=T;break}if(W===g){z=!0,g=_,d=T;break}W=W.sibling}if(!z){for(W=T.child;W;){if(W===d){z=!0,d=T,g=_;break}if(W===g){z=!0,g=T,d=_;break}W=W.sibling}if(!z)throw Error(i(189))}}if(d.alternate!==g)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?s:o}function p(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=p(s),o!==null)return o;s=s.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var re=Symbol.for("react.client.reference");function de(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===re?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case M:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case U:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case b:return"Portal";case D:return(s.displayName||"Context")+".Provider";case R:return(s._context.displayName||"Context")+".Consumer";case O:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case V:return o=s.displayName||null,o!==null?o:de(s.type)||"Memo";case H:o=s._payload,s=s._init;try{return de(s(o))}catch{}}return null}var ve=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},pe=[],X=-1;function fe(s){return{current:s}}function xe(s){0>X||(s.current=pe[X],pe[X]=null,X--)}function Ce(s,o){X++,pe[X]=s.current,s.current=o}var Be=fe(null),ft=fe(null),ge=fe(null),ze=fe(null);function Ke(s,o){switch(Ce(ge,o),Ce(ft,s),Ce(Be,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?TT(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=TT(o),s=AT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}xe(Be),Ce(Be,s)}function St(){xe(Be),xe(ft),xe(ge)}function Rt(s){s.memoizedState!==null&&Ce(ze,s);var o=Be.current,d=AT(o,s.type);o!==d&&(Ce(ft,s),Ce(Be,d))}function Gt(s){ft.current===s&&(xe(Be),xe(ft)),ze.current===s&&(xe(ze),C0._currentValue=$)}var Qt=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,Je=n.unstable_cancelCallback,ee=n.unstable_shouldYield,nt=n.unstable_requestPaint,$e=n.unstable_now,mt=n.unstable_getCurrentPriorityLevel,st=n.unstable_ImmediatePriority,bt=n.unstable_UserBlockingPriority,pt=n.unstable_NormalPriority,wt=n.unstable_LowPriority,Q=n.unstable_IdlePriority,j=n.log,_e=n.unstable_setDisableYieldValue,Ve=null,ke=null;function Oe(s){if(typeof j=="function"&&_e(s),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Ve,s)}catch{}}var xt=Math.clz32?Math.clz32:Nt,yt=Math.log,Vt=Math.LN2;function Nt(s){return s>>>=0,s===0?32:31-(yt(s)/Vt|0)|0}var je=256,et=4194304;function Ot(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oe(s,o,d){var g=s.pendingLanes;if(g===0)return 0;var _=0,T=s.suspendedLanes,z=s.pingedLanes;s=s.warmLanes;var W=g&134217727;return W!==0?(g=W&~T,g!==0?_=Ot(g):(z&=W,z!==0?_=Ot(z):d||(d=W&~s,d!==0&&(_=Ot(d))))):(W=g&~T,W!==0?_=Ot(W):z!==0?_=Ot(z):d||(d=g&~s,d!==0&&(_=Ot(d)))),_===0?0:o!==0&&o!==_&&(o&T)===0&&(T=_&-_,d=o&-o,T>=d||T===32&&(d&4194048)!==0)?o:_}function we(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Ze(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ae(){var s=je;return je<<=1,(je&4194048)===0&&(je=256),s}function Ee(){var s=et;return et<<=1,(et&62914560)===0&&(et=4194304),s}function rt(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function ct(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function lt(s,o,d,g,_,T){var z=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var W=s.entanglements,le=s.expirationTimes,Ae=s.hiddenUpdates;for(d=z&~d;0<d;){var We=31-xt(d),tt=1<<We;W[We]=0,le[We]=-1;var Le=Ae[We];if(Le!==null)for(Ae[We]=null,We=0;We<Le.length;We++){var Ue=Le[We];Ue!==null&&(Ue.lane&=-536870913)}d&=~tt}g!==0&&Ye(s,g,0),T!==0&&_===0&&s.tag!==0&&(s.suspendedLanes|=T&~(z&~o))}function Ye(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var g=31-xt(o);s.entangledLanes|=o,s.entanglements[g]=s.entanglements[g]|1073741824|d&4194090}function _t(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var g=31-xt(d),_=1<<g;_&o|s[g]&o&&(s[g]|=o),d&=~_}}function Pt(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function bn(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function vn(){var s=K.p;return s!==0?s:(s=window.event,s===void 0?32:WT(s.type))}function Pi(s,o){var d=K.p;try{return K.p=s,o()}finally{K.p=d}}var ni=Math.random().toString(36).slice(2),Bi="__reactFiber$"+ni,zi="__reactProps$"+ni,Ia="__reactContainer$"+ni,Yi="__reactEvents$"+ni,Js="__reactListeners$"+ni,Sa="__reactHandles$"+ni,Jt="__reactResources$"+ni,Pa="__reactMarker$"+ni;function ii(s){delete s[Bi],delete s[zi],delete s[Yi],delete s[Js],delete s[Sa]}function k(s){var o=s[Bi];if(o)return o;for(var d=s.parentNode;d;){if(o=d[Ia]||d[Bi]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=NT(s);s!==null;){if(d=s[Bi])return d;s=NT(s)}return o}s=d,d=s.parentNode}return null}function Z(s){if(s=s[Bi]||s[Ia]){var o=s.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return s}return null}function he(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(i(33))}function Re(s){var o=s[Jt];return o||(o=s[Jt]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Ne(s){s[Pa]=!0}var Fe=new Set,ht={};function it(s,o){ot(s,o),ot(s+"Capture",o)}function ot(s,o){for(ht[s]=o,s=0;s<o.length;s++)Fe.add(o[s])}var F=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ie={},ce={};function Me(s){return Qt.call(ce,s)?!0:Qt.call(ie,s)?!1:F.test(s)?ce[s]=!0:(ie[s]=!0,!1)}function se(s,o,d){if(Me(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var g=o.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function Ie(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function Ge(s,o,d,g){if(g===null)s.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+g)}}var at,ut;function vt(s){if(at===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);at=o&&o[1]||"",ut=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+at+s+ut}var Ct=!1;function Mt(s,o){if(!s||Ct)return"";Ct=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(o){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(Ue){var Le=Ue}Reflect.construct(s,[],tt)}else{try{tt.call()}catch(Ue){Le=Ue}s.call(tt.prototype)}}else{try{throw Error()}catch(Ue){Le=Ue}(tt=s())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(Ue){if(Ue&&Le&&typeof Ue.stack=="string")return[Ue.stack,Le.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=g.DetermineComponentFrameRoot(),z=T[0],W=T[1];if(z&&W){var le=z.split(`
`),Ae=W.split(`
`);for(_=g=0;g<le.length&&!le[g].includes("DetermineComponentFrameRoot");)g++;for(;_<Ae.length&&!Ae[_].includes("DetermineComponentFrameRoot");)_++;if(g===le.length||_===Ae.length)for(g=le.length-1,_=Ae.length-1;1<=g&&0<=_&&le[g]!==Ae[_];)_--;for(;1<=g&&0<=_;g--,_--)if(le[g]!==Ae[_]){if(g!==1||_!==1)do if(g--,_--,0>_||le[g]!==Ae[_]){var We=`
`+le[g].replace(" at new "," at ");return s.displayName&&We.includes("<anonymous>")&&(We=We.replace("<anonymous>",s.displayName)),We}while(1<=g&&0<=_);break}}}finally{Ct=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?vt(d):""}function Ut(s){switch(s.tag){case 26:case 27:case 5:return vt(s.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return Mt(s.type,!1);case 11:return Mt(s.type.render,!1);case 1:return Mt(s.type,!0);case 31:return vt("Activity");default:return""}}function dn(s){try{var o="";do o+=Ut(s),s=s.return;while(s);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Bt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function un(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function An(s){var o=un(s)?"checked":"value",d=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),g=""+s[o];if(!s.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,T=d.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return _.call(this)},set:function(z){g=""+z,T.call(this,z)}}),Object.defineProperty(s,o,{enumerable:d.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function zt(s){s._valueTracker||(s._valueTracker=An(s))}function Mn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),g="";return s&&(g=un(s)?s.checked?"true":"false":s.value),s=g,s!==d?(o.setValue(s),!0):!1}function It(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var zn=/[\n"\\]/g;function fn(s){return s.replace(zn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function tn(s,o,d,g,_,T,z,W){s.name="",z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?s.type=z:s.removeAttribute("type"),o!=null?z==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Bt(o)):s.value!==""+Bt(o)&&(s.value=""+Bt(o)):z!=="submit"&&z!=="reset"||s.removeAttribute("value"),o!=null?On(s,z,Bt(o)):d!=null?On(s,z,Bt(d)):g!=null&&s.removeAttribute("value"),_==null&&T!=null&&(s.defaultChecked=!!T),_!=null&&(s.checked=_&&typeof _!="function"&&typeof _!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?s.name=""+Bt(W):s.removeAttribute("name")}function Ri(s,o,d,g,_,T,z,W){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.type=T),o!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||o!=null))return;d=d!=null?""+Bt(d):"",o=o!=null?""+Bt(o):d,W||o===s.value||(s.value=o),s.defaultValue=o}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,s.checked=W?s.checked:!!g,s.defaultChecked=!!g,z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(s.name=z)}function On(s,o,d){o==="number"&&It(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function Un(s,o,d,g){if(s=s.options,o){o={};for(var _=0;_<d.length;_++)o["$"+d[_]]=!0;for(d=0;d<s.length;d++)_=o.hasOwnProperty("$"+s[d].value),s[d].selected!==_&&(s[d].selected=_),_&&g&&(s[d].defaultSelected=!0)}else{for(d=""+Bt(d),o=null,_=0;_<s.length;_++){if(s[_].value===d){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}o!==null||s[_].disabled||(o=s[_])}o!==null&&(o.selected=!0)}}function _i(s,o,d){if(o!=null&&(o=""+Bt(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+Bt(d):""}function ia(s,o,d,g){if(o==null){if(g!=null){if(d!=null)throw Error(i(92));if(ve(g)){if(1<g.length)throw Error(i(93));g=g[0]}d=g}d==null&&(d=""),o=d}d=Bt(o),s.defaultValue=d,g=s.textContent,g===d&&g!==""&&g!==null&&(s.value=g)}function fi(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var Xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ws(s,o,d){var g=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":g?s.setProperty(o,d):typeof d!="number"||d===0||Xc.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function df(s,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(s=s.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||o!=null&&o.hasOwnProperty(g)||(g.indexOf("--")===0?s.setProperty(g,""):g==="float"?s.cssFloat="":s[g]="");for(var _ in o)g=o[_],o.hasOwnProperty(_)&&d[_]!==g&&ws(s,_,g)}else for(var T in o)o.hasOwnProperty(T)&&ws(s,T,o[T])}function Qh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pf(s){return Tv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Jh=null;function $h(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Jo=null,Kl=null;function _m(s){var o=Z(s);if(o&&(s=o.stateNode)){var d=s[zi]||null;e:switch(s=o.stateNode,o.type){case"input":if(tn(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+fn(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var g=d[o];if(g!==s&&g.form===s.form){var _=g[zi]||null;if(!_)throw Error(i(90));tn(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(o=0;o<d.length;o++)g=d[o],g.form===s.form&&Mn(g)}break e;case"textarea":_i(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Un(s,!!d.multiple,o,!1)}}}var mf=!1;function Sm(s,o,d){if(mf)return s(o,d);mf=!0;try{var g=s(o);return g}finally{if(mf=!1,(Jo!==null||Kl!==null)&&(to(),Jo&&(o=Jo,s=Kl,Kl=Jo=null,_m(o),s)))for(o=0;o<s.length;o++)_m(s[o])}}function Wc(s,o){var d=s.stateNode;if(d===null)return null;var g=d[zi]||null;if(g===null)return null;d=g[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gf=!1;if(Fr)try{var qc={};Object.defineProperty(qc,"passive",{get:function(){gf=!0}}),window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,qc)}catch{gf=!1}var mo=null,wm=null,ed=null;function Mm(){if(ed)return ed;var s,o=wm,d=o.length,g,_="value"in mo?mo.value:mo.textContent,T=_.length;for(s=0;s<d&&o[s]===_[s];s++);var z=d-s;for(g=1;g<=z&&o[d-g]===_[T-g];g++);return ed=_.slice(s,1<g?1-g:void 0)}function $o(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Yc(){return!0}function vf(){return!1}function Xa(s){function o(d,g,_,T,z){this._reactName=d,this._targetInst=_,this.type=g,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(d=s[W],this[W]=d?d(T):T[W]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Yc:vf,this.isPropagationStopped=vf,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),o}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Xa(el),Kc=m({},el,{view:0,detail:0}),Av=Xa(Kc),go,Qc,Jc,$c=m({},Kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Jc&&(Jc&&s.type==="mousemove"?(go=s.screenX-Jc.screenX,Qc=s.screenY-Jc.screenY):Qc=go=0,Jc=s),go)},movementY:function(s){return"movementY"in s?s.movementY:Qc}}),Em=Xa($c),Cv=m({},$c,{dataTransfer:0}),U_=Xa(Cv),wa=m({},Kc,{relatedTarget:0}),td=Xa(wa),Rv=m({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),Dv=Xa(Rv),Nv=m({},el,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lv=Xa(Nv),yf=m({},el,{data:0}),nd=Xa(yf),Ov={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Iv[s])?!!o[s]:!1}function xf(){return Tm}var Pv=m({},Kc,{key:function(s){if(s.key){var o=Ov[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=$o(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Uv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xf,charCode:function(s){return s.type==="keypress"?$o(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$o(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Am=Xa(Pv),Cm=m({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=Xa(Cm),Bv=m({},Kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xf}),Rm=Xa(Bv),zv=m({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),vo=Xa(zv),Dm=m({},$c,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),I_=Xa(Dm),Vv=m({},el,{newState:0,oldState:0}),tl=Xa(Vv),yo=[9,13,27,32],bf=Fr&&"CompositionEvent"in window,Ql=null;Fr&&"documentMode"in document&&(Ql=document.documentMode);var _f=Fr&&"TextEvent"in window&&!Ql,Sf=Fr&&(!bf||Ql&&8<Ql&&11>=Ql),nl=" ",Ma=!1;function wf(s,o){switch(s){case"keyup":return yo.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var il=!1;function Mf(s,o){switch(s){case"compositionend":return Nm(o);case"keypress":return o.which!==32?null:(Ma=!0,nl);case"textInput":return s=o.data,s===nl&&Ma?null:s;default:return null}}function Lm(s,o){if(il)return s==="compositionend"||!bf&&wf(s,o)?(s=Mm(),ed=wm=mo=null,il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Sf&&o.locale!=="ko"?null:o.data;default:return null}}var ad={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Om(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!ad[s.type]:o==="textarea"}function ss(s,o,d,g){Jo?Kl?Kl.push(g):Kl=[g]:Jo=g,o=zy(o,"onChange"),0<o.length&&(d=new Zc("onChange","change",null,d,g),s.push({event:d,listeners:o}))}var eu=null,Jl=null;function Fv(s){_T(s,0)}function Ef(s){var o=he(s);if(Mn(o))return s}function sd(s,o){if(s==="change")return o}var rd=!1;if(Fr){var od;if(Fr){var tu="oninput"in document;if(!tu){var nu=document.createElement("div");nu.setAttribute("oninput","return;"),tu=typeof nu.oninput=="function"}od=tu}else od=!1;rd=od&&(!document.documentMode||9<document.documentMode)}function Si(){eu&&(eu.detachEvent("onpropertychange",Hv),Jl=eu=null)}function Hv(s){if(s.propertyName==="value"&&Ef(Jl)){var o=[];ss(o,Jl,s,$h(s)),Sm(Fv,o)}}function P_(s,o,d){s==="focusin"?(Si(),eu=o,Jl=d,eu.attachEvent("onpropertychange",Hv)):s==="focusout"&&Si()}function kv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ef(Jl)}function Tf(s,o){if(s==="click")return Ef(o)}function al(s,o){if(s==="input"||s==="change")return Ef(o)}function Gv(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var rs=typeof Object.is=="function"?Object.is:Gv;function vr(s,o){if(rs(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),g=Object.keys(o);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var _=d[g];if(!Qt.call(o,_)||!rs(s[_],o[_]))return!1}return!0}function os(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Um(s,o){var d=os(s);s=0;for(var g;d;){if(d.nodeType===3){if(g=s+d.textContent.length,s<=o&&g>=o)return{node:d,offset:o-s};s=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=os(d)}}function Im(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Im(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Pm(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=It(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=It(s.document)}return o}function Af(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Bm=Fr&&"documentMode"in document&&11>=document.documentMode,xo=null,ld=null,Cf=null,cd=!1;function zm(s,o,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;cd||xo==null||xo!==It(g)||(g=xo,"selectionStart"in g&&Af(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Cf&&vr(Cf,g)||(Cf=g,g=zy(ld,"onSelect"),0<g.length&&(o=new Zc("onSelect","select",null,o,d),s.push({event:o,listeners:g}),o.target=xo)))}function Ea(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var sl={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},ud={},jv={};Fr&&(jv=document.createElement("div").style,"AnimationEvent"in window||(delete sl.animationend.animation,delete sl.animationiteration.animation,delete sl.animationstart.animation),"TransitionEvent"in window||delete sl.transitionend.transition);function bo(s){if(ud[s])return ud[s];if(!sl[s])return s;var o=sl[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in jv)return ud[s]=o[d];return s}var Wa=bo("animationend"),Vm=bo("animationiteration"),ls=bo("animationstart"),Xv=bo("transitionrun"),_o=bo("transitionstart"),iu=bo("transitioncancel"),So=bo("transitionend"),fd=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function pa(s,o){fd.set(s,o),it(o,[s])}var Fm=new WeakMap;function Ta(s,o){if(typeof s=="object"&&s!==null){var d=Fm.get(s);return d!==void 0?d:(o={value:s,source:o,stack:dn(o)},Fm.set(s,o),o)}return{value:s,source:o,stack:dn(o)}}var Ba=[],$s=0,hd=0;function Df(){for(var s=$s,o=hd=$s=0;o<s;){var d=Ba[o];Ba[o++]=null;var g=Ba[o];Ba[o++]=null;var _=Ba[o];Ba[o++]=null;var T=Ba[o];if(Ba[o++]=null,g!==null&&_!==null){var z=g.pending;z===null?_.next=_:(_.next=z.next,z.next=_),g.pending=_}T!==0&&Hm(d,_,T)}}function rl(s,o,d,g){Ba[$s++]=s,Ba[$s++]=o,Ba[$s++]=d,Ba[$s++]=g,hd|=g,s.lanes|=g,s=s.alternate,s!==null&&(s.lanes|=g)}function dd(s,o,d,g){return rl(s,o,d,g),au(s)}function wo(s,o){return rl(s,null,null,o),au(s)}function Hm(s,o,d){s.lanes|=d;var g=s.alternate;g!==null&&(g.lanes|=d);for(var _=!1,T=s.return;T!==null;)T.childLanes|=d,g=T.alternate,g!==null&&(g.childLanes|=d),T.tag===22&&(s=T.stateNode,s===null||s._visibility&1||(_=!0)),s=T,T=T.return;return s.tag===3?(T=s.stateNode,_&&o!==null&&(_=31-xt(d),s=T.hiddenUpdates,g=s[_],g===null?s[_]=[o]:g.push(o),o.lane=d|536870912),T):null}function au(s){if(50<eo)throw eo=0,gc=null,Error(i(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var ol={};function km(s,o,d,g){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(s,o,d,g){return new km(s,o,d,g)}function Nf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Vi(s,o){var d=s.alternate;return d===null?(d=cs(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function Gm(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function ma(s,o,d,g,_,T){var z=0;if(g=s,typeof s=="function")Nf(s)&&(z=1);else if(typeof s=="string")z=CU(s,d,Be.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=cs(31,d,o,_),s.elementType=I,s.lanes=T,s;case M:return ll(d.children,_,T,o);case C:z=8,_|=24;break;case E:return s=cs(12,d,o,_|2),s.elementType=E,s.lanes=T,s;case P:return s=cs(13,d,o,_),s.elementType=P,s.lanes=T,s;case U:return s=cs(19,d,o,_),s.elementType=U,s.lanes=T,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case w:case D:z=10;break e;case R:z=9;break e;case O:z=11;break e;case V:z=14;break e;case H:z=16,g=null;break e}z=29,d=Error(i(130,s===null?"null":typeof s,"")),g=null}return o=cs(z,d,o,_),o.elementType=s,o.type=g,o.lanes=T,o}function ll(s,o,d,g){return s=cs(7,s,g,o),s.lanes=d,s}function Lf(s,o,d){return s=cs(6,s,null,o),s.lanes=d,s}function pd(s,o,d){return o=cs(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var su=[],us=0,Of=null,ru=0,Aa=[],Ms=0,cl=null,Hr=1,kr="";function Mo(s,o){su[us++]=ru,su[us++]=Of,Of=s,ru=o}function md(s,o,d){Aa[Ms++]=Hr,Aa[Ms++]=kr,Aa[Ms++]=cl,cl=s;var g=Hr;s=kr;var _=32-xt(g)-1;g&=~(1<<_),d+=1;var T=32-xt(o)+_;if(30<T){var z=_-_%5;T=(g&(1<<z)-1).toString(32),g>>=z,_-=z,Hr=1<<32-xt(o)+_|d<<_|g,kr=T+s}else Hr=1<<T|d<<_|g,kr=s}function jm(s){s.return!==null&&(Mo(s,1),md(s,1,0))}function Xm(s){for(;s===Of;)Of=su[--us],su[us]=null,ru=su[--us],su[us]=null;for(;s===cl;)cl=Aa[--Ms],Aa[Ms]=null,kr=Aa[--Ms],Aa[Ms]=null,Hr=Aa[--Ms],Aa[Ms]=null}var qa=null,Mi=null,Gn=!1,er=null,Es=!1,gd=Error(i(519));function ul(s){var o=Error(i(418,""));throw $l(Ta(o,s)),gd}function Wv(s){var o=s.stateNode,d=s.type,g=s.memoizedProps;switch(o[Bi]=s,o[zi]=g,d){case"dialog":Bn("cancel",o),Bn("close",o);break;case"iframe":case"object":case"embed":Bn("load",o);break;case"video":case"audio":for(d=0;d<S0.length;d++)Bn(S0[d],o);break;case"source":Bn("error",o);break;case"img":case"image":case"link":Bn("error",o),Bn("load",o);break;case"details":Bn("toggle",o);break;case"input":Bn("invalid",o),Ri(o,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),zt(o);break;case"select":Bn("invalid",o);break;case"textarea":Bn("invalid",o),ia(o,g.value,g.defaultValue,g.children),zt(o)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||g.suppressHydrationWarning===!0||ET(o.textContent,d)?(g.popover!=null&&(Bn("beforetoggle",o),Bn("toggle",o)),g.onScroll!=null&&Bn("scroll",o),g.onScrollEnd!=null&&Bn("scrollend",o),g.onClick!=null&&(o.onclick=Vy),o=!0):o=!1,o||ul(s)}function Wm(s){for(qa=s.return;qa;)switch(qa.tag){case 5:case 13:Es=!1;return;case 27:case 3:Es=!0;return;default:qa=qa.return}}function yr(s){if(s!==qa)return!1;if(!Gn)return Wm(s),Gn=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||nS(s.type,s.memoizedProps)),d=!d),d&&Mi&&ul(s),Wm(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8)if(d=s.data,d==="/$"){if(o===0){Mi=zo(s.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;s=s.nextSibling}Mi=null}}else o===27?(o=Mi,Nu(s.type)?(s=rS,rS=null,Mi=s):Mi=o):Mi=qa?zo(s.stateNode.nextSibling):null;return!0}function ou(){Mi=qa=null,Gn=!1}function Yn(){var s=er;return s!==null&&(Yt===null?Yt=s:Yt.push.apply(Yt,s),er=null),s}function $l(s){er===null?er=[s]:er.push(s)}var qm=fe(null),fl=null,Eo=null;function hl(s,o,d){Ce(qm,o._currentValue),o._currentValue=d}function To(s){s._currentValue=qm.current,xe(qm)}function Ym(s,o,d){for(;s!==null;){var g=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,g!==null&&(g.childLanes|=o)):g!==null&&(g.childLanes&o)!==o&&(g.childLanes|=o),s===d)break;s=s.return}}function Uf(s,o,d,g){var _=s.child;for(_!==null&&(_.return=s);_!==null;){var T=_.dependencies;if(T!==null){var z=_.child;T=T.firstContext;e:for(;T!==null;){var W=T;T=_;for(var le=0;le<o.length;le++)if(W.context===o[le]){T.lanes|=d,W=T.alternate,W!==null&&(W.lanes|=d),Ym(T.return,d,s),g||(z=null);break e}T=W.next}}else if(_.tag===18){if(z=_.return,z===null)throw Error(i(341));z.lanes|=d,T=z.alternate,T!==null&&(T.lanes|=d),Ym(z,d,s),z=null}else z=_.child;if(z!==null)z.return=_;else for(z=_;z!==null;){if(z===s){z=null;break}if(_=z.sibling,_!==null){_.return=z.return,z=_;break}z=z.return}_=z}}function tr(s,o,d,g){s=null;for(var _=o,T=!1;_!==null;){if(!T){if((_.flags&524288)!==0)T=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var z=_.alternate;if(z===null)throw Error(i(387));if(z=z.memoizedProps,z!==null){var W=_.type;rs(_.pendingProps.value,z.value)||(s!==null?s.push(W):s=[W])}}else if(_===ze.current){if(z=_.alternate,z===null)throw Error(i(387));z.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(s!==null?s.push(C0):s=[C0])}_=_.return}s!==null&&Uf(o,s,d,g),o.flags|=262144}function If(s){for(s=s.firstContext;s!==null;){if(!rs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Gr(s){fl=s,Eo=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Di(s){return vd(fl,s)}function Pf(s,o){return fl===null&&Gr(s),vd(s,o)}function vd(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Eo===null){if(s===null)throw Error(i(308));Eo=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Eo=Eo.next=o;return d}var Zm=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,g){s.push(g)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},B_=n.unstable_scheduleCallback,qv=n.unstable_NormalPriority,Zi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yd(){return{controller:new Zm,data:new Map,refCount:0}}function lu(s){s.refCount--,s.refCount===0&&B_(qv,function(){s.controller.abort()})}var cu=null,Bf=0,yn=0,uu=null;function Ts(s,o){if(cu===null){var d=cu=[];Bf=0,yn=q_(),uu={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Bf++,o.then(xd,xd),o}function xd(){if(--Bf===0&&cu!==null){uu!==null&&(uu.status="fulfilled");var s=cu;cu=null,yn=0,uu=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function z_(s,o){var d=[],g={status:"pending",value:null,reason:null,then:function(_){d.push(_)}};return s.then(function(){g.status="fulfilled",g.value=o;for(var _=0;_<d.length;_++)(0,d[_])(o)},function(_){for(g.status="rejected",g.reason=_,_=0;_<d.length;_++)(0,d[_])(void 0)}),g}var zf=G.S;G.S=function(s,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Ts(s,o),zf!==null&&zf(s,o)};var nr=fe(null);function dl(){var s=nr.current;return s!==null?s:pn.pooledCache}function Vf(s,o){o===null?Ce(nr,nr.current):Ce(nr,o.pool)}function bd(){var s=dl();return s===null?null:{parent:Zi._currentValue,pool:s}}var Ff=Error(i(460)),Km=Error(i(474)),xr=Error(i(542)),Hf={then:function(){}};function _d(s){return s=s.status,s==="fulfilled"||s==="rejected"}function fu(){}function Sd(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(fu,fu),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Yv(s),s;default:if(typeof o.status=="string")o.then(fu,fu);else{if(s=pn,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=o,s.status="pending",s.then(function(g){if(o.status==="pending"){var _=o;_.status="fulfilled",_.value=g}},function(g){if(o.status==="pending"){var _=o;_.status="rejected",_.reason=g}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,Yv(s),s}throw ir=o,Ff}}var ir=null;function Qm(){if(ir===null)throw Error(i(459));var s=ir;return ir=null,s}function Yv(s){if(s===Ff||s===xr)throw Error(i(483))}var Ao=!1;function Jm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function an(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function jr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Co(s,o,d){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(Zn&2)!==0){var _=g.pending;return _===null?o.next=o:(o.next=_.next,_.next=o),g.pending=o,o=au(s),Hm(s,null,d),o}return rl(s,g,o,d),au(s)}function ec(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var g=o.lanes;g&=s.pendingLanes,d|=g,o.lanes=d,_t(s,d)}}function hu(s,o){var d=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var _=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var z={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?_=T=z:T=T.next=z,d=d.next}while(d!==null);T===null?_=T=o:T=T.next=o}else _=T=o;d={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:T,shared:g.shared,callbacks:g.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var $m=!1;function kf(){if($m){var s=uu;if(s!==null)throw s}}function du(s,o,d,g){$m=!1;var _=s.updateQueue;Ao=!1;var T=_.firstBaseUpdate,z=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var le=W,Ae=le.next;le.next=null,z===null?T=Ae:z.next=Ae,z=le;var We=s.alternate;We!==null&&(We=We.updateQueue,W=We.lastBaseUpdate,W!==z&&(W===null?We.firstBaseUpdate=Ae:W.next=Ae,We.lastBaseUpdate=le))}if(T!==null){var tt=_.baseState;z=0,We=Ae=le=null,W=T;do{var Le=W.lane&-536870913,Ue=Le!==W.lane;if(Ue?(Wt&Le)===Le:(g&Le)===Le){Le!==0&&Le===yn&&($m=!0),We!==null&&(We=We.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var on=s,$t=W;Le=o;var gi=d;switch($t.tag){case 1:if(on=$t.payload,typeof on=="function"){tt=on.call(gi,tt,Le);break e}tt=on;break e;case 3:on.flags=on.flags&-65537|128;case 0:if(on=$t.payload,Le=typeof on=="function"?on.call(gi,tt,Le):on,Le==null)break e;tt=m({},tt,Le);break e;case 2:Ao=!0}}Le=W.callback,Le!==null&&(s.flags|=64,Ue&&(s.flags|=8192),Ue=_.callbacks,Ue===null?_.callbacks=[Le]:Ue.push(Le))}else Ue={lane:Le,tag:W.tag,payload:W.payload,callback:W.callback,next:null},We===null?(Ae=We=Ue,le=tt):We=We.next=Ue,z|=Le;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;Ue=W,W=Ue.next,Ue.next=null,_.lastBaseUpdate=Ue,_.shared.pending=null}}while(!0);We===null&&(le=tt),_.baseState=le,_.firstBaseUpdate=Ae,_.lastBaseUpdate=We,T===null&&(_.shared.lanes=0),Ar|=z,s.lanes=z,s.memoizedState=tt}}function pu(s,o){if(typeof s!="function")throw Error(i(191,s));s.call(o)}function Zv(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)pu(d[s],o)}var mu=fe(null),wd=fe(0);function Kv(s,o){s=cr,Ce(wd,s),Ce(mu,o),cr=s|o.baseLanes}function e0(){Ce(wd,cr),Ce(mu,mu.current)}function Gf(){cr=wd.current,xe(mu),xe(wd)}var Ro=0,xn=null,$n=null,Ki=null,Md=!1,pl=!1,Ya=!1,aa=0,ar=0,Ca=null,Qv=0;function Fi(){throw Error(i(321))}function za(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!rs(s[d],o[d]))return!1;return!0}function Do(s,o,d,g,_,T){return Ro=T,xn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,G.H=s===null||s.memoizedState===null?Od:g0,Ya=!1,T=d(g,_),Ya=!1,pl&&(T=$v(o,d,g,_)),Jv(s),T}function Jv(s){G.H=Wf;var o=$n!==null&&$n.next!==null;if(Ro=0,Ki=$n=xn=null,Md=!1,ar=0,Ca=null,o)throw Error(i(300));s===null||ga||(s=s.dependencies,s!==null&&If(s)&&(ga=!0))}function $v(s,o,d,g){xn=s;var _=0;do{if(pl&&(Ca=null),ar=0,pl=!1,25<=_)throw Error(i(301));if(_+=1,Ki=$n=null,s.updateQueue!=null){var T=s.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}G.H=Ey,T=o(d,g)}while(pl);return T}function V_(){var s=G.H,o=s.useState()[0];return o=typeof o.then=="function"?br(o):o,s=s.useState()[0],($n!==null?$n.memoizedState:null)!==s&&(xn.flags|=1024),o}function t0(){var s=aa!==0;return aa=0,s}function Ed(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function n0(s){if(Md){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Md=!1}Ro=0,Ki=$n=xn=null,pl=!1,ar=aa=0,Ca=null}function Za(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ki===null?xn.memoizedState=Ki=s:Ki=Ki.next=s,Ki}function Qi(){if($n===null){var s=xn.alternate;s=s!==null?s.memoizedState:null}else s=$n.next;var o=Ki===null?xn.memoizedState:Ki.next;if(o!==null)Ki=o,$n=s;else{if(s===null)throw xn.alternate===null?Error(i(467)):Error(i(310));$n=s,s={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Ki===null?xn.memoizedState=Ki=s:Ki=Ki.next=s}return Ki}function ml(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function br(s){var o=ar;return ar+=1,Ca===null&&(Ca=[]),s=Sd(Ca,s,o),o=xn,(Ki===null?o.memoizedState:Ki.next)===null&&(o=o.alternate,G.H=o===null||o.memoizedState===null?Od:g0),s}function Td(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return br(s);if(s.$$typeof===D)return Di(s)}throw Error(i(438,String(s)))}function i0(s){var o=null,d=xn.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var g=xn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(o={data:g.data.map(function(_){return _.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=ml(),xn.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),g=0;g<s;g++)d[g]=L;return o.index++,d}function No(s,o){return typeof o=="function"?o(s):o}function gl(s){var o=Qi();return a0(o,$n,s)}function a0(s,o,d){var g=s.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=d;var _=s.baseQueue,T=g.pending;if(T!==null){if(_!==null){var z=_.next;_.next=T.next,T.next=z}o.baseQueue=_=T,g.pending=null}if(T=s.baseState,_===null)s.memoizedState=T;else{o=_.next;var W=z=null,le=null,Ae=o,We=!1;do{var tt=Ae.lane&-536870913;if(tt!==Ae.lane?(Wt&tt)===tt:(Ro&tt)===tt){var Le=Ae.revertLane;if(Le===0)le!==null&&(le=le.next={lane:0,revertLane:0,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),tt===yn&&(We=!0);else if((Ro&Le)===Le){Ae=Ae.next,Le===yn&&(We=!0);continue}else tt={lane:0,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},le===null?(W=le=tt,z=T):le=le.next=tt,xn.lanes|=Le,Ar|=Le;tt=Ae.action,Ya&&d(T,tt),T=Ae.hasEagerState?Ae.eagerState:d(T,tt)}else Le={lane:tt,revertLane:Ae.revertLane,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},le===null?(W=le=Le,z=T):le=le.next=Le,xn.lanes|=tt,Ar|=tt;Ae=Ae.next}while(Ae!==null&&Ae!==o);if(le===null?z=T:le.next=W,!rs(T,s.memoizedState)&&(ga=!0,We&&(d=uu,d!==null)))throw d;s.memoizedState=T,s.baseState=z,s.baseQueue=le,g.lastRenderedState=T}return _===null&&(g.lanes=0),[s.memoizedState,g.dispatch]}function s0(s){var o=Qi(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=s;var g=d.dispatch,_=d.pending,T=o.memoizedState;if(_!==null){d.pending=null;var z=_=_.next;do T=s(T,z.action),z=z.next;while(z!==_);rs(T,o.memoizedState)||(ga=!0),o.memoizedState=T,o.baseQueue===null&&(o.baseState=T),d.lastRenderedState=T}return[T,g]}function ey(s,o,d){var g=xn,_=Qi(),T=Gn;if(T){if(d===void 0)throw Error(i(407));d=d()}else d=o();var z=!rs(($n||_).memoizedState,d);z&&(_.memoizedState=d,ga=!0),_=_.queue;var W=ny.bind(null,g,_,s);if(yu(2048,8,W,[s]),_.getSnapshot!==o||z||Ki!==null&&Ki.memoizedState.tag&1){if(g.flags|=2048,vu(9,jf(),ty.bind(null,g,_,d,o),null),pn===null)throw Error(i(349));T||(Ro&124)!==0||gu(g,o,d)}return d}function gu(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=xn.updateQueue,o===null?(o=ml(),xn.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function ty(s,o,d,g){o.value=d,o.getSnapshot=g,iy(o)&&ay(s)}function ny(s,o,d){return d(function(){iy(o)&&ay(s)})}function iy(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!rs(s,d)}catch{return!0}}function ay(s){var o=wo(s,2);o!==null&&Ja(o,s,2)}function r0(s){var o=Za();if(typeof s=="function"){var d=s;if(s=d(),Ya){Oe(!0);try{d()}finally{Oe(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:s},o}function sy(s,o,d,g){return s.baseState=d,a0(s,$n,typeof g=="function"?g:No)}function F_(s,o,d,g,_){if(Ld(s))throw Error(i(485));if(s=o.action,s!==null){var T={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){T.listeners.push(z)}};G.T!==null?d(!0):T.isTransition=!1,g(T),d=o.pending,d===null?(T.next=o.pending=T,ry(o,T)):(T.next=d.next,o.pending=d.next=T)}}function ry(s,o){var d=o.action,g=o.payload,_=s.state;if(o.isTransition){var T=G.T,z={};G.T=z;try{var W=d(_,g),le=G.S;le!==null&&le(z,W),oy(s,o,W)}catch(Ae){o0(s,o,Ae)}finally{G.T=T}}else try{T=d(_,g),oy(s,o,T)}catch(Ae){o0(s,o,Ae)}}function oy(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){ly(s,o,g)},function(g){return o0(s,o,g)}):ly(s,o,d)}function ly(s,o,d){o.status="fulfilled",o.value=d,cy(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,ry(s,d)))}function o0(s,o,d){var g=s.pending;if(s.pending=null,g!==null){g=g.next;do o.status="rejected",o.reason=d,cy(o),o=o.next;while(o!==g)}s.action=null}function cy(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function l0(s,o){return o}function uy(s,o){if(Gn){var d=pn.formState;if(d!==null){e:{var g=xn;if(Gn){if(Mi){t:{for(var _=Mi,T=Es;_.nodeType!==8;){if(!T){_=null;break t}if(_=zo(_.nextSibling),_===null){_=null;break t}}T=_.data,_=T==="F!"||T==="F"?_:null}if(_){Mi=zo(_.nextSibling),g=_.data==="F!";break e}}ul(g)}g=!1}g&&(o=d[0])}}return d=Za(),d.memoizedState=d.baseState=o,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l0,lastRenderedState:o},d.queue=g,d=wy.bind(null,xn,g),g.dispatch=d,g=r0(!1),T=Nd.bind(null,xn,!1,g.queue),g=Za(),_={state:o,dispatch:null,action:s,pending:null},g.queue=_,d=F_.bind(null,xn,_,T,d),_.dispatch=d,g.memoizedState=s,[o,d,!1]}function fy(s){var o=Qi();return hy(o,$n,s)}function hy(s,o,d){if(o=a0(s,o,l0)[0],s=gl(No)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var g=br(o)}catch(z){throw z===Ff?xr:z}else g=o;o=Qi();var _=o.queue,T=_.dispatch;return d!==o.memoizedState&&(xn.flags|=2048,vu(9,jf(),H_.bind(null,_,d),null)),[g,T,s]}function H_(s,o){s.action=o}function dy(s){var o=Qi(),d=$n;if(d!==null)return hy(o,d,s);Qi(),o=o.memoizedState,d=Qi();var g=d.queue.dispatch;return d.memoizedState=s,[o,g,!1]}function vu(s,o,d,g){return s={tag:s,create:d,deps:g,inst:o,next:null},o=xn.updateQueue,o===null&&(o=ml(),xn.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(g=d.next,d.next=s,s.next=g,o.lastEffect=s),s}function jf(){return{destroy:void 0,resource:void 0}}function c0(){return Qi().memoizedState}function Ad(s,o,d,g){var _=Za();g=g===void 0?null:g,xn.flags|=s,_.memoizedState=vu(1|o,jf(),d,g)}function yu(s,o,d,g){var _=Qi();g=g===void 0?null:g;var T=_.memoizedState.inst;$n!==null&&g!==null&&za(g,$n.memoizedState.deps)?_.memoizedState=vu(o,T,d,g):(xn.flags|=s,_.memoizedState=vu(1|o,T,d,g))}function u0(s,o){Ad(8390656,8,s,o)}function f0(s,o){yu(2048,8,s,o)}function Cd(s,o){return yu(4,2,s,o)}function Rd(s,o){return yu(4,4,s,o)}function py(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function my(s,o,d){d=d!=null?d.concat([s]):null,yu(4,4,py.bind(null,o,s),d)}function h0(){}function gy(s,o){var d=Qi();o=o===void 0?null:o;var g=d.memoizedState;return o!==null&&za(o,g[1])?g[0]:(d.memoizedState=[s,o],s)}function d0(s,o){var d=Qi();o=o===void 0?null:o;var g=d.memoizedState;if(o!==null&&za(o,g[1]))return g[0];if(g=s(),Ya){Oe(!0);try{s()}finally{Oe(!1)}}return d.memoizedState=[g,o],g}function Dd(s,o,d){return d===void 0||(Ro&1073741824)!==0?s.memoizedState=o:(s.memoizedState=d,s=jd(),xn.lanes|=s,Ar|=s,d)}function vy(s,o,d,g){return rs(d,o)?d:mu.current!==null?(s=Dd(s,d,g),rs(s,o)||(ga=!0),s):(Ro&42)===0?(ga=!0,s.memoizedState=d):(s=jd(),xn.lanes|=s,Ar|=s,o)}function yy(s,o,d,g,_){var T=K.p;K.p=T!==0&&8>T?T:8;var z=G.T,W={};G.T=W,Nd(s,!1,o,d);try{var le=_(),Ae=G.S;if(Ae!==null&&Ae(W,le),le!==null&&typeof le=="object"&&typeof le.then=="function"){var We=z_(le,g);Xf(s,o,We,Oi(s))}else Xf(s,o,g,Oi(s))}catch(tt){Xf(s,o,{then:function(){},status:"rejected",reason:tt},Oi())}finally{K.p=T,G.T=z}}function k_(){}function p0(s,o,d,g){if(s.tag!==5)throw Error(i(476));var _=xy(s).queue;yy(s,_,o,$,d===null?k_:function(){return by(s),d(g)})}function xy(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:$},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function by(s){var o=xy(s).next.queue;Xf(s,o,{},Oi())}function m0(){return Di(C0)}function _y(){return Qi().memoizedState}function Sy(){return Qi().memoizedState}function G_(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=Oi();s=jr(d);var g=Co(o,s,d);g!==null&&(Ja(g,o,d),ec(g,o,d)),o={cache:yd()},s.payload=o;return}o=o.return}}function j_(s,o,d){var g=Oi();d={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Ld(s)?My(o,d):(d=dd(s,o,d,g),d!==null&&(Ja(d,s,g),As(d,o,g)))}function wy(s,o,d){var g=Oi();Xf(s,o,d,g)}function Xf(s,o,d,g){var _={lane:g,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Ld(s))My(o,_);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=o.lastRenderedReducer,T!==null))try{var z=o.lastRenderedState,W=T(z,d);if(_.hasEagerState=!0,_.eagerState=W,rs(W,z))return rl(s,o,_,0),pn===null&&Df(),!1}catch{}finally{}if(d=dd(s,o,_,g),d!==null)return Ja(d,s,g),As(d,o,g),!0}return!1}function Nd(s,o,d,g){if(g={lane:2,revertLane:q_(),action:g,hasEagerState:!1,eagerState:null,next:null},Ld(s)){if(o)throw Error(i(479))}else o=dd(s,d,g,2),o!==null&&Ja(o,s,2)}function Ld(s){var o=s.alternate;return s===xn||o!==null&&o===xn}function My(s,o){pl=Md=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function As(s,o,d){if((d&4194048)!==0){var g=o.lanes;g&=s.pendingLanes,d|=g,o.lanes=d,_t(s,d)}}var Wf={readContext:Di,use:Td,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useLayoutEffect:Fi,useInsertionEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useSyncExternalStore:Fi,useId:Fi,useHostTransitionStatus:Fi,useFormState:Fi,useActionState:Fi,useOptimistic:Fi,useMemoCache:Fi,useCacheRefresh:Fi},Od={readContext:Di,use:Td,useCallback:function(s,o){return Za().memoizedState=[s,o===void 0?null:o],s},useContext:Di,useEffect:u0,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Ad(4194308,4,py.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Ad(4194308,4,s,o)},useInsertionEffect:function(s,o){Ad(4,2,s,o)},useMemo:function(s,o){var d=Za();o=o===void 0?null:o;var g=s();if(Ya){Oe(!0);try{s()}finally{Oe(!1)}}return d.memoizedState=[g,o],g},useReducer:function(s,o,d){var g=Za();if(d!==void 0){var _=d(o);if(Ya){Oe(!0);try{d(o)}finally{Oe(!1)}}}else _=o;return g.memoizedState=g.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},g.queue=s,s=s.dispatch=j_.bind(null,xn,s),[g.memoizedState,s]},useRef:function(s){var o=Za();return s={current:s},o.memoizedState=s},useState:function(s){s=r0(s);var o=s.queue,d=wy.bind(null,xn,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:h0,useDeferredValue:function(s,o){var d=Za();return Dd(d,s,o)},useTransition:function(){var s=r0(!1);return s=yy.bind(null,xn,s.queue,!0,!1),Za().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var g=xn,_=Za();if(Gn){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),pn===null)throw Error(i(349));(Wt&124)!==0||gu(g,o,d)}_.memoizedState=d;var T={value:d,getSnapshot:o};return _.queue=T,u0(ny.bind(null,g,T,s),[s]),g.flags|=2048,vu(9,jf(),ty.bind(null,g,T,d,o),null),d},useId:function(){var s=Za(),o=pn.identifierPrefix;if(Gn){var d=kr,g=Hr;d=(g&~(1<<32-xt(g)-1)).toString(32)+d,o=""+o+"R"+d,d=aa++,0<d&&(o+="H"+d.toString(32)),o+=""}else d=Qv++,o=""+o+"r"+d.toString(32)+"";return s.memoizedState=o},useHostTransitionStatus:m0,useFormState:uy,useActionState:uy,useOptimistic:function(s){var o=Za();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=Nd.bind(null,xn,!0,d),d.dispatch=o,[s,o]},useMemoCache:i0,useCacheRefresh:function(){return Za().memoizedState=G_.bind(null,xn)}},g0={readContext:Di,use:Td,useCallback:gy,useContext:Di,useEffect:f0,useImperativeHandle:my,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:d0,useReducer:gl,useRef:c0,useState:function(){return gl(No)},useDebugValue:h0,useDeferredValue:function(s,o){var d=Qi();return vy(d,$n.memoizedState,s,o)},useTransition:function(){var s=gl(No)[0],o=Qi().memoizedState;return[typeof s=="boolean"?s:br(s),o]},useSyncExternalStore:ey,useId:_y,useHostTransitionStatus:m0,useFormState:fy,useActionState:fy,useOptimistic:function(s,o){var d=Qi();return sy(d,$n,s,o)},useMemoCache:i0,useCacheRefresh:Sy},Ey={readContext:Di,use:Td,useCallback:gy,useContext:Di,useEffect:f0,useImperativeHandle:my,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:d0,useReducer:s0,useRef:c0,useState:function(){return s0(No)},useDebugValue:h0,useDeferredValue:function(s,o){var d=Qi();return $n===null?Dd(d,s,o):vy(d,$n.memoizedState,s,o)},useTransition:function(){var s=s0(No)[0],o=Qi().memoizedState;return[typeof s=="boolean"?s:br(s),o]},useSyncExternalStore:ey,useId:_y,useHostTransitionStatus:m0,useFormState:dy,useActionState:dy,useOptimistic:function(s,o){var d=Qi();return $n!==null?sy(d,$n,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:i0,useCacheRefresh:Sy},tc=null,qf=0;function Yf(s){var o=qf;return qf+=1,tc===null&&(tc=[]),Sd(tc,s,o)}function xu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function Ud(s,o){throw o.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(o),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function Ty(s){var o=s._init;return o(s._payload)}function Ay(s){function o(be,ye){if(s){var Te=be.deletions;Te===null?(be.deletions=[ye],be.flags|=16):Te.push(ye)}}function d(be,ye){if(!s)return null;for(;ye!==null;)o(be,ye),ye=ye.sibling;return null}function g(be){for(var ye=new Map;be!==null;)be.key!==null?ye.set(be.key,be):ye.set(be.index,be),be=be.sibling;return ye}function _(be,ye){return be=Vi(be,ye),be.index=0,be.sibling=null,be}function T(be,ye,Te){return be.index=Te,s?(Te=be.alternate,Te!==null?(Te=Te.index,Te<ye?(be.flags|=67108866,ye):Te):(be.flags|=67108866,ye)):(be.flags|=1048576,ye)}function z(be){return s&&be.alternate===null&&(be.flags|=67108866),be}function W(be,ye,Te,Qe){return ye===null||ye.tag!==6?(ye=Lf(Te,be.mode,Qe),ye.return=be,ye):(ye=_(ye,Te),ye.return=be,ye)}function le(be,ye,Te,Qe){var Ft=Te.type;return Ft===M?We(be,ye,Te.props.children,Qe,Te.key):ye!==null&&(ye.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===H&&Ty(Ft)===ye.type)?(ye=_(ye,Te.props),xu(ye,Te),ye.return=be,ye):(ye=ma(Te.type,Te.key,Te.props,null,be.mode,Qe),xu(ye,Te),ye.return=be,ye)}function Ae(be,ye,Te,Qe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Te.containerInfo||ye.stateNode.implementation!==Te.implementation?(ye=pd(Te,be.mode,Qe),ye.return=be,ye):(ye=_(ye,Te.children||[]),ye.return=be,ye)}function We(be,ye,Te,Qe,Ft){return ye===null||ye.tag!==7?(ye=ll(Te,be.mode,Qe,Ft),ye.return=be,ye):(ye=_(ye,Te),ye.return=be,ye)}function tt(be,ye,Te){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Lf(""+ye,be.mode,Te),ye.return=be,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case x:return Te=ma(ye.type,ye.key,ye.props,null,be.mode,Te),xu(Te,ye),Te.return=be,Te;case b:return ye=pd(ye,be.mode,Te),ye.return=be,ye;case H:var Qe=ye._init;return ye=Qe(ye._payload),tt(be,ye,Te)}if(ve(ye)||J(ye))return ye=ll(ye,be.mode,Te,null),ye.return=be,ye;if(typeof ye.then=="function")return tt(be,Yf(ye),Te);if(ye.$$typeof===D)return tt(be,Pf(be,ye),Te);Ud(be,ye)}return null}function Le(be,ye,Te,Qe){var Ft=ye!==null?ye.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return Ft!==null?null:W(be,ye,""+Te,Qe);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:return Te.key===Ft?le(be,ye,Te,Qe):null;case b:return Te.key===Ft?Ae(be,ye,Te,Qe):null;case H:return Ft=Te._init,Te=Ft(Te._payload),Le(be,ye,Te,Qe)}if(ve(Te)||J(Te))return Ft!==null?null:We(be,ye,Te,Qe,null);if(typeof Te.then=="function")return Le(be,ye,Yf(Te),Qe);if(Te.$$typeof===D)return Le(be,ye,Pf(be,Te),Qe);Ud(be,Te)}return null}function Ue(be,ye,Te,Qe,Ft){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return be=be.get(Te)||null,W(ye,be,""+Qe,Ft);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case x:return be=be.get(Qe.key===null?Te:Qe.key)||null,le(ye,be,Qe,Ft);case b:return be=be.get(Qe.key===null?Te:Qe.key)||null,Ae(ye,be,Qe,Ft);case H:var Pn=Qe._init;return Qe=Pn(Qe._payload),Ue(be,ye,Te,Qe,Ft)}if(ve(Qe)||J(Qe))return be=be.get(Te)||null,We(ye,be,Qe,Ft,null);if(typeof Qe.then=="function")return Ue(be,ye,Te,Yf(Qe),Ft);if(Qe.$$typeof===D)return Ue(be,ye,Te,Pf(ye,Qe),Ft);Ud(ye,Qe)}return null}function on(be,ye,Te,Qe){for(var Ft=null,Pn=null,Xt=ye,nn=ye=0,Ha=null;Xt!==null&&nn<Te.length;nn++){Xt.index>nn?(Ha=Xt,Xt=null):Ha=Xt.sibling;var Qn=Le(be,Xt,Te[nn],Qe);if(Qn===null){Xt===null&&(Xt=Ha);break}s&&Xt&&Qn.alternate===null&&o(be,Xt),ye=T(Qn,ye,nn),Pn===null?Ft=Qn:Pn.sibling=Qn,Pn=Qn,Xt=Ha}if(nn===Te.length)return d(be,Xt),Gn&&Mo(be,nn),Ft;if(Xt===null){for(;nn<Te.length;nn++)Xt=tt(be,Te[nn],Qe),Xt!==null&&(ye=T(Xt,ye,nn),Pn===null?Ft=Xt:Pn.sibling=Xt,Pn=Xt);return Gn&&Mo(be,nn),Ft}for(Xt=g(Xt);nn<Te.length;nn++)Ha=Ue(Xt,be,nn,Te[nn],Qe),Ha!==null&&(s&&Ha.alternate!==null&&Xt.delete(Ha.key===null?nn:Ha.key),ye=T(Ha,ye,nn),Pn===null?Ft=Ha:Pn.sibling=Ha,Pn=Ha);return s&&Xt.forEach(function(Pu){return o(be,Pu)}),Gn&&Mo(be,nn),Ft}function $t(be,ye,Te,Qe){if(Te==null)throw Error(i(151));for(var Ft=null,Pn=null,Xt=ye,nn=ye=0,Ha=null,Qn=Te.next();Xt!==null&&!Qn.done;nn++,Qn=Te.next()){Xt.index>nn?(Ha=Xt,Xt=null):Ha=Xt.sibling;var Pu=Le(be,Xt,Qn.value,Qe);if(Pu===null){Xt===null&&(Xt=Ha);break}s&&Xt&&Pu.alternate===null&&o(be,Xt),ye=T(Pu,ye,nn),Pn===null?Ft=Pu:Pn.sibling=Pu,Pn=Pu,Xt=Ha}if(Qn.done)return d(be,Xt),Gn&&Mo(be,nn),Ft;if(Xt===null){for(;!Qn.done;nn++,Qn=Te.next())Qn=tt(be,Qn.value,Qe),Qn!==null&&(ye=T(Qn,ye,nn),Pn===null?Ft=Qn:Pn.sibling=Qn,Pn=Qn);return Gn&&Mo(be,nn),Ft}for(Xt=g(Xt);!Qn.done;nn++,Qn=Te.next())Qn=Ue(Xt,be,nn,Qn.value,Qe),Qn!==null&&(s&&Qn.alternate!==null&&Xt.delete(Qn.key===null?nn:Qn.key),ye=T(Qn,ye,nn),Pn===null?Ft=Qn:Pn.sibling=Qn,Pn=Qn);return s&&Xt.forEach(function(FU){return o(be,FU)}),Gn&&Mo(be,nn),Ft}function gi(be,ye,Te,Qe){if(typeof Te=="object"&&Te!==null&&Te.type===M&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case x:e:{for(var Ft=Te.key;ye!==null;){if(ye.key===Ft){if(Ft=Te.type,Ft===M){if(ye.tag===7){d(be,ye.sibling),Qe=_(ye,Te.props.children),Qe.return=be,be=Qe;break e}}else if(ye.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===H&&Ty(Ft)===ye.type){d(be,ye.sibling),Qe=_(ye,Te.props),xu(Qe,Te),Qe.return=be,be=Qe;break e}d(be,ye);break}else o(be,ye);ye=ye.sibling}Te.type===M?(Qe=ll(Te.props.children,be.mode,Qe,Te.key),Qe.return=be,be=Qe):(Qe=ma(Te.type,Te.key,Te.props,null,be.mode,Qe),xu(Qe,Te),Qe.return=be,be=Qe)}return z(be);case b:e:{for(Ft=Te.key;ye!==null;){if(ye.key===Ft)if(ye.tag===4&&ye.stateNode.containerInfo===Te.containerInfo&&ye.stateNode.implementation===Te.implementation){d(be,ye.sibling),Qe=_(ye,Te.children||[]),Qe.return=be,be=Qe;break e}else{d(be,ye);break}else o(be,ye);ye=ye.sibling}Qe=pd(Te,be.mode,Qe),Qe.return=be,be=Qe}return z(be);case H:return Ft=Te._init,Te=Ft(Te._payload),gi(be,ye,Te,Qe)}if(ve(Te))return on(be,ye,Te,Qe);if(J(Te)){if(Ft=J(Te),typeof Ft!="function")throw Error(i(150));return Te=Ft.call(Te),$t(be,ye,Te,Qe)}if(typeof Te.then=="function")return gi(be,ye,Yf(Te),Qe);if(Te.$$typeof===D)return gi(be,ye,Pf(be,Te),Qe);Ud(be,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,ye!==null&&ye.tag===6?(d(be,ye.sibling),Qe=_(ye,Te),Qe.return=be,be=Qe):(d(be,ye),Qe=Lf(Te,be.mode,Qe),Qe.return=be,be=Qe),z(be)):d(be,ye)}return function(be,ye,Te,Qe){try{qf=0;var Ft=gi(be,ye,Te,Qe);return tc=null,Ft}catch(Xt){if(Xt===Ff||Xt===xr)throw Xt;var Pn=cs(29,Xt,null,be.mode);return Pn.lanes=Qe,Pn.return=be,Pn}finally{}}}var nc=Ay(!0),Cy=Ay(!1),ri=fe(null),_r=null;function vl(s){var o=s.alternate;Ce(Hi,Hi.current&1),Ce(ri,s),_r===null&&(o===null||mu.current!==null||o.memoizedState!==null)&&(_r=s)}function Ry(s){if(s.tag===22){if(Ce(Hi,Hi.current),Ce(ri,s),_r===null){var o=s.alternate;o!==null&&o.memoizedState!==null&&(_r=s)}}else yl()}function yl(){Ce(Hi,Hi.current),Ce(ri,ri.current)}function Xr(s){xe(ri),_r===s&&(_r=null),xe(Hi)}var Hi=fe(0);function Lo(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||sS(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function xl(s,o,d,g){o=s.memoizedState,d=d(g,o),d=d==null?o:m({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var Ka={enqueueSetState:function(s,o,d){s=s._reactInternals;var g=Oi(),_=jr(g);_.payload=o,d!=null&&(_.callback=d),o=Co(s,_,g),o!==null&&(Ja(o,s,g),ec(o,s,g))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var g=Oi(),_=jr(g);_.tag=1,_.payload=o,d!=null&&(_.callback=d),o=Co(s,_,g),o!==null&&(Ja(o,s,g),ec(o,s,g))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Oi(),g=jr(d);g.tag=2,o!=null&&(g.callback=o),o=Co(s,g,d),o!==null&&(Ja(o,s,d),ec(o,s,d))}};function Dy(s,o,d,g,_,T,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,z):o.prototype&&o.prototype.isPureReactComponent?!vr(d,g)||!vr(_,T):!0}function Ny(s,o,d,g){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,g),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,g),o.state!==s&&Ka.enqueueReplaceState(o,o.state,null)}function Wr(s,o){var d=o;if("ref"in o){d={};for(var g in o)g!=="ref"&&(d[g]=o[g])}if(s=s.defaultProps){d===o&&(d=m({},d));for(var _ in s)d[_]===void 0&&(d[_]=s[_])}return d}var ic=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Zf(s){ic(s)}function Id(s){console.error(s)}function Ly(s){ic(s)}function Pd(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(g){setTimeout(function(){throw g})}}function sr(s,o,d){try{var g=s.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Bd(s,o,d){return d=jr(d),d.tag=3,d.payload={element:null},d.callback=function(){Pd(s,o)},d}function Oy(s){return s=jr(s),s.tag=3,s}function zd(s,o,d,g){var _=d.type.getDerivedStateFromError;if(typeof _=="function"){var T=g.value;s.payload=function(){return _(T)},s.callback=function(){sr(o,d,g)}}var z=d.stateNode;z!==null&&typeof z.componentDidCatch=="function"&&(s.callback=function(){sr(o,d,g),typeof _!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var W=g.stack;this.componentDidCatch(g.value,{componentStack:W!==null?W:""})})}function X_(s,o,d,g,_){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(o=d.alternate,o!==null&&tr(o,d,_,!0),d=ri.current,d!==null){switch(d.tag){case 13:return _r===null?c():d.alternate===null&&xi===0&&(xi=3),d.flags&=-257,d.flags|=65536,d.lanes=_,g===Hf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([g]):o.add(g),Pe(s,g,_)),!1;case 22:return d.flags|=65536,g===Hf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([g]):d.add(g)),Pe(s,g,_)),!1}throw Error(i(435,d.tag))}return Pe(s,g,_),c(),!1}if(Gn)return o=ri.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=_,g!==gd&&(s=Error(i(422),{cause:g}),$l(Ta(s,d)))):(g!==gd&&(o=Error(i(423),{cause:g}),$l(Ta(o,d))),s=s.current.alternate,s.flags|=65536,_&=-_,s.lanes|=_,g=Ta(g,d),_=Bd(s.stateNode,g,_),hu(s,_),xi!==4&&(xi=2)),!1;var T=Error(i(520),{cause:g});if(T=Ta(T,d),Kn===null?Kn=[T]:Kn.push(T),xi!==4&&(xi=2),o===null)return!0;g=Ta(g,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=_&-_,d.lanes|=s,s=Bd(d.stateNode,g,s),hu(d,s),!1;case 1:if(o=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Is===null||!Is.has(T))))return d.flags|=65536,_&=-_,d.lanes|=_,_=Oy(_),zd(_,s,d,g),hu(d,_),!1}d=d.return}while(d!==null);return!1}var Uy=Error(i(461)),ga=!1;function ki(s,o,d,g){o.child=s===null?Cy(o,null,d,g):nc(o,s.child,d,g)}function fs(s,o,d,g,_){d=d.render;var T=o.ref;if("ref"in g){var z={};for(var W in g)W!=="ref"&&(z[W]=g[W])}else z=g;return Gr(o),g=Do(s,o,d,z,T,_),W=t0(),s!==null&&!ga?(Ed(s,o,_),va(s,o,_)):(Gn&&W&&jm(o),o.flags|=1,ki(s,o,g,_),o.child)}function hs(s,o,d,g,_){if(s===null){var T=d.type;return typeof T=="function"&&!Nf(T)&&T.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=T,v0(s,o,T,g,_)):(s=ma(d.type,null,g,o,o.mode,_),s.ref=o.ref,s.return=o,o.child=s)}if(T=s.child,!Kf(s,_)){var z=T.memoizedProps;if(d=d.compare,d=d!==null?d:vr,d(z,g)&&s.ref===o.ref)return va(s,o,_)}return o.flags|=1,s=Vi(T,g),s.ref=o.ref,s.return=o,o.child=s}function v0(s,o,d,g,_){if(s!==null){var T=s.memoizedProps;if(vr(T,g)&&s.ref===o.ref)if(ga=!1,o.pendingProps=g=T,Kf(s,_))(s.flags&131072)!==0&&(ga=!0);else return o.lanes=s.lanes,va(s,o,_)}return bu(s,o,d,g,_)}function ac(s,o,d){var g=o.pendingProps,_=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden"){if((o.flags&128)!==0){if(g=T!==null?T.baseLanes|d:d,s!==null){for(_=o.child=s.child,T=0;_!==null;)T=T|_.lanes|_.childLanes,_=_.sibling;o.childLanes=T&~g}else o.childLanes=0,o.child=null;return sc(s,o,g,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&Vf(o,T!==null?T.cachePool:null),T!==null?Kv(o,T):e0(),Ry(o);else return o.lanes=o.childLanes=536870912,sc(s,o,T!==null?T.baseLanes|d:d,d)}else T!==null?(Vf(o,T.cachePool),Kv(o,T),yl(),o.memoizedState=null):(s!==null&&Vf(o,null),e0(),yl());return ki(s,o,_,d),o.child}function sc(s,o,d,g){var _=dl();return _=_===null?null:{parent:Zi._currentValue,pool:_},o.memoizedState={baseLanes:d,cachePool:_},s!==null&&Vf(o,null),e0(),Ry(o),s!==null&&tr(s,o,g,!0),null}function rc(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function bu(s,o,d,g,_){return Gr(o),d=Do(s,o,d,g,void 0,_),g=t0(),s!==null&&!ga?(Ed(s,o,_),va(s,o,_)):(Gn&&g&&jm(o),o.flags|=1,ki(s,o,d,_),o.child)}function Cs(s,o,d,g,_,T){return Gr(o),o.updateQueue=null,d=$v(o,g,d,_),Jv(s),g=t0(),s!==null&&!ga?(Ed(s,o,T),va(s,o,T)):(Gn&&g&&jm(o),o.flags|=1,ki(s,o,d,T),o.child)}function Rs(s,o,d,g,_){if(Gr(o),o.stateNode===null){var T=ol,z=d.contextType;typeof z=="object"&&z!==null&&(T=Di(z)),T=new d(g,T),o.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Ka,o.stateNode=T,T._reactInternals=o,T=o.stateNode,T.props=g,T.state=o.memoizedState,T.refs={},Jm(o),z=d.contextType,T.context=typeof z=="object"&&z!==null?Di(z):ol,T.state=o.memoizedState,z=d.getDerivedStateFromProps,typeof z=="function"&&(xl(o,d,z,g),T.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(z=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),z!==T.state&&Ka.enqueueReplaceState(T,T.state,null),du(o,g,T,_),kf(),T.state=o.memoizedState),typeof T.componentDidMount=="function"&&(o.flags|=4194308),g=!0}else if(s===null){T=o.stateNode;var W=o.memoizedProps,le=Wr(d,W);T.props=le;var Ae=T.context,We=d.contextType;z=ol,typeof We=="object"&&We!==null&&(z=Di(We));var tt=d.getDerivedStateFromProps;We=typeof tt=="function"||typeof T.getSnapshotBeforeUpdate=="function",W=o.pendingProps!==W,We||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(W||Ae!==z)&&Ny(o,T,g,z),Ao=!1;var Le=o.memoizedState;T.state=Le,du(o,g,T,_),kf(),Ae=o.memoizedState,W||Le!==Ae||Ao?(typeof tt=="function"&&(xl(o,d,tt,g),Ae=o.memoizedState),(le=Ao||Dy(o,d,le,g,Le,Ae,z))?(We||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=g,o.memoizedState=Ae),T.props=g,T.state=Ae,T.context=z,g=le):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),g=!1)}else{T=o.stateNode,an(s,o),z=o.memoizedProps,We=Wr(d,z),T.props=We,tt=o.pendingProps,Le=T.context,Ae=d.contextType,le=ol,typeof Ae=="object"&&Ae!==null&&(le=Di(Ae)),W=d.getDerivedStateFromProps,(Ae=typeof W=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(z!==tt||Le!==le)&&Ny(o,T,g,le),Ao=!1,Le=o.memoizedState,T.state=Le,du(o,g,T,_),kf();var Ue=o.memoizedState;z!==tt||Le!==Ue||Ao||s!==null&&s.dependencies!==null&&If(s.dependencies)?(typeof W=="function"&&(xl(o,d,W,g),Ue=o.memoizedState),(We=Ao||Dy(o,d,We,g,Le,Ue,le)||s!==null&&s.dependencies!==null&&If(s.dependencies))?(Ae||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(g,Ue,le),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(g,Ue,le)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||z===s.memoizedProps&&Le===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Le===s.memoizedState||(o.flags|=1024),o.memoizedProps=g,o.memoizedState=Ue),T.props=g,T.state=Ue,T.context=le,g=We):(typeof T.componentDidUpdate!="function"||z===s.memoizedProps&&Le===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||z===s.memoizedProps&&Le===s.memoizedState||(o.flags|=1024),g=!1)}return T=g,rc(s,o),g=(o.flags&128)!==0,T||g?(T=o.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:T.render(),o.flags|=1,s!==null&&g?(o.child=nc(o,s.child,null,_),o.child=nc(o,null,d,_)):ki(s,o,d,_),o.memoizedState=T.state,s=o.child):s=va(s,o,_),s}function bl(s,o,d,g){return ou(),o.flags|=256,ki(s,o,d,g),o.child}var Sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wr(s){return{baseLanes:s,cachePool:bd()}}function sa(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=ur),s}function _u(s,o,d){var g=o.pendingProps,_=!1,T=(o.flags&128)!==0,z;if((z=T)||(z=s!==null&&s.memoizedState===null?!1:(Hi.current&2)!==0),z&&(_=!0,o.flags&=-129),z=(o.flags&32)!==0,o.flags&=-33,s===null){if(Gn){if(_?vl(o):yl(),Gn){var W=Mi,le;if(le=W){e:{for(le=W,W=Es;le.nodeType!==8;){if(!W){W=null;break e}if(le=zo(le.nextSibling),le===null){W=null;break e}}W=le}W!==null?(o.memoizedState={dehydrated:W,treeContext:cl!==null?{id:Hr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},le=cs(18,null,null,0),le.stateNode=W,le.return=o,o.child=le,qa=o,Mi=null,le=!0):le=!1}le||ul(o)}if(W=o.memoizedState,W!==null&&(W=W.dehydrated,W!==null))return sS(W)?o.lanes=32:o.lanes=536870912,null;Xr(o)}return W=g.children,g=g.fallback,_?(yl(),_=o.mode,W=oc({mode:"hidden",children:W},_),g=ll(g,_,d,null),W.return=o,g.return=o,W.sibling=g,o.child=W,_=o.child,_.memoizedState=wr(d),_.childLanes=sa(s,z,d),o.memoizedState=Sr,g):(vl(o),qr(o,W))}if(le=s.memoizedState,le!==null&&(W=le.dehydrated,W!==null)){if(T)o.flags&256?(vl(o),o.flags&=-257,o=Ra(s,o,d)):o.memoizedState!==null?(yl(),o.child=s.child,o.flags|=128,o=null):(yl(),_=g.fallback,W=o.mode,g=oc({mode:"visible",children:g.children},W),_=ll(_,W,d,null),_.flags|=2,g.return=o,_.return=o,g.sibling=_,o.child=g,nc(o,s.child,null,d),g=o.child,g.memoizedState=wr(d),g.childLanes=sa(s,z,d),o.memoizedState=Sr,o=_);else if(vl(o),sS(W)){if(z=W.nextSibling&&W.nextSibling.dataset,z)var Ae=z.dgst;z=Ae,g=Error(i(419)),g.stack="",g.digest=z,$l({value:g,source:null,stack:null}),o=Ra(s,o,d)}else if(ga||tr(s,o,d,!1),z=(d&s.childLanes)!==0,ga||z){if(z=pn,z!==null&&(g=d&-d,g=(g&42)!==0?1:Pt(g),g=(g&(z.suspendedLanes|d))!==0?0:g,g!==0&&g!==le.retryLane))throw le.retryLane=g,wo(s,g),Ja(z,s,g),Uy;W.data==="$?"||c(),o=Ra(s,o,d)}else W.data==="$?"?(o.flags|=192,o.child=s.child,o=null):(s=le.treeContext,Mi=zo(W.nextSibling),qa=o,Gn=!0,er=null,Es=!1,s!==null&&(Aa[Ms++]=Hr,Aa[Ms++]=kr,Aa[Ms++]=cl,Hr=s.id,kr=s.overflow,cl=o),o=qr(o,g.children),o.flags|=4096);return o}return _?(yl(),_=g.fallback,W=o.mode,le=s.child,Ae=le.sibling,g=Vi(le,{mode:"hidden",children:g.children}),g.subtreeFlags=le.subtreeFlags&65011712,Ae!==null?_=Vi(Ae,_):(_=ll(_,W,d,null),_.flags|=2),_.return=o,g.return=o,g.sibling=_,o.child=g,g=_,_=o.child,W=s.child.memoizedState,W===null?W=wr(d):(le=W.cachePool,le!==null?(Ae=Zi._currentValue,le=le.parent!==Ae?{parent:Ae,pool:Ae}:le):le=bd(),W={baseLanes:W.baseLanes|d,cachePool:le}),_.memoizedState=W,_.childLanes=sa(s,z,d),o.memoizedState=Sr,g):(vl(o),d=s.child,s=d.sibling,d=Vi(d,{mode:"visible",children:g.children}),d.return=o,d.sibling=null,s!==null&&(z=o.deletions,z===null?(o.deletions=[s],o.flags|=16):z.push(s)),o.child=d,o.memoizedState=null,d)}function qr(s,o){return o=oc({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function oc(s,o){return s=cs(22,s,null,o),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Ra(s,o,d){return nc(o,s.child,null,d),s=qr(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Da(s,o,d){s.lanes|=o;var g=s.alternate;g!==null&&(g.lanes|=o),Ym(s.return,o,d)}function Vn(s,o,d,g,_){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:_}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=d,T.tailMode=_)}function rr(s,o,d){var g=o.pendingProps,_=g.revealOrder,T=g.tail;if(ki(s,o,g.children,d),g=Hi.current,(g&2)!==0)g=g&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Da(s,d,o);else if(s.tag===19)Da(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}switch(Ce(Hi,g),_){case"forwards":for(d=o.child,_=null;d!==null;)s=d.alternate,s!==null&&Lo(s)===null&&(_=d),d=d.sibling;d=_,d===null?(_=o.child,o.child=null):(_=d.sibling,d.sibling=null),Vn(o,!1,_,d,T);break;case"backwards":for(d=null,_=o.child,o.child=null;_!==null;){if(s=_.alternate,s!==null&&Lo(s)===null){o.child=_;break}s=_.sibling,_.sibling=d,d=_,_=s}Vn(o,!0,d,null,T);break;case"together":Vn(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function va(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Ar|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(tr(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(i(153));if(o.child!==null){for(s=o.child,d=Vi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=Vi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Kf(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&If(s)))}function or(s,o,d){switch(o.tag){case 3:Ke(o,o.stateNode.containerInfo),hl(o,Zi,s.memoizedState.cache),ou();break;case 27:case 5:Rt(o);break;case 4:Ke(o,o.stateNode.containerInfo);break;case 10:hl(o,o.type,o.memoizedProps.value);break;case 13:var g=o.memoizedState;if(g!==null)return g.dehydrated!==null?(vl(o),o.flags|=128,null):(d&o.child.childLanes)!==0?_u(s,o,d):(vl(o),s=va(s,o,d),s!==null?s.sibling:null);vl(o);break;case 19:var _=(s.flags&128)!==0;if(g=(d&o.childLanes)!==0,g||(tr(s,o,d,!1),g=(d&o.childLanes)!==0),_){if(g)return rr(s,o,d);o.flags|=128}if(_=o.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ce(Hi,Hi.current),g)break;return null;case 22:case 23:return o.lanes=0,ac(s,o,d);case 24:hl(o,Zi,s.memoizedState.cache)}return va(s,o,d)}function lc(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)ga=!0;else{if(!Kf(s,d)&&(o.flags&128)===0)return ga=!1,or(s,o,d);ga=(s.flags&131072)!==0}else ga=!1,Gn&&(o.flags&1048576)!==0&&md(o,ru,o.index);switch(o.lanes=0,o.tag){case 16:e:{s=o.pendingProps;var g=o.elementType,_=g._init;if(g=_(g._payload),o.type=g,typeof g=="function")Nf(g)?(s=Wr(g,s),o.tag=1,o=Rs(null,o,g,s,d)):(o.tag=0,o=bu(null,o,g,s,d));else{if(g!=null){if(_=g.$$typeof,_===O){o.tag=11,o=fs(null,o,g,s,d);break e}else if(_===V){o.tag=14,o=hs(null,o,g,s,d);break e}}throw o=de(g)||g,Error(i(306,o,""))}}return o;case 0:return bu(s,o,o.type,o.pendingProps,d);case 1:return g=o.type,_=Wr(g,o.pendingProps),Rs(s,o,g,_,d);case 3:e:{if(Ke(o,o.stateNode.containerInfo),s===null)throw Error(i(387));g=o.pendingProps;var T=o.memoizedState;_=T.element,an(s,o),du(o,g,null,d);var z=o.memoizedState;if(g=z.cache,hl(o,Zi,g),g!==T.cache&&Uf(o,[Zi],d,!0),kf(),g=z.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:z.cache},o.updateQueue.baseState=T,o.memoizedState=T,o.flags&256){o=bl(s,o,g,d);break e}else if(g!==_){_=Ta(Error(i(424)),o),$l(_),o=bl(s,o,g,d);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Mi=zo(s.firstChild),qa=o,Gn=!0,er=null,Es=!0,d=Cy(o,null,g,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(ou(),g===_){o=va(s,o,d);break e}ki(s,o,g,d)}o=o.child}return o;case 26:return rc(s,o),s===null?(d=IT(o.type,null,o.pendingProps,null))?o.memoizedState=d:Gn||(d=o.type,s=o.pendingProps,g=Fy(ge.current).createElement(d),g[Bi]=o,g[zi]=s,$a(g,d,s),Ne(g),o.stateNode=g):o.memoizedState=IT(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return Rt(o),s===null&&Gn&&(g=o.stateNode=LT(o.type,o.pendingProps,ge.current),qa=o,Es=!0,_=Mi,Nu(o.type)?(rS=_,Mi=zo(g.firstChild)):Mi=_),ki(s,o,o.pendingProps.children,d),rc(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&Gn&&((_=g=Mi)&&(g=mU(g,o.type,o.pendingProps,Es),g!==null?(o.stateNode=g,qa=o,Mi=zo(g.firstChild),Es=!1,_=!0):_=!1),_||ul(o)),Rt(o),_=o.type,T=o.pendingProps,z=s!==null?s.memoizedProps:null,g=T.children,nS(_,T)?g=null:z!==null&&nS(_,z)&&(o.flags|=32),o.memoizedState!==null&&(_=Do(s,o,V_,null,null,d),C0._currentValue=_),rc(s,o),ki(s,o,g,d),o.child;case 6:return s===null&&Gn&&((s=d=Mi)&&(d=gU(d,o.pendingProps,Es),d!==null?(o.stateNode=d,qa=o,Mi=null,s=!0):s=!1),s||ul(o)),null;case 13:return _u(s,o,d);case 4:return Ke(o,o.stateNode.containerInfo),g=o.pendingProps,s===null?o.child=nc(o,null,g,d):ki(s,o,g,d),o.child;case 11:return fs(s,o,o.type,o.pendingProps,d);case 7:return ki(s,o,o.pendingProps,d),o.child;case 8:return ki(s,o,o.pendingProps.children,d),o.child;case 12:return ki(s,o,o.pendingProps.children,d),o.child;case 10:return g=o.pendingProps,hl(o,o.type,g.value),ki(s,o,g.children,d),o.child;case 9:return _=o.type._context,g=o.pendingProps.children,Gr(o),_=Di(_),g=g(_),o.flags|=1,ki(s,o,g,d),o.child;case 14:return hs(s,o,o.type,o.pendingProps,d);case 15:return v0(s,o,o.type,o.pendingProps,d);case 19:return rr(s,o,d);case 31:return g=o.pendingProps,d=o.mode,g={mode:g.mode,children:g.children},s===null?(d=oc(g,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=Vi(s.child,g),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return ac(s,o,d);case 24:return Gr(o),g=Di(Zi),s===null?(_=dl(),_===null&&(_=pn,T=yd(),_.pooledCache=T,T.refCount++,T!==null&&(_.pooledCacheLanes|=d),_=T),o.memoizedState={parent:g,cache:_},Jm(o),hl(o,Zi,_)):((s.lanes&d)!==0&&(an(s,o),du(o,null,null,d),kf()),_=s.memoizedState,T=o.memoizedState,_.parent!==g?(_={parent:g,cache:g},o.memoizedState=_,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=_),hl(o,Zi,g)):(g=T.cache,hl(o,Zi,g),g!==_.cache&&Uf(o,[Zi],d,!0))),ki(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Mr(s){s.flags|=4}function Qf(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!FT(o)){if(o=ri.current,o!==null&&((Wt&4194048)===Wt?_r!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||o!==_r))throw ir=Hf,Km;s.flags|=8192}}function Oo(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ee():536870912,s.lanes|=o,Hn|=o)}function cc(s,o){if(!Gn)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function hi(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,g=0;if(o)for(var _=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)d|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=d,o}function y0(s,o,d){var g=o.pendingProps;switch(Xm(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hi(o),null;case 1:return hi(o),null;case 3:return d=o.stateNode,g=null,s!==null&&(g=s.memoizedState.cache),o.memoizedState.cache!==g&&(o.flags|=2048),To(Zi),St(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(yr(o)?Mr(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Yn())),hi(o),null;case 26:return d=o.memoizedState,s===null?(Mr(o),d!==null?(hi(o),Qf(o,d)):(hi(o),o.flags&=-16777217)):d?d!==s.memoizedState?(Mr(o),hi(o),Qf(o,d)):(hi(o),o.flags&=-16777217):(s.memoizedProps!==g&&Mr(o),hi(o),o.flags&=-16777217),null;case 27:Gt(o),d=ge.current;var _=o.type;if(s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Mr(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return hi(o),null}s=Be.current,yr(o)?Wv(o):(s=LT(_,g,d),o.stateNode=s,Mr(o))}return hi(o),null;case 5:if(Gt(o),d=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==g&&Mr(o);else{if(!g){if(o.stateNode===null)throw Error(i(166));return hi(o),null}if(s=Be.current,yr(o))Wv(o);else{switch(_=Fy(ge.current),s){case 1:s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":s=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":s=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":s=_.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?s.multiple=!0:g.size&&(s.size=g.size);break;default:s=typeof g.is=="string"?_.createElement(d,{is:g.is}):_.createElement(d)}}s[Bi]=o,s[zi]=g;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)s.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=s;e:switch($a(s,d,g),d){case"button":case"input":case"select":case"textarea":s=!!g.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Mr(o)}}return hi(o),o.flags&=-16777217,null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==g&&Mr(o);else{if(typeof g!="string"&&o.stateNode===null)throw Error(i(166));if(s=ge.current,yr(o)){if(s=o.stateNode,d=o.memoizedProps,g=null,_=qa,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}s[Bi]=o,s=!!(s.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||ET(s.nodeValue,d)),s||ul(o)}else s=Fy(s).createTextNode(g),s[Bi]=o,o.stateNode=s}return hi(o),null;case 13:if(g=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_=yr(o),g!==null&&g.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=o.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Bi]=o}else ou(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hi(o),_=!1}else _=Yn(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return o.flags&256?(Xr(o),o):(Xr(o),null)}if(Xr(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=g!==null,s=s!==null&&s.memoizedState!==null,d){g=o.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool);var T=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(T=g.memoizedState.cachePool.pool),T!==_&&(g.flags|=2048)}return d!==s&&d&&(o.child.flags|=8192),Oo(o,o.updateQueue),hi(o),null;case 4:return St(),s===null&&Q_(o.stateNode.containerInfo),hi(o),null;case 10:return To(o.type),hi(o),null;case 19:if(xe(Hi),_=o.memoizedState,_===null)return hi(o),null;if(g=(o.flags&128)!==0,T=_.rendering,T===null)if(g)cc(_,!1);else{if(xi!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(T=Lo(s),T!==null){for(o.flags|=128,cc(_,!1),s=T.updateQueue,o.updateQueue=s,Oo(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)Gm(d,s),d=d.sibling;return Ce(Hi,Hi.current&1|2),o.child}s=s.sibling}_.tail!==null&&$e()>Va&&(o.flags|=128,g=!0,cc(_,!1),o.lanes=4194304)}else{if(!g)if(s=Lo(T),s!==null){if(o.flags|=128,g=!0,s=s.updateQueue,o.updateQueue=s,Oo(o,s),cc(_,!0),_.tail===null&&_.tailMode==="hidden"&&!T.alternate&&!Gn)return hi(o),null}else 2*$e()-_.renderingStartTime>Va&&d!==536870912&&(o.flags|=128,g=!0,cc(_,!1),o.lanes=4194304);_.isBackwards?(T.sibling=o.child,o.child=T):(s=_.last,s!==null?s.sibling=T:o.child=T,_.last=T)}return _.tail!==null?(o=_.tail,_.rendering=o,_.tail=o.sibling,_.renderingStartTime=$e(),o.sibling=null,s=Hi.current,Ce(Hi,g?s&1|2:s&1),o):(hi(o),null);case 22:case 23:return Xr(o),Gf(),g=o.memoizedState!==null,s!==null?s.memoizedState!==null!==g&&(o.flags|=8192):g&&(o.flags|=8192),g?(d&536870912)!==0&&(o.flags&128)===0&&(hi(o),o.subtreeFlags&6&&(o.flags|=8192)):hi(o),d=o.updateQueue,d!==null&&Oo(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),g=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(g=o.memoizedState.cachePool.pool),g!==d&&(o.flags|=2048),s!==null&&xe(nr),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),To(Zi),hi(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function Su(s,o){switch(Xm(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return To(Zi),St(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Gt(o),null;case 13:if(Xr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ou()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return xe(Hi),null;case 4:return St(),null;case 10:return To(o.type),null;case 22:case 23:return Xr(o),Gf(),s!==null&&xe(nr),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return To(Zi),null;case 25:return null;default:return null}}function wu(s,o){switch(Xm(o),o.tag){case 3:To(Zi),St();break;case 26:case 27:case 5:Gt(o);break;case 4:St();break;case 13:Xr(o);break;case 19:xe(Hi);break;case 10:To(o.type);break;case 22:case 23:Xr(o),Gf(),s!==null&&xe(nr);break;case 24:To(Zi)}}function uc(s,o){try{var d=o.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var _=g.next;d=_;do{if((d.tag&s)===s){g=void 0;var T=d.create,z=d.inst;g=T(),z.destroy=g}d=d.next}while(d!==_)}}catch(W){me(o,o.return,W)}}function Ds(s,o,d){try{var g=o.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var T=_.next;g=T;do{if((g.tag&s)===s){var z=g.inst,W=z.destroy;if(W!==void 0){z.destroy=void 0,_=o;var le=d,Ae=W;try{Ae()}catch(We){me(_,le,We)}}}g=g.next}while(g!==T)}}catch(We){me(o,o.return,We)}}function fc(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{Zv(o,d)}catch(g){me(s,s.return,g)}}}function Uo(s,o,d){d.props=Wr(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(g){me(s,o,g)}}function hc(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var g=s.stateNode;break;case 30:g=s.stateNode;break;default:g=s.stateNode}typeof d=="function"?s.refCleanup=d(g):d.current=g}}catch(_){me(s,o,_)}}function Yr(s,o){var d=s.ref,g=s.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(_){me(s,o,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(_){me(s,o,_)}else d.current=null}function Mu(s){var o=s.type,d=s.memoizedProps,g=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(_){me(s,s.return,_)}}function Jf(s,o,d){try{var g=s.stateNode;uU(g,s.type,d,o),g[zi]=o}catch(_){me(s,s.return,_)}}function $f(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Nu(s.type)||s.tag===4}function _l(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||$f(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Nu(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sl(s,o,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Vy));else if(g!==4&&(g===27&&Nu(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(Sl(s,o,d),s=s.sibling;s!==null;)Sl(s,o,d),s=s.sibling}function wl(s,o,d){var g=s.tag;if(g===5||g===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(g!==4&&(g===27&&Nu(s.type)&&(d=s.stateNode),s=s.child,s!==null))for(wl(s,o,d),s=s.sibling;s!==null;)wl(s,o,d),s=s.sibling}function Ml(s){var o=s.stateNode,d=s.memoizedProps;try{for(var g=s.type,_=o.attributes;_.length;)o.removeAttributeNode(_[0]);$a(o,g,d),o[Bi]=s,o[zi]=d}catch(T){me(s,s.return,T)}}var Zr=!1,di=!1,Eu=!1,Ns=typeof WeakSet=="function"?WeakSet:Set,oi=null;function ra(s,o){if(s=s.containerInfo,eS=Wy,s=Pm(s),Af(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var _=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var z=0,W=-1,le=-1,Ae=0,We=0,tt=s,Le=null;t:for(;;){for(var Ue;tt!==d||_!==0&&tt.nodeType!==3||(W=z+_),tt!==T||g!==0&&tt.nodeType!==3||(le=z+g),tt.nodeType===3&&(z+=tt.nodeValue.length),(Ue=tt.firstChild)!==null;)Le=tt,tt=Ue;for(;;){if(tt===s)break t;if(Le===d&&++Ae===_&&(W=z),Le===T&&++We===g&&(le=z),(Ue=tt.nextSibling)!==null)break;tt=Le,Le=tt.parentNode}tt=Ue}d=W===-1||le===-1?null:{start:W,end:le}}else d=null}d=d||{start:0,end:0}}else d=null;for(tS={focusedElem:s,selectionRange:d},Wy=!1,oi=o;oi!==null;)if(o=oi,s=o.child,(o.subtreeFlags&1024)!==0&&s!==null)s.return=o,oi=s;else for(;oi!==null;){switch(o=oi,T=o.alternate,s=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&T!==null){s=void 0,d=o,_=T.memoizedProps,T=T.memoizedState,g=d.stateNode;try{var on=Wr(d.type,_,d.elementType===d.type);s=g.getSnapshotBeforeUpdate(on,T),g.__reactInternalSnapshotBeforeUpdate=s}catch($t){me(d,d.return,$t)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)aS(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":aS(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=o.sibling,s!==null){s.return=o.return,oi=s;break}oi=o.return}}function Io(s,o,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:Qa(s,d),g&4&&uc(5,d);break;case 1:if(Qa(s,d),g&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(z){me(d,d.return,z)}else{var _=Wr(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(_,o,s.__reactInternalSnapshotBeforeUpdate)}catch(z){me(d,d.return,z)}}g&64&&fc(d),g&512&&hc(d,d.return);break;case 3:if(Qa(s,d),g&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Zv(s,o)}catch(z){me(d,d.return,z)}}break;case 27:o===null&&g&4&&Ml(d);case 26:case 5:Qa(s,d),o===null&&g&4&&Mu(d),g&512&&hc(d,d.return);break;case 12:Qa(s,d);break;case 13:Qa(s,d),g&4&&El(s,d),g&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=bi.bind(null,d),vU(s,d))));break;case 22:if(g=d.memoizedState!==null||Zr,!g){o=o!==null&&o.memoizedState!==null||di,_=Zr;var T=di;Zr=g,(di=o)&&!T?Kr(s,d,(d.subtreeFlags&8772)!==0):Qa(s,d),Zr=_,di=T}break;case 30:break;default:Qa(s,d)}}function En(s){var o=s.alternate;o!==null&&(s.alternate=null,En(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&ii(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var qt=null,Fn=!1;function lr(s,o,d){for(d=d.child;d!==null;)dc(s,o,d),d=d.sibling}function dc(s,o,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Ve,d)}catch{}switch(d.tag){case 26:di||Yr(d,o),lr(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:di||Yr(d,o);var g=qt,_=Fn;Nu(d.type)&&(qt=d.stateNode,Fn=!1),lr(s,o,d),M0(d.stateNode),qt=g,Fn=_;break;case 5:di||Yr(d,o);case 6:if(g=qt,_=Fn,qt=null,lr(s,o,d),qt=g,Fn=_,qt!==null)if(Fn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(d.stateNode)}catch(T){me(d,o,T)}else try{qt.removeChild(d.stateNode)}catch(T){me(d,o,T)}break;case 18:qt!==null&&(Fn?(s=qt,DT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),L0(s)):DT(qt,d.stateNode));break;case 4:g=qt,_=Fn,qt=d.stateNode.containerInfo,Fn=!0,lr(s,o,d),qt=g,Fn=_;break;case 0:case 11:case 14:case 15:di||Ds(2,d,o),di||Ds(4,d,o),lr(s,o,d);break;case 1:di||(Yr(d,o),g=d.stateNode,typeof g.componentWillUnmount=="function"&&Uo(d,o,g)),lr(s,o,d);break;case 21:lr(s,o,d);break;case 22:di=(g=di)||d.memoizedState!==null,lr(s,o,d),di=g;break;default:lr(s,o,d)}}function El(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{L0(s)}catch(d){me(o,o.return,d)}}function Vd(s){switch(s.tag){case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Ns),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Ns),o;default:throw Error(i(435,s.tag))}}function pc(s,o){var d=Vd(s);o.forEach(function(g){var _=sn.bind(null,s,g);d.has(g)||(d.add(g),g.then(_,_))})}function ya(s,o){var d=o.deletions;if(d!==null)for(var g=0;g<d.length;g++){var _=d[g],T=s,z=o,W=z;e:for(;W!==null;){switch(W.tag){case 27:if(Nu(W.type)){qt=W.stateNode,Fn=!1;break e}break;case 5:qt=W.stateNode,Fn=!1;break e;case 3:case 4:qt=W.stateNode.containerInfo,Fn=!0;break e}W=W.return}if(qt===null)throw Error(i(160));dc(T,z,_),qt=null,Fn=!1,T=_.alternate,T!==null&&(T.return=null),_.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)Fd(o,s),o=o.sibling}var Er=null;function Fd(s,o){var d=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ya(o,s),Ni(s),g&4&&(Ds(3,s,s.return),uc(3,s),Ds(5,s,s.return));break;case 1:ya(o,s),Ni(s),g&512&&(di||d===null||Yr(d,d.return)),g&64&&Zr&&(s=s.updateQueue,s!==null&&(g=s.callbacks,g!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var _=Er;if(ya(o,s),Ni(s),g&512&&(di||d===null||Yr(d,d.return)),g&4){var T=d!==null?d.memoizedState:null;if(g=s.memoizedState,d===null)if(g===null)if(s.stateNode===null){e:{g=s.type,d=s.memoizedProps,_=_.ownerDocument||_;t:switch(g){case"title":T=_.getElementsByTagName("title")[0],(!T||T[Pa]||T[Bi]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=_.createElement(g),_.head.insertBefore(T,_.querySelector("head > title"))),$a(T,g,d),T[Bi]=s,Ne(T),g=T;break e;case"link":var z=zT("link","href",_).get(g+(d.href||""));if(z){for(var W=0;W<z.length;W++)if(T=z[W],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){z.splice(W,1);break t}}T=_.createElement(g),$a(T,g,d),_.head.appendChild(T);break;case"meta":if(z=zT("meta","content",_).get(g+(d.content||""))){for(W=0;W<z.length;W++)if(T=z[W],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){z.splice(W,1);break t}}T=_.createElement(g),$a(T,g,d),_.head.appendChild(T);break;default:throw Error(i(468,g))}T[Bi]=s,Ne(T),g=T}s.stateNode=g}else VT(_,s.type,s.stateNode);else s.stateNode=BT(_,g,s.memoizedProps);else T!==g?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,g===null?VT(_,s.type,s.stateNode):BT(_,g,s.memoizedProps)):g===null&&s.stateNode!==null&&Jf(s,s.memoizedProps,d.memoizedProps)}break;case 27:ya(o,s),Ni(s),g&512&&(di||d===null||Yr(d,d.return)),d!==null&&g&4&&Jf(s,s.memoizedProps,d.memoizedProps);break;case 5:if(ya(o,s),Ni(s),g&512&&(di||d===null||Yr(d,d.return)),s.flags&32){_=s.stateNode;try{fi(_,"")}catch(Ue){me(s,s.return,Ue)}}g&4&&s.stateNode!=null&&(_=s.memoizedProps,Jf(s,_,d!==null?d.memoizedProps:_)),g&1024&&(Eu=!0);break;case 6:if(ya(o,s),Ni(s),g&4){if(s.stateNode===null)throw Error(i(162));g=s.memoizedProps,d=s.stateNode;try{d.nodeValue=g}catch(Ue){me(s,s.return,Ue)}}break;case 3:if(Gy=null,_=Er,Er=Hy(o.containerInfo),ya(o,s),Er=_,Ni(s),g&4&&d!==null&&d.memoizedState.isDehydrated)try{L0(o.containerInfo)}catch(Ue){me(s,s.return,Ue)}Eu&&(Eu=!1,Tl(s));break;case 4:g=Er,Er=Hy(s.stateNode.containerInfo),ya(o,s),Ni(s),Er=g;break;case 12:ya(o,s),Ni(s);break;case 13:ya(o,s),Ni(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(ai=$e()),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,pc(s,g)));break;case 22:_=s.memoizedState!==null;var le=d!==null&&d.memoizedState!==null,Ae=Zr,We=di;if(Zr=Ae||_,di=We||le,ya(o,s),di=We,Zr=Ae,Ni(s),g&8192)e:for(o=s.stateNode,o._visibility=_?o._visibility&-2:o._visibility|1,_&&(d===null||le||Zr||di||Ls(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){le=d=o;try{if(T=le.stateNode,_)z=T.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{W=le.stateNode;var tt=le.memoizedProps.style,Le=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;W.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(Ue){me(le,le.return,Ue)}}}else if(o.tag===6){if(d===null){le=o;try{le.stateNode.nodeValue=_?"":le.memoizedProps}catch(Ue){me(le,le.return,Ue)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}g&4&&(g=s.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,pc(s,d))));break;case 19:ya(o,s),Ni(s),g&4&&(g=s.updateQueue,g!==null&&(s.updateQueue=null,pc(s,g)));break;case 30:break;case 21:break;default:ya(o,s),Ni(s)}}function Ni(s){var o=s.flags;if(o&2){try{for(var d,g=s.return;g!==null;){if($f(g)){d=g;break}g=g.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var _=d.stateNode,T=_l(s);wl(s,T,_);break;case 5:var z=d.stateNode;d.flags&32&&(fi(z,""),d.flags&=-33);var W=_l(s);wl(s,W,z);break;case 3:case 4:var le=d.stateNode.containerInfo,Ae=_l(s);Sl(s,Ae,le);break;default:throw Error(i(161))}}catch(We){me(s,s.return,We)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Tl(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Tl(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Qa(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Io(s,o.alternate,o),o=o.sibling}function Ls(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:Ds(4,o,o.return),Ls(o);break;case 1:Yr(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&Uo(o,o.return,d),Ls(o);break;case 27:M0(o.stateNode);case 26:case 5:Yr(o,o.return),Ls(o);break;case 22:o.memoizedState===null&&Ls(o);break;case 30:Ls(o);break;default:Ls(o)}s=s.sibling}}function Kr(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var g=o.alternate,_=s,T=o,z=T.flags;switch(T.tag){case 0:case 11:case 15:Kr(_,T,d),uc(4,T);break;case 1:if(Kr(_,T,d),g=T,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Ae){me(g,g.return,Ae)}if(g=T,_=g.updateQueue,_!==null){var W=g.stateNode;try{var le=_.shared.hiddenCallbacks;if(le!==null)for(_.shared.hiddenCallbacks=null,_=0;_<le.length;_++)pu(le[_],W)}catch(Ae){me(g,g.return,Ae)}}d&&z&64&&fc(T),hc(T,T.return);break;case 27:Ml(T);case 26:case 5:Kr(_,T,d),d&&g===null&&z&4&&Mu(T),hc(T,T.return);break;case 12:Kr(_,T,d);break;case 13:Kr(_,T,d),d&&z&4&&El(_,T);break;case 22:T.memoizedState===null&&Kr(_,T,d),hc(T,T.return);break;case 30:break;default:Kr(_,T,d)}o=o.sibling}}function Hd(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&lu(d))}function kd(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&lu(s))}function li(s,o,d,g){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gd(s,o,d,g),o=o.sibling}function Gd(s,o,d,g){var _=o.flags;switch(o.tag){case 0:case 11:case 15:li(s,o,d,g),_&2048&&uc(9,o);break;case 1:li(s,o,d,g);break;case 3:li(s,o,d,g),_&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&lu(s)));break;case 12:if(_&2048){li(s,o,d,g),s=o.stateNode;try{var T=o.memoizedProps,z=T.id,W=T.onPostCommit;typeof W=="function"&&W(z,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(le){me(o,o.return,le)}}else li(s,o,d,g);break;case 13:li(s,o,d,g);break;case 23:break;case 22:T=o.stateNode,z=o.alternate,o.memoizedState!==null?T._visibility&2?li(s,o,d,g):Tr(s,o):T._visibility&2?li(s,o,d,g):(T._visibility|=2,Po(s,o,d,g,(o.subtreeFlags&10256)!==0)),_&2048&&Hd(z,o);break;case 24:li(s,o,d,g),_&2048&&kd(o.alternate,o);break;default:li(s,o,d,g)}}function Po(s,o,d,g,_){for(_=_&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var T=s,z=o,W=d,le=g,Ae=z.flags;switch(z.tag){case 0:case 11:case 15:Po(T,z,W,le,_),uc(8,z);break;case 23:break;case 22:var We=z.stateNode;z.memoizedState!==null?We._visibility&2?Po(T,z,W,le,_):Tr(T,z):(We._visibility|=2,Po(T,z,W,le,_)),_&&Ae&2048&&Hd(z.alternate,z);break;case 24:Po(T,z,W,le,_),_&&Ae&2048&&kd(z.alternate,z);break;default:Po(T,z,W,le,_)}o=o.sibling}}function Tr(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,g=o,_=g.flags;switch(g.tag){case 22:Tr(d,g),_&2048&&Hd(g.alternate,g);break;case 24:Tr(d,g),_&2048&&kd(g.alternate,g);break;default:Tr(d,g)}o=o.sibling}}var Os=8192;function Tu(s){if(s.subtreeFlags&Os)for(s=s.child;s!==null;)Iy(s),s=s.sibling}function Iy(s){switch(s.tag){case 26:Tu(s),s.flags&Os&&s.memoizedState!==null&&DU(Er,s.memoizedState,s.memoizedProps);break;case 5:Tu(s);break;case 3:case 4:var o=Er;Er=Hy(s.stateNode.containerInfo),Tu(s),Er=o;break;case 22:s.memoizedState===null&&(o=s.alternate,o!==null&&o.memoizedState!==null?(o=Os,Os=16777216,Tu(s),Os=o):Tu(s));break;default:Tu(s)}}function Py(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function pi(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];oi=g,Jr(g,s)}Py(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)x0(s),s=s.sibling}function x0(s){switch(s.tag){case 0:case 11:case 15:pi(s),s.flags&2048&&Ds(9,s,s.return);break;case 3:pi(s);break;case 12:pi(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Qr(s)):pi(s);break;default:pi(s)}}function Qr(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var g=o[d];oi=g,Jr(g,s)}Py(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:Ds(8,o,o.return),Qr(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Qr(o));break;default:Qr(o)}s=s.sibling}}function Jr(s,o){for(;oi!==null;){var d=oi;switch(d.tag){case 0:case 11:case 15:Ds(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:lu(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,oi=g;else e:for(d=s;oi!==null;){g=oi;var _=g.sibling,T=g.return;if(En(g),g===d){oi=null;break e}if(_!==null){_.return=T,oi=_;break e}oi=T}}}var Li={getCacheForType:function(s){var o=Di(Zi),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d}},b0=typeof WeakMap=="function"?WeakMap:Map,Zn=0,pn=null,Dn=null,Wt=0,_n=0,Ei=null,Us=!1,Au=!1,Cu=!1,cr=0,xi=0,Ar=0,$r=0,mc=0,ur=0,Hn=0,Kn=null,Yt=null,In=!1,ai=0,Va=1/0,fr=null,Is=null,oa=0,Fa=null,ci=null,Ps=0,Bo=0,eh=null,Bs=null,eo=0,gc=null;function Oi(){if((Zn&2)!==0&&Wt!==0)return Wt&-Wt;if(G.T!==null){var s=yn;return s!==0?s:q_()}return vn()}function jd(){ur===0&&(ur=(Wt&536870912)===0||Gn?ae():536870912);var s=ri.current;return s!==null&&(s.flags|=32),ur}function Ja(s,o,d){(s===pn&&(_n===2||_n===9)||s.cancelPendingCommit!==null)&&(Cl(s,0),Cr(s,Wt,ur,!1)),ct(s,d),((Zn&2)===0||s!==pn)&&(s===pn&&((Zn&2)===0&&($r|=d),xi===4&&Cr(s,Wt,ur,!1)),Nl(s))}function Ru(s,o,d){if((Zn&6)!==0)throw Error(i(327));var g=!d&&(o&124)===0&&(o&s.expiredLanes)===0||we(s,o),_=g?S(s,o):f(s,o,!0),T=g;do{if(_===0){Au&&!g&&Cr(s,o,0,!1);break}else{if(d=s.current.alternate,T&&!Al(d)){_=f(s,o,!1),T=!1;continue}if(_===2){if(T=o,s.errorRecoveryDisabledLanes&T)var z=0;else z=s.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){o=z;e:{var W=s;_=Kn;var le=W.current.memoizedState.isDehydrated;if(le&&(Cl(W,z).flags|=256),z=f(W,z,!1),z!==2){if(Cu&&!le){W.errorRecoveryDisabledLanes|=T,$r|=T,_=4;break e}T=Yt,Yt=_,T!==null&&(Yt===null?Yt=T:Yt.push.apply(Yt,T))}_=z}if(T=!1,_!==2)continue}}if(_===1){Cl(s,0),Cr(s,o,0,!0);break}e:{switch(g=s,T=_,T){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Cr(g,o,ur,!Us);break e;case 2:Yt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(_=ai+300-$e(),10<_)){if(Cr(g,o,ur,!Us),oe(g,0,!0)!==0)break e;g.timeoutHandle=CT(th.bind(null,g,d,Yt,fr,In,o,ur,$r,Hn,Us,T,2,-0,0),_);break e}th(g,d,Yt,fr,In,o,ur,$r,Hn,Us,T,0,-0,0)}}break}while(!0);Nl(s)}function th(s,o,d,g,_,T,z,W,le,Ae,We,tt,Le,Ue){if(s.timeoutHandle=-1,tt=o.subtreeFlags,(tt&8192||(tt&16785408)===16785408)&&(A0={stylesheets:null,count:0,unsuspend:RU},Iy(o),tt=NU(),tt!==null)){s.cancelPendingCommit=tt(gt.bind(null,s,o,T,d,g,_,z,W,le,We,1,Le,Ue)),Cr(s,T,z,!Ae);return}gt(s,o,T,d,g,_,z,W,le)}function Al(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var _=d[g],T=_.getSnapshot;_=_.value;try{if(!rs(T(),_))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Cr(s,o,d,g){o&=~mc,o&=~$r,s.suspendedLanes|=o,s.pingedLanes&=~o,g&&(s.warmLanes|=o),g=s.expirationTimes;for(var _=o;0<_;){var T=31-xt(_),z=1<<T;g[T]=-1,_&=~z}d!==0&&Ye(s,d,o)}function to(){return(Zn&6)===0?(_0(0),!1):!0}function vc(){if(Dn!==null){if(_n===0)var s=Dn.return;else s=Dn,Eo=fl=null,n0(s),tc=null,qf=0,s=Dn;for(;s!==null;)wu(s.alternate,s),s=s.return;Dn=null}}function Cl(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,hU(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),vc(),pn=s,Dn=d=Vi(s.current,null),Wt=o,_n=0,Ei=null,Us=!1,Au=we(s,o),Cu=!1,Hn=ur=mc=$r=Ar=xi=0,Yt=Kn=null,In=!1,(o&8)!==0&&(o|=o&32);var g=s.entangledLanes;if(g!==0)for(s=s.entanglements,g&=o;0<g;){var _=31-xt(g),T=1<<_;o|=s[_],g&=~T}return cr=o,Df(),d}function Xd(s,o){xn=null,G.H=Wf,o===Ff||o===xr?(o=Qm(),_n=3):o===Km?(o=Qm(),_n=4):_n=o===Uy?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ei=o,Dn===null&&(xi=1,Pd(s,Ta(o,s.current)))}function Du(){var s=G.H;return G.H=Wf,s===null?Wf:s}function Wd(){var s=G.A;return G.A=Li,s}function c(){xi=4,Us||(Wt&4194048)!==Wt&&ri.current!==null||(Au=!0),(Ar&134217727)===0&&($r&134217727)===0||pn===null||Cr(pn,Wt,ur,!1)}function f(s,o,d){var g=Zn;Zn|=2;var _=Du(),T=Wd();(pn!==s||Wt!==o)&&(fr=null,Cl(s,o)),o=!1;var z=xi;e:do try{if(_n!==0&&Dn!==null){var W=Dn,le=Ei;switch(_n){case 8:vc(),z=6;break e;case 3:case 2:case 9:case 6:ri.current===null&&(o=!0);var Ae=_n;if(_n=0,Ei=null,ue(s,W,le,Ae),d&&Au){z=0;break e}break;default:Ae=_n,_n=0,Ei=null,ue(s,W,le,Ae)}}y(),z=xi;break}catch(We){Xd(s,We)}while(!0);return o&&s.shellSuspendCounter++,Eo=fl=null,Zn=g,G.H=_,G.A=T,Dn===null&&(pn=null,Wt=0,Df()),z}function y(){for(;Dn!==null;)N(Dn)}function S(s,o){var d=Zn;Zn|=2;var g=Du(),_=Wd();pn!==s||Wt!==o?(fr=null,Va=$e()+500,Cl(s,o)):Au=we(s,o);e:do try{if(_n!==0&&Dn!==null){o=Dn;var T=Ei;t:switch(_n){case 1:_n=0,Ei=null,ue(s,o,T,1);break;case 2:case 9:if(_d(T)){_n=0,Ei=null,Y(o);break}o=function(){_n!==2&&_n!==9||pn!==s||(_n=7),Nl(s)},T.then(o,o);break e;case 3:_n=7;break e;case 4:_n=5;break e;case 7:_d(T)?(_n=0,Ei=null,Y(o)):(_n=0,Ei=null,ue(s,o,T,7));break;case 5:var z=null;switch(Dn.tag){case 26:z=Dn.memoizedState;case 5:case 27:var W=Dn;if(!z||FT(z)){_n=0,Ei=null;var le=W.sibling;if(le!==null)Dn=le;else{var Ae=W.return;Ae!==null?(Dn=Ae,Se(Ae)):Dn=null}break t}}_n=0,Ei=null,ue(s,o,T,5);break;case 6:_n=0,Ei=null,ue(s,o,T,6);break;case 8:vc(),xi=6;break e;default:throw Error(i(462))}}A();break}catch(We){Xd(s,We)}while(!0);return Eo=fl=null,G.H=g,G.A=_,Zn=d,Dn!==null?0:(pn=null,Wt=0,Df(),xi)}function A(){for(;Dn!==null&&!ee();)N(Dn)}function N(s){var o=lc(s.alternate,s,cr);s.memoizedProps=s.pendingProps,o===null?Se(s):Dn=o}function Y(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=Cs(d,o,o.pendingProps,o.type,void 0,Wt);break;case 11:o=Cs(d,o,o.pendingProps,o.type.render,o.ref,Wt);break;case 5:n0(o);default:wu(d,o),o=Dn=Gm(o,cr),o=lc(d,o,cr)}s.memoizedProps=s.pendingProps,o===null?Se(s):Dn=o}function ue(s,o,d,g){Eo=fl=null,n0(o),tc=null,qf=0;var _=o.return;try{if(X_(s,_,o,d,Wt)){xi=1,Pd(s,Ta(d,s.current)),Dn=null;return}}catch(T){if(_!==null)throw Dn=_,T;xi=1,Pd(s,Ta(d,s.current)),Dn=null;return}o.flags&32768?(Gn||g===1?s=!0:Au||(Wt&536870912)!==0?s=!1:(Us=s=!0,(g===2||g===9||g===3||g===6)&&(g=ri.current,g!==null&&g.tag===13&&(g.flags|=16384))),Xe(o,s)):Se(o)}function Se(s){var o=s;do{if((o.flags&32768)!==0){Xe(o,Us);return}s=o.return;var d=y0(o.alternate,o,cr);if(d!==null){Dn=d;return}if(o=o.sibling,o!==null){Dn=o;return}Dn=o=s}while(o!==null);xi===0&&(xi=5)}function Xe(s,o){do{var d=Su(s.alternate,s);if(d!==null){d.flags&=32767,Dn=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){Dn=s;return}Dn=s=d}while(s!==null);xi=6,Dn=null}function gt(s,o,d,g,_,T,z,W,le){s.cancelPendingCommit=null;do Rl();while(oa!==0);if((Zn&6)!==0)throw Error(i(327));if(o!==null){if(o===s.current)throw Error(i(177));if(T=o.lanes|o.childLanes,T|=hd,lt(s,d,T,z,W,le),s===pn&&(Dn=pn=null,Wt=0),ci=o,Fa=s,Ps=d,Bo=T,eh=_,Bs=g,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,jn(pt,function(){return Dl(),null})):(s.callbackNode=null,s.callbackPriority=0),g=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||g){g=G.T,G.T=null,_=K.p,K.p=2,z=Zn,Zn|=4;try{ra(s,o,d)}finally{Zn=z,K.p=_,G.T=g}}oa=1,Et(),Dt(),mn()}}function Et(){if(oa===1){oa=0;var s=Fa,o=ci,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=G.T,G.T=null;var g=K.p;K.p=2;var _=Zn;Zn|=4;try{Fd(o,s);var T=tS,z=Pm(s.containerInfo),W=T.focusedElem,le=T.selectionRange;if(z!==W&&W&&W.ownerDocument&&Im(W.ownerDocument.documentElement,W)){if(le!==null&&Af(W)){var Ae=le.start,We=le.end;if(We===void 0&&(We=Ae),"selectionStart"in W)W.selectionStart=Ae,W.selectionEnd=Math.min(We,W.value.length);else{var tt=W.ownerDocument||document,Le=tt&&tt.defaultView||window;if(Le.getSelection){var Ue=Le.getSelection(),on=W.textContent.length,$t=Math.min(le.start,on),gi=le.end===void 0?$t:Math.min(le.end,on);!Ue.extend&&$t>gi&&(z=gi,gi=$t,$t=z);var be=Um(W,$t),ye=Um(W,gi);if(be&&ye&&(Ue.rangeCount!==1||Ue.anchorNode!==be.node||Ue.anchorOffset!==be.offset||Ue.focusNode!==ye.node||Ue.focusOffset!==ye.offset)){var Te=tt.createRange();Te.setStart(be.node,be.offset),Ue.removeAllRanges(),$t>gi?(Ue.addRange(Te),Ue.extend(ye.node,ye.offset)):(Te.setEnd(ye.node,ye.offset),Ue.addRange(Te))}}}}for(tt=[],Ue=W;Ue=Ue.parentNode;)Ue.nodeType===1&&tt.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<tt.length;W++){var Qe=tt[W];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}Wy=!!eS,tS=eS=null}finally{Zn=_,K.p=g,G.T=d}}s.current=o,oa=2}}function Dt(){if(oa===2){oa=0;var s=Fa,o=ci,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=G.T,G.T=null;var g=K.p;K.p=2;var _=Zn;Zn|=4;try{Io(s,o.alternate,o)}finally{Zn=_,K.p=g,G.T=d}}oa=3}}function mn(){if(oa===4||oa===3){oa=0,nt();var s=Fa,o=ci,d=Ps,g=Bs;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?oa=5:(oa=0,ci=Fa=null,zs(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&&(Is=null),bn(d),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Ve,o,void 0,(o.current.flags&128)===128)}catch{}if(g!==null){o=G.T,_=K.p,K.p=2,G.T=null;try{for(var T=s.onRecoverableError,z=0;z<g.length;z++){var W=g[z];T(W.value,{componentStack:W.stack})}}finally{G.T=o,K.p=_}}(Ps&3)!==0&&Rl(),Nl(s),_=s.pendingLanes,(d&4194090)!==0&&(_&42)!==0?s===gc?eo++:(eo=0,gc=s):eo=0,_0(0)}}function zs(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,lu(o)))}function Rl(s){return Et(),Dt(),mn(),Dl()}function Dl(){if(oa!==5)return!1;var s=Fa,o=Bo;Bo=0;var d=bn(Ps),g=G.T,_=K.p;try{K.p=32>d?32:d,G.T=null,d=eh,eh=null;var T=Fa,z=Ps;if(oa=0,ci=Fa=null,Ps=0,(Zn&6)!==0)throw Error(i(331));var W=Zn;if(Zn|=4,x0(T.current),Gd(T,T.current,z,d),Zn=W,_0(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Ve,T)}catch{}return!0}finally{K.p=_,G.T=g,zs(s,o)}}function De(s,o,d){o=Ta(d,o),o=Bd(s.stateNode,o,2),s=Co(s,o,2),s!==null&&(ct(s,2),Nl(s))}function me(s,o,d){if(s.tag===3)De(s,s,d);else for(;o!==null;){if(o.tag===3){De(o,s,d);break}else if(o.tag===1){var g=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Is===null||!Is.has(g))){s=Ta(d,s),d=Oy(2),g=Co(o,d,2),g!==null&&(zd(d,g,o,s),ct(g,2),Nl(g));break}}o=o.return}}function Pe(s,o,d){var g=s.pingCache;if(g===null){g=s.pingCache=new b0;var _=new Set;g.set(o,_)}else _=g.get(o),_===void 0&&(_=new Set,g.set(o,_));_.has(d)||(Cu=!0,_.add(d),s=dt.bind(null,s,o,d),o.then(s,s))}function dt(s,o,d){var g=s.pingCache;g!==null&&g.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,pn===s&&(Wt&d)===d&&(xi===4||xi===3&&(Wt&62914560)===Wt&&300>$e()-ai?(Zn&2)===0&&Cl(s,0):mc|=d,Hn===Wt&&(Hn=0)),Nl(s)}function jt(s,o){o===0&&(o=Ee()),s=wo(s,o),s!==null&&(ct(s,o),Nl(s))}function bi(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),jt(s,d)}function sn(s,o){var d=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(d=_.retryLane);break;case 19:g=s.stateNode;break;case 22:g=s.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(o),jt(s,d)}function jn(s,o){return kt(s,o)}var Gi=null,Ln=null,no=!1,qd=!1,W_=!1,nh=0;function Nl(s){s!==Ln&&s.next===null&&(Ln===null?Gi=Ln=s:Ln=Ln.next=s),qd=!0,no||(no=!0,iU())}function _0(s,o){if(!W_&&qd){W_=!0;do for(var d=!1,g=Gi;g!==null;){if(s!==0){var _=g.pendingLanes;if(_===0)var T=0;else{var z=g.suspendedLanes,W=g.pingedLanes;T=(1<<31-xt(42|s)+1)-1,T&=_&~(z&~W),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,yT(g,T))}else T=Wt,T=oe(g,g===pn?T:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(T&3)===0||we(g,T)||(d=!0,yT(g,T));g=g.next}while(d);W_=!1}}function nU(){mT()}function mT(){qd=no=!1;var s=0;nh!==0&&(fU()&&(s=nh),nh=0);for(var o=$e(),d=null,g=Gi;g!==null;){var _=g.next,T=gT(g,o);T===0?(g.next=null,d===null?Gi=_:d.next=_,_===null&&(Ln=d)):(d=g,(s!==0||(T&3)!==0)&&(qd=!0)),g=_}_0(s)}function gT(s,o){for(var d=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,T=s.pendingLanes&-62914561;0<T;){var z=31-xt(T),W=1<<z,le=_[z];le===-1?((W&d)===0||(W&g)!==0)&&(_[z]=Ze(W,o)):le<=o&&(s.expiredLanes|=W),T&=~W}if(o=pn,d=Wt,d=oe(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g=s.callbackNode,d===0||s===o&&(_n===2||_n===9)||s.cancelPendingCommit!==null)return g!==null&&g!==null&&Je(g),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||we(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(g!==null&&Je(g),bn(d)){case 2:case 8:d=bt;break;case 32:d=pt;break;case 268435456:d=Q;break;default:d=pt}return g=vT.bind(null,s),d=kt(d,g),s.callbackPriority=o,s.callbackNode=d,o}return g!==null&&g!==null&&Je(g),s.callbackPriority=2,s.callbackNode=null,2}function vT(s,o){if(oa!==0&&oa!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Rl()&&s.callbackNode!==d)return null;var g=Wt;return g=oe(s,s===pn?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),g===0?null:(Ru(s,g,o),gT(s,$e()),s.callbackNode!=null&&s.callbackNode===d?vT.bind(null,s):null)}function yT(s,o){if(Rl())return null;Ru(s,o,!0)}function iU(){dU(function(){(Zn&6)!==0?kt(st,nU):mT()})}function q_(){return nh===0&&(nh=ae()),nh}function xT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:pf(""+s)}function bT(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function aU(s,o,d,g,_){if(o==="submit"&&d&&d.stateNode===_){var T=xT((_[zi]||null).action),z=g.submitter;z&&(o=(o=z[zi]||null)?xT(o.formAction):z.getAttribute("formAction"),o!==null&&(T=o,z=null));var W=new Zc("action","action",null,g,_);s.push({event:W,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(nh!==0){var le=z?bT(_,z):new FormData(_);p0(d,{pending:!0,data:le,method:_.method,action:T},null,le)}}else typeof T=="function"&&(W.preventDefault(),le=z?bT(_,z):new FormData(_),p0(d,{pending:!0,data:le,method:_.method,action:T},T,le))},currentTarget:_}]})}}for(var Y_=0;Y_<Rf.length;Y_++){var Z_=Rf[Y_],sU=Z_.toLowerCase(),rU=Z_[0].toUpperCase()+Z_.slice(1);pa(sU,"on"+rU)}pa(Wa,"onAnimationEnd"),pa(Vm,"onAnimationIteration"),pa(ls,"onAnimationStart"),pa("dblclick","onDoubleClick"),pa("focusin","onFocus"),pa("focusout","onBlur"),pa(Xv,"onTransitionRun"),pa(_o,"onTransitionStart"),pa(iu,"onTransitionCancel"),pa(So,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),it("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),it("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),it("onBeforeInput",["compositionend","keypress","textInput","paste"]),it("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),it("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var S0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(S0));function _T(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var g=s[d],_=g.event;g=g.listeners;e:{var T=void 0;if(o)for(var z=g.length-1;0<=z;z--){var W=g[z],le=W.instance,Ae=W.currentTarget;if(W=W.listener,le!==T&&_.isPropagationStopped())break e;T=W,_.currentTarget=Ae;try{T(_)}catch(We){ic(We)}_.currentTarget=null,T=le}else for(z=0;z<g.length;z++){if(W=g[z],le=W.instance,Ae=W.currentTarget,W=W.listener,le!==T&&_.isPropagationStopped())break e;T=W,_.currentTarget=Ae;try{T(_)}catch(We){ic(We)}_.currentTarget=null,T=le}}}}function Bn(s,o){var d=o[Yi];d===void 0&&(d=o[Yi]=new Set);var g=s+"__bubble";d.has(g)||(ST(o,s,2,!1),d.add(g))}function K_(s,o,d){var g=0;o&&(g|=4),ST(d,s,g,o)}var By="_reactListening"+Math.random().toString(36).slice(2);function Q_(s){if(!s[By]){s[By]=!0,Fe.forEach(function(d){d!=="selectionchange"&&(oU.has(d)||K_(d,!1,s),K_(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[By]||(o[By]=!0,K_("selectionchange",!1,o))}}function ST(s,o,d,g){switch(WT(o)){case 2:var _=UU;break;case 8:_=IU;break;default:_=fS}d=_.bind(null,o,d,s),_=void 0,!gf||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(o,d,{capture:!0,passive:_}):s.addEventListener(o,d,!0):_!==void 0?s.addEventListener(o,d,{passive:_}):s.addEventListener(o,d,!1)}function J_(s,o,d,g,_){var T=g;if((o&1)===0&&(o&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var W=g.stateNode.containerInfo;if(W===_)break;if(z===4)for(z=g.return;z!==null;){var le=z.tag;if((le===3||le===4)&&z.stateNode.containerInfo===_)return;z=z.return}for(;W!==null;){if(z=k(W),z===null)return;if(le=z.tag,le===5||le===6||le===26||le===27){g=T=z;continue e}W=W.parentNode}}g=g.return}Sm(function(){var Ae=T,We=$h(d),tt=[];e:{var Le=fd.get(s);if(Le!==void 0){var Ue=Zc,on=s;switch(s){case"keypress":if($o(d)===0)break e;case"keydown":case"keyup":Ue=Am;break;case"focusin":on="focus",Ue=td;break;case"focusout":on="blur",Ue=td;break;case"beforeblur":case"afterblur":Ue=td;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=U_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=Rm;break;case Wa:case Vm:case ls:Ue=Dv;break;case So:Ue=vo;break;case"scroll":case"scrollend":Ue=Av;break;case"wheel":Ue=I_;break;case"copy":case"cut":case"paste":Ue=Lv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=id;break;case"toggle":case"beforetoggle":Ue=tl}var $t=(o&4)!==0,gi=!$t&&(s==="scroll"||s==="scrollend"),be=$t?Le!==null?Le+"Capture":null:Le;$t=[];for(var ye=Ae,Te;ye!==null;){var Qe=ye;if(Te=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Te===null||be===null||(Qe=Wc(ye,be),Qe!=null&&$t.push(w0(ye,Qe,Te))),gi)break;ye=ye.return}0<$t.length&&(Le=new Ue(Le,on,null,d,We),tt.push({event:Le,listeners:$t}))}}if((o&7)===0){e:{if(Le=s==="mouseover"||s==="pointerover",Ue=s==="mouseout"||s==="pointerout",Le&&d!==Jh&&(on=d.relatedTarget||d.fromElement)&&(k(on)||on[Ia]))break e;if((Ue||Le)&&(Le=We.window===We?We:(Le=We.ownerDocument)?Le.defaultView||Le.parentWindow:window,Ue?(on=d.relatedTarget||d.toElement,Ue=Ae,on=on?k(on):null,on!==null&&(gi=r(on),$t=on.tag,on!==gi||$t!==5&&$t!==27&&$t!==6)&&(on=null)):(Ue=null,on=Ae),Ue!==on)){if($t=Em,Qe="onMouseLeave",be="onMouseEnter",ye="mouse",(s==="pointerout"||s==="pointerover")&&($t=id,Qe="onPointerLeave",be="onPointerEnter",ye="pointer"),gi=Ue==null?Le:he(Ue),Te=on==null?Le:he(on),Le=new $t(Qe,ye+"leave",Ue,d,We),Le.target=gi,Le.relatedTarget=Te,Qe=null,k(We)===Ae&&($t=new $t(be,ye+"enter",on,d,We),$t.target=Te,$t.relatedTarget=gi,Qe=$t),gi=Qe,Ue&&on)t:{for($t=Ue,be=on,ye=0,Te=$t;Te;Te=Yd(Te))ye++;for(Te=0,Qe=be;Qe;Qe=Yd(Qe))Te++;for(;0<ye-Te;)$t=Yd($t),ye--;for(;0<Te-ye;)be=Yd(be),Te--;for(;ye--;){if($t===be||be!==null&&$t===be.alternate)break t;$t=Yd($t),be=Yd(be)}$t=null}else $t=null;Ue!==null&&wT(tt,Le,Ue,$t,!1),on!==null&&gi!==null&&wT(tt,gi,on,$t,!0)}}e:{if(Le=Ae?he(Ae):window,Ue=Le.nodeName&&Le.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&Le.type==="file")var Ft=sd;else if(Om(Le))if(rd)Ft=al;else{Ft=kv;var Pn=P_}else Ue=Le.nodeName,!Ue||Ue.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Ae&&Qh(Ae.elementType)&&(Ft=sd):Ft=Tf;if(Ft&&(Ft=Ft(s,Ae))){ss(tt,Ft,d,We);break e}Pn&&Pn(s,Le,Ae),s==="focusout"&&Ae&&Le.type==="number"&&Ae.memoizedProps.value!=null&&On(Le,"number",Le.value)}switch(Pn=Ae?he(Ae):window,s){case"focusin":(Om(Pn)||Pn.contentEditable==="true")&&(xo=Pn,ld=Ae,Cf=null);break;case"focusout":Cf=ld=xo=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,zm(tt,d,We);break;case"selectionchange":if(Bm)break;case"keydown":case"keyup":zm(tt,d,We)}var Xt;if(bf)e:{switch(s){case"compositionstart":var nn="onCompositionStart";break e;case"compositionend":nn="onCompositionEnd";break e;case"compositionupdate":nn="onCompositionUpdate";break e}nn=void 0}else il?wf(s,d)&&(nn="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(nn="onCompositionStart");nn&&(Sf&&d.locale!=="ko"&&(il||nn!=="onCompositionStart"?nn==="onCompositionEnd"&&il&&(Xt=Mm()):(mo=We,wm="value"in mo?mo.value:mo.textContent,il=!0)),Pn=zy(Ae,nn),0<Pn.length&&(nn=new nd(nn,s,null,d,We),tt.push({event:nn,listeners:Pn}),Xt?nn.data=Xt:(Xt=Nm(d),Xt!==null&&(nn.data=Xt)))),(Xt=_f?Mf(s,d):Lm(s,d))&&(nn=zy(Ae,"onBeforeInput"),0<nn.length&&(Pn=new nd("onBeforeInput","beforeinput",null,d,We),tt.push({event:Pn,listeners:nn}),Pn.data=Xt)),aU(tt,s,Ae,d,We)}_T(tt,o)})}function w0(s,o,d){return{instance:s,listener:o,currentTarget:d}}function zy(s,o){for(var d=o+"Capture",g=[];s!==null;){var _=s,T=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||T===null||(_=Wc(s,d),_!=null&&g.unshift(w0(s,_,T)),_=Wc(s,o),_!=null&&g.push(w0(s,_,T))),s.tag===3)return g;s=s.return}return[]}function Yd(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wT(s,o,d,g,_){for(var T=o._reactName,z=[];d!==null&&d!==g;){var W=d,le=W.alternate,Ae=W.stateNode;if(W=W.tag,le!==null&&le===g)break;W!==5&&W!==26&&W!==27||Ae===null||(le=Ae,_?(Ae=Wc(d,T),Ae!=null&&z.unshift(w0(d,Ae,le))):_||(Ae=Wc(d,T),Ae!=null&&z.push(w0(d,Ae,le)))),d=d.return}z.length!==0&&s.push({event:o,listeners:z})}var lU=/\r\n?/g,cU=/\u0000|\uFFFD/g;function MT(s){return(typeof s=="string"?s:""+s).replace(lU,`
`).replace(cU,"")}function ET(s,o){return o=MT(o),MT(s)===o}function Vy(){}function mi(s,o,d,g,_,T){switch(d){case"children":typeof g=="string"?o==="body"||o==="textarea"&&g===""||fi(s,g):(typeof g=="number"||typeof g=="bigint")&&o!=="body"&&fi(s,""+g);break;case"className":Ie(s,"class",g);break;case"tabIndex":Ie(s,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ie(s,d,g);break;case"style":df(s,g,T);break;case"data":if(o!=="object"){Ie(s,"data",g);break}case"src":case"href":if(g===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=pf(""+g),s.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(o!=="input"&&mi(s,o,"name",_.name,_,null),mi(s,o,"formEncType",_.formEncType,_,null),mi(s,o,"formMethod",_.formMethod,_,null),mi(s,o,"formTarget",_.formTarget,_,null)):(mi(s,o,"encType",_.encType,_,null),mi(s,o,"method",_.method,_,null),mi(s,o,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){s.removeAttribute(d);break}g=pf(""+g),s.setAttribute(d,g);break;case"onClick":g!=null&&(s.onclick=Vy);break;case"onScroll":g!=null&&Bn("scroll",s);break;case"onScrollEnd":g!=null&&Bn("scrollend",s);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"multiple":s.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":s.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){s.removeAttribute("xlink:href");break}d=pf(""+g),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""+g):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":g===!0?s.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?s.setAttribute(d,g):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?s.setAttribute(d,g):s.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?s.removeAttribute(d):s.setAttribute(d,g);break;case"popover":Bn("beforetoggle",s),Bn("toggle",s),se(s,"popover",g);break;case"xlinkActuate":Ge(s,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ge(s,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ge(s,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ge(s,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ge(s,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ge(s,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ge(s,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":se(s,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=bm.get(d)||d,se(s,d,g))}}function $_(s,o,d,g,_,T){switch(d){case"style":df(s,g,T);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(d=g.__html,d!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=d}}break;case"children":typeof g=="string"?fi(s,g):(typeof g=="number"||typeof g=="bigint")&&fi(s,""+g);break;case"onScroll":g!=null&&Bn("scroll",s);break;case"onScrollEnd":g!=null&&Bn("scrollend",s);break;case"onClick":g!=null&&(s.onclick=Vy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ht.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(_=d.endsWith("Capture"),o=d.slice(2,_?d.length-7:void 0),T=s[zi]||null,T=T!=null?T[d]:null,typeof T=="function"&&s.removeEventListener(o,T,_),typeof g=="function")){typeof T!="function"&&T!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,g,_);break e}d in s?s[d]=g:g===!0?s.setAttribute(d,""):se(s,d,g)}}}function $a(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bn("error",s),Bn("load",s);var g=!1,_=!1,T;for(T in d)if(d.hasOwnProperty(T)){var z=d[T];if(z!=null)switch(T){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:mi(s,o,T,z,d,null)}}_&&mi(s,o,"srcSet",d.srcSet,d,null),g&&mi(s,o,"src",d.src,d,null);return;case"input":Bn("invalid",s);var W=T=z=_=null,le=null,Ae=null;for(g in d)if(d.hasOwnProperty(g)){var We=d[g];if(We!=null)switch(g){case"name":_=We;break;case"type":z=We;break;case"checked":le=We;break;case"defaultChecked":Ae=We;break;case"value":T=We;break;case"defaultValue":W=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(i(137,o));break;default:mi(s,o,g,We,d,null)}}Ri(s,T,W,le,Ae,z,_,!1),zt(s);return;case"select":Bn("invalid",s),g=z=T=null;for(_ in d)if(d.hasOwnProperty(_)&&(W=d[_],W!=null))switch(_){case"value":T=W;break;case"defaultValue":z=W;break;case"multiple":g=W;default:mi(s,o,_,W,d,null)}o=T,d=z,s.multiple=!!g,o!=null?Un(s,!!g,o,!1):d!=null&&Un(s,!!g,d,!0);return;case"textarea":Bn("invalid",s),T=_=g=null;for(z in d)if(d.hasOwnProperty(z)&&(W=d[z],W!=null))switch(z){case"value":g=W;break;case"defaultValue":_=W;break;case"children":T=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(91));break;default:mi(s,o,z,W,d,null)}ia(s,g,_,T),zt(s);return;case"option":for(le in d)if(d.hasOwnProperty(le)&&(g=d[le],g!=null))switch(le){case"selected":s.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:mi(s,o,le,g,d,null)}return;case"dialog":Bn("beforetoggle",s),Bn("toggle",s),Bn("cancel",s),Bn("close",s);break;case"iframe":case"object":Bn("load",s);break;case"video":case"audio":for(g=0;g<S0.length;g++)Bn(S0[g],s);break;case"image":Bn("error",s),Bn("load",s);break;case"details":Bn("toggle",s);break;case"embed":case"source":case"link":Bn("error",s),Bn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in d)if(d.hasOwnProperty(Ae)&&(g=d[Ae],g!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:mi(s,o,Ae,g,d,null)}return;default:if(Qh(o)){for(We in d)d.hasOwnProperty(We)&&(g=d[We],g!==void 0&&$_(s,o,We,g,d,void 0));return}}for(W in d)d.hasOwnProperty(W)&&(g=d[W],g!=null&&mi(s,o,W,g,d,null))}function uU(s,o,d,g){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,T=null,z=null,W=null,le=null,Ae=null,We=null;for(Ue in d){var tt=d[Ue];if(d.hasOwnProperty(Ue)&&tt!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":le=tt;default:g.hasOwnProperty(Ue)||mi(s,o,Ue,null,g,tt)}}for(var Le in g){var Ue=g[Le];if(tt=d[Le],g.hasOwnProperty(Le)&&(Ue!=null||tt!=null))switch(Le){case"type":T=Ue;break;case"name":_=Ue;break;case"checked":Ae=Ue;break;case"defaultChecked":We=Ue;break;case"value":z=Ue;break;case"defaultValue":W=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(i(137,o));break;default:Ue!==tt&&mi(s,o,Le,Ue,g,tt)}}tn(s,z,W,le,Ae,We,T,_);return;case"select":Ue=z=W=Le=null;for(T in d)if(le=d[T],d.hasOwnProperty(T)&&le!=null)switch(T){case"value":break;case"multiple":Ue=le;default:g.hasOwnProperty(T)||mi(s,o,T,null,g,le)}for(_ in g)if(T=g[_],le=d[_],g.hasOwnProperty(_)&&(T!=null||le!=null))switch(_){case"value":Le=T;break;case"defaultValue":W=T;break;case"multiple":z=T;default:T!==le&&mi(s,o,_,T,g,le)}o=W,d=z,g=Ue,Le!=null?Un(s,!!d,Le,!1):!!g!=!!d&&(o!=null?Un(s,!!d,o,!0):Un(s,!!d,d?[]:"",!1));return;case"textarea":Ue=Le=null;for(W in d)if(_=d[W],d.hasOwnProperty(W)&&_!=null&&!g.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:mi(s,o,W,null,g,_)}for(z in g)if(_=g[z],T=d[z],g.hasOwnProperty(z)&&(_!=null||T!=null))switch(z){case"value":Le=_;break;case"defaultValue":Ue=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==T&&mi(s,o,z,_,g,T)}_i(s,Le,Ue);return;case"option":for(var on in d)if(Le=d[on],d.hasOwnProperty(on)&&Le!=null&&!g.hasOwnProperty(on))switch(on){case"selected":s.selected=!1;break;default:mi(s,o,on,null,g,Le)}for(le in g)if(Le=g[le],Ue=d[le],g.hasOwnProperty(le)&&Le!==Ue&&(Le!=null||Ue!=null))switch(le){case"selected":s.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:mi(s,o,le,Le,g,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $t in d)Le=d[$t],d.hasOwnProperty($t)&&Le!=null&&!g.hasOwnProperty($t)&&mi(s,o,$t,null,g,Le);for(Ae in g)if(Le=g[Ae],Ue=d[Ae],g.hasOwnProperty(Ae)&&Le!==Ue&&(Le!=null||Ue!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(i(137,o));break;default:mi(s,o,Ae,Le,g,Ue)}return;default:if(Qh(o)){for(var gi in d)Le=d[gi],d.hasOwnProperty(gi)&&Le!==void 0&&!g.hasOwnProperty(gi)&&$_(s,o,gi,void 0,g,Le);for(We in g)Le=g[We],Ue=d[We],!g.hasOwnProperty(We)||Le===Ue||Le===void 0&&Ue===void 0||$_(s,o,We,Le,g,Ue);return}}for(var be in d)Le=d[be],d.hasOwnProperty(be)&&Le!=null&&!g.hasOwnProperty(be)&&mi(s,o,be,null,g,Le);for(tt in g)Le=g[tt],Ue=d[tt],!g.hasOwnProperty(tt)||Le===Ue||Le==null&&Ue==null||mi(s,o,tt,Le,g,Ue)}var eS=null,tS=null;function Fy(s){return s.nodeType===9?s:s.ownerDocument}function TT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function nS(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var iS=null;function fU(){var s=window.event;return s&&s.type==="popstate"?s===iS?!1:(iS=s,!0):(iS=null,!1)}var CT=typeof setTimeout=="function"?setTimeout:void 0,hU=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,dU=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(s){return RT.resolve(null).then(s).catch(pU)}:CT;function pU(s){setTimeout(function(){throw s})}function Nu(s){return s==="head"}function DT(s,o){var d=o,g=0,_=0;do{var T=d.nextSibling;if(s.removeChild(d),T&&T.nodeType===8)if(d=T.data,d==="/$"){if(0<g&&8>g){d=g;var z=s.ownerDocument;if(d&1&&M0(z.documentElement),d&2&&M0(z.body),d&4)for(d=z.head,M0(d),z=d.firstChild;z;){var W=z.nextSibling,le=z.nodeName;z[Pa]||le==="SCRIPT"||le==="STYLE"||le==="LINK"&&z.rel.toLowerCase()==="stylesheet"||d.removeChild(z),z=W}}if(_===0){s.removeChild(T),L0(o);return}_--}else d==="$"||d==="$?"||d==="$!"?_++:g=d.charCodeAt(0)-48;else g=0;d=T}while(d);L0(o)}function aS(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":aS(d),ii(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function mU(s,o,d,g){for(;s.nodeType===1;){var _=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!g&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(g){if(!s[Pa])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(T=s.getAttribute("rel"),T==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(T!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(T=s.getAttribute("src"),(T!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&T&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var T=_.name==null?null:""+_.name;if(_.type==="hidden"&&s.getAttribute("name")===T)return s}else return s;if(s=zo(s.nextSibling),s===null)break}return null}function gU(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=zo(s.nextSibling),s===null))return null;return s}function sS(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function vU(s,o){var d=s.ownerDocument;if(s.data!=="$?"||d.readyState==="complete")o();else{var g=function(){o(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),s._reactRetry=g}}function zo(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return s}var rS=null;function NT(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return s;o--}else d==="/$"&&o++}s=s.previousSibling}return null}function LT(s,o,d){switch(o=Fy(d),s){case"html":if(s=o.documentElement,!s)throw Error(i(452));return s;case"head":if(s=o.head,!s)throw Error(i(453));return s;case"body":if(s=o.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function M0(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);ii(s)}var io=new Map,OT=new Set;function Hy(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var yc=K.d;K.d={f:yU,r:xU,D:bU,C:_U,L:SU,m:wU,X:EU,S:MU,M:TU};function yU(){var s=yc.f(),o=to();return s||o}function xU(s){var o=Z(s);o!==null&&o.tag===5&&o.type==="form"?by(o):yc.r(s)}var Zd=typeof document>"u"?null:document;function UT(s,o,d){var g=Zd;if(g&&typeof o=="string"&&o){var _=fn(o);_='link[rel="'+s+'"][href="'+_+'"]',typeof d=="string"&&(_+='[crossorigin="'+d+'"]'),OT.has(_)||(OT.add(_),s={rel:s,crossOrigin:d,href:o},g.querySelector(_)===null&&(o=g.createElement("link"),$a(o,"link",s),Ne(o),g.head.appendChild(o)))}}function bU(s){yc.D(s),UT("dns-prefetch",s,null)}function _U(s,o){yc.C(s,o),UT("preconnect",s,o)}function SU(s,o,d){yc.L(s,o,d);var g=Zd;if(g&&s&&o){var _='link[rel="preload"][as="'+fn(o)+'"]';o==="image"&&d&&d.imageSrcSet?(_+='[imagesrcset="'+fn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(_+='[imagesizes="'+fn(d.imageSizes)+'"]')):_+='[href="'+fn(s)+'"]';var T=_;switch(o){case"style":T=Kd(s);break;case"script":T=Qd(s)}io.has(T)||(s=m({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),io.set(T,s),g.querySelector(_)!==null||o==="style"&&g.querySelector(E0(T))||o==="script"&&g.querySelector(T0(T))||(o=g.createElement("link"),$a(o,"link",s),Ne(o),g.head.appendChild(o)))}}function wU(s,o){yc.m(s,o);var d=Zd;if(d&&s){var g=o&&typeof o.as=="string"?o.as:"script",_='link[rel="modulepreload"][as="'+fn(g)+'"][href="'+fn(s)+'"]',T=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Qd(s)}if(!io.has(T)&&(s=m({rel:"modulepreload",href:s},o),io.set(T,s),d.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(T0(T)))return}g=d.createElement("link"),$a(g,"link",s),Ne(g),d.head.appendChild(g)}}}function MU(s,o,d){yc.S(s,o,d);var g=Zd;if(g&&s){var _=Re(g).hoistableStyles,T=Kd(s);o=o||"default";var z=_.get(T);if(!z){var W={loading:0,preload:null};if(z=g.querySelector(E0(T)))W.loading=5;else{s=m({rel:"stylesheet",href:s,"data-precedence":o},d),(d=io.get(T))&&oS(s,d);var le=z=g.createElement("link");Ne(le),$a(le,"link",s),le._p=new Promise(function(Ae,We){le.onload=Ae,le.onerror=We}),le.addEventListener("load",function(){W.loading|=1}),le.addEventListener("error",function(){W.loading|=2}),W.loading|=4,ky(z,o,g)}z={type:"stylesheet",instance:z,count:1,state:W},_.set(T,z)}}}function EU(s,o){yc.X(s,o);var d=Zd;if(d&&s){var g=Re(d).hoistableScripts,_=Qd(s),T=g.get(_);T||(T=d.querySelector(T0(_)),T||(s=m({src:s,async:!0},o),(o=io.get(_))&&lS(s,o),T=d.createElement("script"),Ne(T),$a(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function TU(s,o){yc.M(s,o);var d=Zd;if(d&&s){var g=Re(d).hoistableScripts,_=Qd(s),T=g.get(_);T||(T=d.querySelector(T0(_)),T||(s=m({src:s,async:!0,type:"module"},o),(o=io.get(_))&&lS(s,o),T=d.createElement("script"),Ne(T),$a(T,"link",s),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},g.set(_,T))}}function IT(s,o,d,g){var _=(_=ge.current)?Hy(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Kd(d.href),d=Re(_).hoistableStyles,g=d.get(o),g||(g={type:"style",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Kd(d.href);var T=Re(_).hoistableStyles,z=T.get(s);if(z||(_=_.ownerDocument||_,z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(s,z),(T=_.querySelector(E0(s)))&&!T._p&&(z.instance=T,z.state.loading=5),io.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},io.set(s,d),T||AU(_,s,d,z.state))),o&&g===null)throw Error(i(528,""));return z}if(o&&g!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qd(d),d=Re(_).hoistableScripts,g=d.get(o),g||(g={type:"script",instance:null,count:0,state:null},d.set(o,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Kd(s){return'href="'+fn(s)+'"'}function E0(s){return'link[rel="stylesheet"]['+s+"]"}function PT(s){return m({},s,{"data-precedence":s.precedence,precedence:null})}function AU(s,o,d,g){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?g.loading=1:(o=s.createElement("link"),g.preload=o,o.addEventListener("load",function(){return g.loading|=1}),o.addEventListener("error",function(){return g.loading|=2}),$a(o,"link",d),Ne(o),s.head.appendChild(o))}function Qd(s){return'[src="'+fn(s)+'"]'}function T0(s){return"script[async]"+s}function BT(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var g=s.querySelector('style[data-href~="'+fn(d.href)+'"]');if(g)return o.instance=g,Ne(g),g;var _=m({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(s.ownerDocument||s).createElement("style"),Ne(g),$a(g,"style",_),ky(g,d.precedence,s),o.instance=g;case"stylesheet":_=Kd(d.href);var T=s.querySelector(E0(_));if(T)return o.state.loading|=4,o.instance=T,Ne(T),T;g=PT(d),(_=io.get(_))&&oS(g,_),T=(s.ownerDocument||s).createElement("link"),Ne(T);var z=T;return z._p=new Promise(function(W,le){z.onload=W,z.onerror=le}),$a(T,"link",g),o.state.loading|=4,ky(T,d.precedence,s),o.instance=T;case"script":return T=Qd(d.src),(_=s.querySelector(T0(T)))?(o.instance=_,Ne(_),_):(g=d,(_=io.get(T))&&(g=m({},d),lS(g,_)),s=s.ownerDocument||s,_=s.createElement("script"),Ne(_),$a(_,"link",g),s.head.appendChild(_),o.instance=_);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(g=o.instance,o.state.loading|=4,ky(g,d.precedence,s));return o.instance}function ky(s,o,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,T=_,z=0;z<g.length;z++){var W=g[z];if(W.dataset.precedence===o)T=W;else if(T!==_)break}T?T.parentNode.insertBefore(s,T.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function oS(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function lS(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var Gy=null;function zT(s,o,d){if(Gy===null){var g=new Map,_=Gy=new Map;_.set(d,g)}else _=Gy,g=_.get(d),g||(g=new Map,_.set(d,g));if(g.has(s))return g;for(g.set(s,null),d=d.getElementsByTagName(s),_=0;_<d.length;_++){var T=d[_];if(!(T[Pa]||T[Bi]||s==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var z=T.getAttribute(o)||"";z=s+z;var W=g.get(z);W?W.push(T):g.set(z,[T])}}return g}function VT(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function CU(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function FT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var A0=null;function RU(){}function DU(s,o,d){if(A0===null)throw Error(i(475));var g=A0;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var _=Kd(d.href),T=s.querySelector(E0(_));if(T){s=T._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(g.count++,g=jy.bind(g),s.then(g,g)),o.state.loading|=4,o.instance=T,Ne(T);return}T=s.ownerDocument||s,d=PT(d),(_=io.get(_))&&oS(d,_),T=T.createElement("link"),Ne(T);var z=T;z._p=new Promise(function(W,le){z.onload=W,z.onerror=le}),$a(T,"link",d),o.instance=T}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(g.count++,o=jy.bind(g),s.addEventListener("load",o),s.addEventListener("error",o))}}function NU(){if(A0===null)throw Error(i(475));var s=A0;return s.stylesheets&&s.count===0&&cS(s,s.stylesheets),0<s.count?function(o){var d=setTimeout(function(){if(s.stylesheets&&cS(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(d)}}:null}function jy(){if(this.count--,this.count===0){if(this.stylesheets)cS(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Xy=null;function cS(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Xy=new Map,o.forEach(LU,s),Xy=null,jy.call(s))}function LU(s,o){if(!(o.state.loading&4)){var d=Xy.get(s);if(d)var g=d.get(null);else{d=new Map,Xy.set(s,d);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<_.length;T++){var z=_[T];(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")&&(d.set(z.dataset.precedence,z),g=z)}g&&d.set(null,g)}_=o.instance,z=_.getAttribute("data-precedence"),T=d.get(z)||g,T===g&&d.set(null,_),d.set(z,_),this.count++,g=jy.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),T?T.parentNode.insertBefore(_,T.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),o.state.loading|=4}}var C0={$$typeof:D,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function OU(s,o,d,g,_,T,z,W){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=T,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=W,this.incompleteTransitions=new Map}function HT(s,o,d,g,_,T,z,W,le,Ae,We,tt){return s=new OU(s,o,d,z,W,le,Ae,tt),o=1,T===!0&&(o|=24),T=cs(3,null,null,o),s.current=T,T.stateNode=s,o=yd(),o.refCount++,s.pooledCache=o,o.refCount++,T.memoizedState={element:g,isDehydrated:d,cache:o},Jm(T),s}function kT(s){return s?(s=ol,s):ol}function GT(s,o,d,g,_,T){_=kT(_),g.context===null?g.context=_:g.pendingContext=_,g=jr(o),g.payload={element:d},T=T===void 0?null:T,T!==null&&(g.callback=T),d=Co(s,g,o),d!==null&&(Ja(d,s,o),ec(d,s,o))}function jT(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function uS(s,o){jT(s,o),(s=s.alternate)&&jT(s,o)}function XT(s){if(s.tag===13){var o=wo(s,67108864);o!==null&&Ja(o,s,67108864),uS(s,67108864)}}var Wy=!0;function UU(s,o,d,g){var _=G.T;G.T=null;var T=K.p;try{K.p=2,fS(s,o,d,g)}finally{K.p=T,G.T=_}}function IU(s,o,d,g){var _=G.T;G.T=null;var T=K.p;try{K.p=8,fS(s,o,d,g)}finally{K.p=T,G.T=_}}function fS(s,o,d,g){if(Wy){var _=hS(g);if(_===null)J_(s,o,g,qy,d),qT(s,g);else if(BU(_,s,o,d,g))g.stopPropagation();else if(qT(s,g),o&4&&-1<PU.indexOf(s)){for(;_!==null;){var T=Z(_);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var z=Ot(T.pendingLanes);if(z!==0){var W=T;for(W.pendingLanes|=2,W.entangledLanes|=2;z;){var le=1<<31-xt(z);W.entanglements[1]|=le,z&=~le}Nl(T),(Zn&6)===0&&(Va=$e()+500,_0(0))}}break;case 13:W=wo(T,2),W!==null&&Ja(W,T,2),to(),uS(T,2)}if(T=hS(g),T===null&&J_(s,o,g,qy,d),T===_)break;_=T}_!==null&&g.stopPropagation()}else J_(s,o,g,null,d)}}function hS(s){return s=$h(s),dS(s)}var qy=null;function dS(s){if(qy=null,s=k(s),s!==null){var o=r(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=l(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return qy=s,null}function WT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case st:return 2;case bt:return 8;case pt:case wt:return 32;case Q:return 268435456;default:return 32}default:return 32}}var pS=!1,Lu=null,Ou=null,Uu=null,R0=new Map,D0=new Map,Iu=[],PU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(s,o){switch(s){case"focusin":case"focusout":Lu=null;break;case"dragenter":case"dragleave":Ou=null;break;case"mouseover":case"mouseout":Uu=null;break;case"pointerover":case"pointerout":R0.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":D0.delete(o.pointerId)}}function N0(s,o,d,g,_,T){return s===null||s.nativeEvent!==T?(s={blockedOn:o,domEventName:d,eventSystemFlags:g,nativeEvent:T,targetContainers:[_]},o!==null&&(o=Z(o),o!==null&&XT(o)),s):(s.eventSystemFlags|=g,o=s.targetContainers,_!==null&&o.indexOf(_)===-1&&o.push(_),s)}function BU(s,o,d,g,_){switch(o){case"focusin":return Lu=N0(Lu,s,o,d,g,_),!0;case"dragenter":return Ou=N0(Ou,s,o,d,g,_),!0;case"mouseover":return Uu=N0(Uu,s,o,d,g,_),!0;case"pointerover":var T=_.pointerId;return R0.set(T,N0(R0.get(T)||null,s,o,d,g,_)),!0;case"gotpointercapture":return T=_.pointerId,D0.set(T,N0(D0.get(T)||null,s,o,d,g,_)),!0}return!1}function YT(s){var o=k(s.target);if(o!==null){var d=r(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){s.blockedOn=o,Pi(s.priority,function(){if(d.tag===13){var g=Oi();g=Pt(g);var _=wo(d,g);_!==null&&Ja(_,d,g),uS(d,g)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Yy(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=hS(s.nativeEvent);if(d===null){d=s.nativeEvent;var g=new d.constructor(d.type,d);Jh=g,d.target.dispatchEvent(g),Jh=null}else return o=Z(d),o!==null&&XT(o),s.blockedOn=d,!1;o.shift()}return!0}function ZT(s,o,d){Yy(s)&&d.delete(o)}function zU(){pS=!1,Lu!==null&&Yy(Lu)&&(Lu=null),Ou!==null&&Yy(Ou)&&(Ou=null),Uu!==null&&Yy(Uu)&&(Uu=null),R0.forEach(ZT),D0.forEach(ZT)}function Zy(s,o){s.blockedOn===o&&(s.blockedOn=null,pS||(pS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zU)))}var Ky=null;function KT(s){Ky!==s&&(Ky=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ky===s&&(Ky=null);for(var o=0;o<s.length;o+=3){var d=s[o],g=s[o+1],_=s[o+2];if(typeof g!="function"){if(dS(g||d)===null)continue;break}var T=Z(d);T!==null&&(s.splice(o,3),o-=3,p0(T,{pending:!0,data:_,method:d.method,action:g},g,_))}}))}function L0(s){function o(le){return Zy(le,s)}Lu!==null&&Zy(Lu,s),Ou!==null&&Zy(Ou,s),Uu!==null&&Zy(Uu,s),R0.forEach(o),D0.forEach(o);for(var d=0;d<Iu.length;d++){var g=Iu[d];g.blockedOn===s&&(g.blockedOn=null)}for(;0<Iu.length&&(d=Iu[0],d.blockedOn===null);)YT(d),d.blockedOn===null&&Iu.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var _=d[g],T=d[g+1],z=_[zi]||null;if(typeof T=="function")z||KT(d);else if(z){var W=null;if(T&&T.hasAttribute("formAction")){if(_=T,z=T[zi]||null)W=z.formAction;else if(dS(_)!==null)continue}else W=z.action;typeof W=="function"?d[g+1]=W:(d.splice(g,3),g-=3),KT(d)}}}function mS(s){this._internalRoot=s}Qy.prototype.render=mS.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,g=Oi();GT(d,g,s,o,null,null)},Qy.prototype.unmount=mS.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;GT(s.current,2,null,s,null,null),to(),o[Ia]=null}};function Qy(s){this._internalRoot=s}Qy.prototype.unstable_scheduleHydration=function(s){if(s){var o=vn();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Iu.length&&o!==0&&o<Iu[d].priority;d++);Iu.splice(d,0,s),d===0&&YT(s)}};var QT=e.version;if(QT!=="19.1.0")throw Error(i(527,QT,"19.1.0"));K.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=h(o),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var VU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jy.isDisabled&&Jy.supportsFiber)try{Ve=Jy.inject(VU),ke=Jy}catch{}}return U0.createRoot=function(s,o){if(!a(s))throw Error(i(299));var d=!1,g="",_=Zf,T=Id,z=Ly,W=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(z=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(W=o.unstable_transitionCallbacks)),o=HT(s,1,!1,null,null,d,g,_,T,z,W,null),s[Ia]=o.current,Q_(s),new mS(o)},U0.hydrateRoot=function(s,o,d){if(!a(s))throw Error(i(299));var g=!1,_="",T=Zf,z=Id,W=Ly,le=null,Ae=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(_=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(z=d.onCaughtError),d.onRecoverableError!==void 0&&(W=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(le=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ae=d.formState)),o=HT(s,1,!0,o,d??null,g,_,T,z,W,le,Ae),o.context=kT(null),d=o.current,g=Oi(),g=Pt(g),_=jr(g),_.callback=null,Co(d,_,g),d=g,o.current.lanes=d,ct(o,d),Nl(o),s[Ia]=o.current,Q_(s),new Qy(o)},U0.version="19.1.0",U0}var o3;function ZU(){if(o3)return yS.exports;o3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yS.exports=YU(),yS.exports}var KU=ZU();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var l3="popstate";function QU(n={}){function e(i,a){let{pathname:r,search:l,hash:u}=i.location;return t2("",{pathname:r,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:_g(a)}return $U(e,t,null,n)}function qi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gl(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JU(){return Math.random().toString(36).substring(2,10)}function c3(n,e){return{usr:n.state,key:n.key,idx:e}}function t2(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?rm(e):e,state:t,key:e&&e.key||i||JU()}}function _g({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function rm(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function $U(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:r=!1}=i,l=a.history,u="POP",h=null,p=m();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let E=m(),w=E==null?null:E-p;p=E,h&&h({action:u,location:C.location,delta:w})}function x(E,w){u="PUSH";let R=t2(C.location,E,w);p=m()+1;let D=c3(R,p),O=C.createHref(R);try{l.pushState(D,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(O)}r&&h&&h({action:u,location:C.location,delta:1})}function b(E,w){u="REPLACE";let R=t2(C.location,E,w);p=m();let D=c3(R,p),O=C.createHref(R);l.replaceState(D,"",O),r&&h&&h({action:u,location:C.location,delta:0})}function M(E){return eI(E)}let C={get action(){return u},get location(){return n(a,l)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(l3,v),h=E,()=>{a.removeEventListener(l3,v),h=null}},createHref(E){return e(a,E)},createURL:M,encodeLocation(E){let w=M(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:x,replace:b,go(E){return l.go(E)}};return C}function eI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),qi(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:_g(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function aD(n,e,t="/"){return tI(n,e,t,!1)}function tI(n,e,t,i){let a=typeof e=="string"?rm(e):e,r=zc(a.pathname||"/",t);if(r==null)return null;let l=sD(n);nI(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=dI(r);u=fI(l[h],p,i)}return u}function sD(n,e=[],t=[],i=""){let a=(r,l,u)=>{let h={relativePath:u===void 0?r.path||"":u,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};h.relativePath.startsWith("/")&&(qi(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let p=Uc([i,h.relativePath]),m=t.concat(h);r.children&&r.children.length>0&&(qi(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),sD(r.children,e,m,p)),!(r.path==null&&!r.index)&&e.push({path:p,score:cI(p,r.index),routesMeta:m})};return n.forEach((r,l)=>{if(r.path===""||!r.path?.includes("?"))a(r,l);else for(let u of rD(r.path))a(r,l,u)}),e}function rD(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return a?[r,""]:[r];let l=rD(i.join("/")),u=[];return u.push(...l.map(h=>h===""?r:[r,h].join("/"))),a&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function nI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var iI=/^:[\w-]+$/,aI=3,sI=2,rI=1,oI=10,lI=-2,u3=n=>n==="*";function cI(n,e){let t=n.split("/"),i=t.length;return t.some(u3)&&(i+=lI),e&&(i+=sI),t.filter(a=>!u3(a)).reduce((a,r)=>a+(iI.test(r)?aI:r===""?rI:oI),i)}function uI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function fI(n,e,t=!1){let{routesMeta:i}=n,a={},r="/",l=[];for(let u=0;u<i.length;++u){let h=i[u],p=u===i.length-1,m=r==="/"?e:e.slice(r.length)||"/",v=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),x=h.route;if(!v&&p&&t&&!i[i.length-1].route.index&&(v=yb({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!v)return null;Object.assign(a,v.params),l.push({params:a,pathname:Uc([r,v.pathname]),pathnameBase:vI(Uc([r,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(r=Uc([r,v.pathnameBase]))}return l}function yb(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=hI(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let r=a[0],l=r.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:i.reduce((p,{paramName:m,isOptional:v},x)=>{if(m==="*"){let M=u[x]||"";l=r.slice(0,r.length-M.length).replace(/(.)\/+$/,"$1")}const b=u[x];return v&&!b?p[m]=void 0:p[m]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:r,pathnameBase:l,pattern:n}}function hI(n,e=!1,t=!0){Gl(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(i.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function dI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gl(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zc(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function pI(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?rm(n):n;return{pathname:t?t.startsWith("/")?t:mI(t,e):e,search:yI(i),hash:xI(a)}}function mI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function SS(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function oD(n){let e=gI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function lD(n,e,t,i=!1){let a;typeof n=="string"?a=rm(n):(a={...n},qi(!a.pathname||!a.pathname.includes("?"),SS("?","pathname","search",a)),qi(!a.pathname||!a.pathname.includes("#"),SS("#","pathname","hash",a)),qi(!a.search||!a.search.includes("#"),SS("#","search","hash",a)));let r=n===""||a.pathname==="",l=r?"/":a.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!i&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),v-=1;a.pathname=x.join("/")}u=v>=0?e[v]:"/"}let h=pI(a,u),p=l&&l!=="/"&&l.endsWith("/"),m=(r||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}var Uc=n=>n.join("/").replace(/\/\/+/g,"/"),vI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function bI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cD=["POST","PUT","PATCH","DELETE"];new Set(cD);var _I=["GET",...cD];new Set(_I);var om=ne.createContext(null);om.displayName="DataRouter";var U1=ne.createContext(null);U1.displayName="DataRouterState";ne.createContext(!1);var uD=ne.createContext({isTransitioning:!1});uD.displayName="ViewTransition";var SI=ne.createContext(new Map);SI.displayName="Fetchers";var wI=ne.createContext(null);wI.displayName="Await";var ql=ne.createContext(null);ql.displayName="Navigation";var Kg=ne.createContext(null);Kg.displayName="Location";var kc=ne.createContext({outlet:null,matches:[],isDataRoute:!1});kc.displayName="Route";var lM=ne.createContext(null);lM.displayName="RouteError";function MI(n,{relative:e}={}){qi(Qg(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=ne.useContext(ql),{hash:a,pathname:r,search:l}=Jg(n,{relative:e}),u=r;return t!=="/"&&(u=r==="/"?t:Uc([t,r])),i.createHref({pathname:u,search:l,hash:a})}function Qg(){return ne.useContext(Kg)!=null}function Gc(){return qi(Qg(),"useLocation() may be used only in the context of a <Router> component."),ne.useContext(Kg).location}var fD="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hD(n){ne.useContext(ql).static||ne.useLayoutEffect(n)}function EI(){let{isDataRoute:n}=ne.useContext(kc);return n?zI():TI()}function TI(){qi(Qg(),"useNavigate() may be used only in the context of a <Router> component.");let n=ne.useContext(om),{basename:e,navigator:t}=ne.useContext(ql),{matches:i}=ne.useContext(kc),{pathname:a}=Gc(),r=JSON.stringify(oD(i)),l=ne.useRef(!1);return hD(()=>{l.current=!0}),ne.useCallback((h,p={})=>{if(Gl(l.current,fD),!l.current)return;if(typeof h=="number"){t.go(h);return}let m=lD(h,JSON.parse(r),a,p.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Uc([e,m.pathname])),(p.replace?t.replace:t.push)(m,p.state,p)},[e,t,r,a,n])}ne.createContext(null);function Jg(n,{relative:e}={}){let{matches:t}=ne.useContext(kc),{pathname:i}=Gc(),a=JSON.stringify(oD(t));return ne.useMemo(()=>lD(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function AI(n,e){return dD(n,e)}function dD(n,e,t,i){qi(Qg(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ne.useContext(ql),{matches:r}=ne.useContext(kc),l=r[r.length-1],u=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",m=l&&l.route;{let w=m&&m.path||"";pD(h,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let v=Gc(),x;if(e){let w=typeof e=="string"?rm(e):e;qi(p==="/"||w.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=v;let b=x.pathname||"/",M=b;if(p!=="/"){let w=p.replace(/^\//,"").split("/");M="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let C=aD(n,{pathname:M});Gl(m||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gl(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=LI(C&&C.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:Uc([p,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Uc([p,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),r,t,i);return e&&E?ne.createElement(Kg.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},E):E}function CI(){let n=BI(),e=bI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ne.createElement(ne.Fragment,null,ne.createElement("p",null," Hey developer "),ne.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ne.createElement("code",{style:r},"ErrorBoundary")," or"," ",ne.createElement("code",{style:r},"errorElement")," prop on your route.")),ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:a},t):null,l)}var RI=ne.createElement(CI,null),DI=class extends ne.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ne.createElement(kc.Provider,{value:this.props.routeContext},ne.createElement(lM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function NI({routeContext:n,match:e,children:t}){let i=ne.useContext(om);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),ne.createElement(kc.Provider,{value:n},t)}function LI(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,r=t?.errors;if(r!=null){let h=a.findIndex(p=>p.route.id&&r?.[p.route.id]!==void 0);qi(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<a.length;h++){let p=a[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:v}=t,x=p.route.loader&&!m.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,p,m)=>{let v,x=!1,b=null,M=null;t&&(v=r&&p.route.id?r[p.route.id]:void 0,b=p.route.errorElement||RI,l&&(u<0&&m===0?(pD("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):u===m&&(x=!0,M=p.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,m+1)),E=()=>{let w;return v?w=b:x?w=M:p.route.Component?w=ne.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=h,ne.createElement(NI,{match:p,routeContext:{outlet:h,matches:C,isDataRoute:t!=null},children:w})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?ne.createElement(DI,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:E(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):E()},null)}function cM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OI(n){let e=ne.useContext(om);return qi(e,cM(n)),e}function UI(n){let e=ne.useContext(U1);return qi(e,cM(n)),e}function II(n){let e=ne.useContext(kc);return qi(e,cM(n)),e}function uM(n){let e=II(n),t=e.matches[e.matches.length-1];return qi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function PI(){return uM("useRouteId")}function BI(){let n=ne.useContext(lM),e=UI("useRouteError"),t=uM("useRouteError");return n!==void 0?n:e.errors?.[t]}function zI(){let{router:n}=OI("useNavigate"),e=uM("useNavigate"),t=ne.useRef(!1);return hD(()=>{t.current=!0}),ne.useCallback(async(a,r={})=>{Gl(t.current,fD),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...r}))},[n,e])}var f3={};function pD(n,e,t){!e&&!f3[n]&&(f3[n]=!0,Gl(!1,t))}ne.memo(VI);function VI({routes:n,future:e,state:t}){return dD(n,void 0,t,e)}function Rc(n){qi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:r=!1}){qi(!Qg(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:a,static:r,future:{}}),[l,a,r]);typeof t=="string"&&(t=rm(t));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:x="default"}=t,b=ne.useMemo(()=>{let M=zc(h,l);return M==null?null:{location:{pathname:M,search:p,hash:m,state:v,key:x},navigationType:i}},[l,h,p,m,v,x,i]);return Gl(b!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:ne.createElement(ql.Provider,{value:u},ne.createElement(Kg.Provider,{children:e,value:b}))}function HI({children:n,location:e}){return AI(n2(n),e)}function n2(n,e=[]){let t=[];return ne.Children.forEach(n,(i,a)=>{if(!ne.isValidElement(i))return;let r=[...e,a];if(i.type===ne.Fragment){t.push.apply(t,n2(i.props.children,r));return}qi(i.type===Rc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qi(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=n2(i.props.children,r)),t.push(l)}),t}var nb="get",ib="application/x-www-form-urlencoded";function I1(n){return n!=null&&typeof n.tagName=="string"}function kI(n){return I1(n)&&n.tagName.toLowerCase()==="button"}function GI(n){return I1(n)&&n.tagName.toLowerCase()==="form"}function jI(n){return I1(n)&&n.tagName.toLowerCase()==="input"}function XI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function WI(n,e){return n.button===0&&(!e||e==="_self")&&!XI(n)}var $y=null;function qI(){if($y===null)try{new FormData(document.createElement("form"),0),$y=!1}catch{$y=!0}return $y}var YI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wS(n){return n!=null&&!YI.has(n)?(Gl(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ib}"`),null):n}function ZI(n,e){let t,i,a,r,l;if(GI(n)){let u=n.getAttribute("action");i=u?zc(u,e):null,t=n.getAttribute("method")||nb,a=wS(n.getAttribute("enctype"))||ib,r=new FormData(n)}else if(kI(n)||jI(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(i=h?zc(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||nb,a=wS(n.getAttribute("formenctype"))||wS(u.getAttribute("enctype"))||ib,r=new FormData(u,n),!qI()){let{name:p,type:m,value:v}=n;if(m==="image"){let x=p?`${p}.`:"";r.append(`${x}x`,"0"),r.append(`${x}y`,"0")}else p&&r.append(p,v)}}else{if(I1(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nb,i=null,a=ib,l=n}return r&&a==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:r,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fM(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function KI(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&zc(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function QI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function JI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $I(n,e,t){let i=await Promise.all(n.map(async a=>{let r=e.routes[a.route.id];if(r){let l=await QI(r,t);return l.links?l.links():[]}return[]}));return iP(i.flat(1).filter(JI).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function h3(n,e,t,i,a,r){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>t[p].pathname!==h.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==h.params["*"];return r==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):r==="data"?e.filter((h,p)=>{let m=i.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function eP(n,e,{includeHydrateFallback:t}={}){return tP(n.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let r=[a.module];return a.clientActionModule&&(r=r.concat(a.clientActionModule)),a.clientLoaderModule&&(r=r.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(r=r.concat(a.hydrateFallbackModule)),a.imports&&(r=r.concat(a.imports)),r}).flat(1))}function tP(n){return[...new Set(n)]}function nP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function iP(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let r=JSON.stringify(nP(a));return t.has(r)||(t.add(r),i.push({key:r,link:a})),i},[])}function mD(){let n=ne.useContext(om);return fM(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function aP(){let n=ne.useContext(U1);return fM(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var hM=ne.createContext(void 0);hM.displayName="FrameworkContext";function gD(){let n=ne.useContext(hM);return fM(n,"You must render this element inside a <HydratedRouter> element"),n}function sP(n,e){let t=ne.useContext(hM),[i,a]=ne.useState(!1),[r,l]=ne.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:m,onTouchStart:v}=e,x=ne.useRef(null);ne.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let C=w=>{w.forEach(R=>{l(R.isIntersecting)})},E=new IntersectionObserver(C,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[n]),ne.useEffect(()=>{if(i){let C=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(C)}}},[i]);let b=()=>{a(!0)},M=()=>{a(!1),l(!1)};return t?n!=="intent"?[r,x,{}]:[r,x,{onFocus:I0(u,b),onBlur:I0(h,M),onMouseEnter:I0(p,b),onMouseLeave:I0(m,M),onTouchStart:I0(v,b)}]:[!1,x,{}]}function I0(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rP({page:n,...e}){let{router:t}=mD(),i=ne.useMemo(()=>aD(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?ne.createElement(lP,{page:n,matches:i,...e}):null}function oP(n){let{manifest:e,routeModules:t}=gD(),[i,a]=ne.useState([]);return ne.useEffect(()=>{let r=!1;return $I(n,e,t).then(l=>{r||a(l)}),()=>{r=!0}},[n,e,t]),i}function lP({page:n,matches:e,...t}){let i=Gc(),{manifest:a,routeModules:r}=gD(),{basename:l}=mD(),{loaderData:u,matches:h}=aP(),p=ne.useMemo(()=>h3(n,e,h,a,i,"data"),[n,e,h,a,i]),m=ne.useMemo(()=>h3(n,e,h,a,i,"assets"),[n,e,h,a,i]),v=ne.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let M=new Set,C=!1;if(e.forEach(w=>{let R=a.routes[w.route.id];!R||!R.hasLoader||(!p.some(D=>D.route.id===w.route.id)&&w.route.id in u&&r[w.route.id]?.shouldRevalidate||R.hasClientLoader?C=!0:M.add(w.route.id))}),M.size===0)return[];let E=KI(n,l,"data");return C&&M.size>0&&E.searchParams.set("_routes",e.filter(w=>M.has(w.route.id)).map(w=>w.route.id).join(",")),[E.pathname+E.search]},[l,u,i,a,p,e,n,r]),x=ne.useMemo(()=>eP(m,a),[m,a]),b=oP(m);return ne.createElement(ne.Fragment,null,v.map(M=>ne.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...t})),x.map(M=>ne.createElement("link",{key:M,rel:"modulepreload",href:M,...t})),b.map(({key:M,link:C})=>ne.createElement("link",{key:M,...C})))}function cP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vD&&(window.__reactRouterVersion="7.7.0")}catch{}function uP({basename:n,children:e,window:t}){let i=ne.useRef();i.current==null&&(i.current=QU({window:t,v5Compat:!0}));let a=i.current,[r,l]=ne.useState({action:a.action,location:a.location}),u=ne.useCallback(h=>{ne.startTransition(()=>l(h))},[l]);return ne.useLayoutEffect(()=>a.listen(u),[a,u]),ne.createElement(FI,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:a})}var yD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=ne.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:r,replace:l,state:u,target:h,to:p,preventScrollReset:m,viewTransition:v,...x},b){let{basename:M}=ne.useContext(ql),C=typeof p=="string"&&yD.test(p),E,w=!1;if(typeof p=="string"&&C&&(E=p,vD))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),q=zc(L.pathname,M);L.origin===I.origin&&q!=null?p=q+L.search+L.hash:w=!0}catch{Gl(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=MI(p,{relative:a}),[D,O,P]=sP(i,x),U=pP(p,{replace:l,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:v});function V(I){e&&e(I),I.defaultPrevented||U(I)}let H=ne.createElement("a",{...x,...P,href:E||R,onClick:w||r?e:V,ref:cP(b,O),target:h,"data-discover":!C&&t==="render"?"true":void 0});return D&&!C?ne.createElement(ne.Fragment,null,H,ne.createElement(rP,{page:R})):H});ks.displayName="Link";var fP=ne.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:r,to:l,viewTransition:u,children:h,...p},m){let v=Jg(l,{relative:p.relative}),x=Gc(),b=ne.useContext(U1),{navigator:M,basename:C}=ne.useContext(ql),E=b!=null&&xP(v)&&u===!0,w=M.encodeLocation?M.encodeLocation(v).pathname:v.pathname,R=x.pathname,D=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,w=w.toLowerCase()),D&&C&&(D=zc(D,C)||D);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let P=R===w||!a&&R.startsWith(w)&&R.charAt(O)==="/",U=D!=null&&(D===w||!a&&D.startsWith(w)&&D.charAt(w.length)==="/"),V={isActive:P,isPending:U,isTransitioning:E},H=P?e:void 0,I;typeof i=="function"?I=i(V):I=[i,P?"active":null,U?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let L=typeof r=="function"?r(V):r;return ne.createElement(ks,{...p,"aria-current":H,className:I,ref:m,style:L,to:l,viewTransition:u},typeof h=="function"?h(V):h)});fP.displayName="NavLink";var hP=ne.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:r,method:l=nb,action:u,onSubmit:h,relative:p,preventScrollReset:m,viewTransition:v,...x},b)=>{let M=vP(),C=yP(u,{relative:p}),E=l.toLowerCase()==="get"?"get":"post",w=typeof u=="string"&&yD.test(u),R=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let O=D.nativeEvent.submitter,P=O?.getAttribute("formmethod")||l;M(O||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:a,state:r,relative:p,preventScrollReset:m,viewTransition:v})};return ne.createElement("form",{ref:b,method:E,action:C,onSubmit:i?h:R,...x,"data-discover":!w&&n==="render"?"true":void 0})});hP.displayName="Form";function dP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xD(n){let e=ne.useContext(om);return qi(e,dP(n)),e}function pP(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:r,viewTransition:l}={}){let u=EI(),h=Gc(),p=Jg(n,{relative:r});return ne.useCallback(m=>{if(WI(m,e)){m.preventDefault();let v=t!==void 0?t:_g(h)===_g(p);u(n,{replace:v,state:i,preventScrollReset:a,relative:r,viewTransition:l})}},[h,u,p,t,i,e,n,a,r,l])}var mP=0,gP=()=>`__${String(++mP)}__`;function vP(){let{router:n}=xD("useSubmit"),{basename:e}=ne.useContext(ql),t=PI();return ne.useCallback(async(i,a={})=>{let{action:r,method:l,encType:u,formData:h,body:p}=ZI(i,e);if(a.navigate===!1){let m=a.fetcherKey||gP();await n.fetch(m,t,a.action||r,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await n.navigate(a.action||r,{preventScrollReset:a.preventScrollReset,formData:h,body:p,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function yP(n,{relative:e}={}){let{basename:t}=ne.useContext(ql),i=ne.useContext(kc);qi(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),r={...Jg(n||".",{relative:e})},l=Gc();if(n==null){r.search=l.search;let u=new URLSearchParams(r.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();r.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Uc([t,r.pathname])),_g(r)}function xP(n,e={}){let t=ne.useContext(uD);qi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=xD("useViewTransitionState"),a=Jg(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=zc(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=zc(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yb(a.pathname,l)!=null||yb(a.pathname,r)!=null}var bD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d3=ns.createContext&&ns.createContext(bD),bP=["attr","size","title"];function _P(n,e){if(n==null)return{};var t=SP(n,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function SP(n,e){if(n==null)return{};var t={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function xb(){return xb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xb.apply(this,arguments)}function p3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function bb(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(t),!0).forEach(function(i){wP(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p3(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function wP(n,e,t){return e=MP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MP(n){var e=EP(n,"string");return typeof e=="symbol"?e:e+""}function EP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _D(n){return n&&n.map((e,t)=>ns.createElement(e.tag,bb({key:t},e.attr),_D(e.child)))}function SD(n){return e=>ns.createElement(TP,xb({attr:bb({},n.attr)},e),_D(n.child))}function TP(n){var e=t=>{var{attr:i,size:a,title:r}=n,l=_P(n,bP),u=a||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),ns.createElement("svg",xb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,l,{className:h,style:bb(bb({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),r&&ns.createElement("title",null,r),n.children)};return d3!==void 0?ns.createElement(d3.Consumer,null,t=>e(t)):e(bD)}function AP(n){return SD({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"},child:[]}]})(n)}function CP(n){return SD({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"3"},child:[]},{tag:"line",attr:{x1:"12",y1:"21",x2:"12",y2:"23"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"},child:[]},{tag:"line",attr:{x1:"1",y1:"12",x2:"3",y2:"12"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"23",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"},child:[]},{tag:"line",attr:{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"},child:[]}]})(n)}const m3=()=>{const[n,e]=ne.useState(!1);ne.useEffect(()=>{const i=localStorage.getItem("darkMode")==="true";e(i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const t=()=>{const i=!n;e(i),localStorage.setItem("darkMode",i),i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return B.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none","aria-label":"Toggle dark mode",children:n?B.jsx(CP,{className:"w-5 h-5"}):B.jsx(AP,{className:"w-5 h-5"})})},g3=[{name:"Home",path:"/"},{name:"Chairman's Gallery",path:"/chairmans-gallery"},{name:"About",path:"/about"},{name:"Academics",path:"/academics"},{name:"Facilities",path:"/facilities"},{name:"Gallery",path:"/gallery"},{name:"Contact",path:"/contact"}],RP=()=>{const[n,e]=ne.useState(!1),[t,i]=ne.useState(!1),a=Gc();ne.useEffect(()=>{const l=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]);const r=l=>a.pathname===l;return B.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-300 ${t?"bg-white dark:bg-gray-900 shadow-md":"bg-white/80 dark:bg-gray-900/90 backdrop-blur-sm"}`,children:[B.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:B.jsxs("div",{className:"flex items-center justify-between h-16",children:[B.jsx("div",{className:"flex items-center",children:B.jsx(ks,{to:"/",className:"flex items-center",children:B.jsx("img",{className:"h-16 w-auto",src:"./img/full_logo_new.png",alt:"Tetrahedron Group of Institutions"})})}),B.jsx("div",{className:"hidden md:block",children:B.jsxs("div",{className:"ml-10 flex items-center space-x-1",children:[g3.map(l=>B.jsx(ks,{to:l.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 ${r(l.path)?"bg-indigo-600 text-white dark:bg-indigo-500":"text-gray-900 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:l.name},l.path)),B.jsx(m3,{})]})}),B.jsx("div",{className:"-mr-2 flex md:hidden",children:B.jsx("button",{onClick:()=>e(!n),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-900 dark:text-white hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-800 focus:outline-none",children:n?B.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):B.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),B.jsx("div",{className:`${n?"block":"hidden"} md:hidden`,children:B.jsxs("div",{className:"px-4 pt-3 pb-5 space-y-2 bg-white dark:bg-gray-900 shadow-lg",children:[g3.map(l=>B.jsx(ks,{to:l.path,onClick:()=>e(!1),className:`block px-3 py-2 rounded-md text-base font-medium transition-all duration-200 ${r(l.path)?"bg-indigo-600 text-white dark:bg-indigo-500":"text-gray-900 dark:text-white hover:bg-gray-100 dark:hover:bg-gray-800"}`,children:l.name},l.path)),B.jsx("div",{className:"px-3 py-2",children:B.jsx(m3,{})})]})})]})},DP=()=>B.jsx("footer",{className:"bg-gray-800 text-white dark:bg-gray-900",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold mb-4",children:"About Us"}),B.jsx("p",{className:"text-gray-300",children:"Tetrahedron Group of Institutions is a leading residential science college nurturing academic excellence since 2013."})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),B.jsxs("ul",{className:"space-y-2",children:[B.jsx("li",{children:B.jsx(ks,{to:"/about",className:"text-gray-300 hover:text-white",children:"About"})}),B.jsx("li",{children:B.jsx(ks,{to:"/academics",className:"text-gray-300 hover:text-white",children:"Academics"})}),B.jsx("li",{children:B.jsx(ks,{to:"/facilities",className:"text-gray-300 hover:text-white",children:"Facilities"})}),B.jsx("li",{children:B.jsx(ks,{to:"/gallery",className:"text-gray-300 hover:text-white",children:"Gallery"})})]})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),B.jsxs("address",{className:"not-italic text-gray-300",children:[B.jsx("p",{children:"Tangi, Odisha"}),B.jsxs("p",{className:"mt-2",children:["Phone:",B.jsx("a",{href:"tel:+917008222977",className:"text-blue-400 hover:underline ml-1",children:"+91 7008222977"})]}),B.jsxs("p",{className:"mt-2",children:["Email:",B.jsx("a",{href:"mailto:info@tetrahedrontangi.com",className:"text-blue-400 hover:underline ml-1",children:"info@tetrahedrontangi.com"})]})]})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Connect With Us"}),B.jsxs("div",{className:"flex space-x-4",children:[B.jsxs("a",{href:"https://www.facebook.com/people/Tetrahedron-Tangi/100089418667693/",className:"text-gray-300 hover:text-white",children:[B.jsx("span",{className:"sr-only",children:"Facebook"}),B.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:B.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),B.jsxs("a",{href:"https://www.instagram.com/tetrahedrongroup",className:"text-gray-300 hover:text-white",children:[B.jsx("span",{className:"sr-only",children:"Instagram"}),B.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:B.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 3.807.058h.468c2.456 0 2.784-.011 3.807-.058.975-.045 1.504-.207 1.857-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-3.807v-.468c0-2.456-.011-2.784-.058-3.807-.045-.975-.207-1.504-.344-1.857a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),B.jsxs("a",{href:"https://www.youtube.com/watch?v=yWgNetIZ0vU",className:"text-gray-300 hover:text-white",children:[B.jsx("span",{className:"sr-only",children:"YouTube"}),B.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:B.jsx("path",{fillRule:"evenodd",d:"M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z",clipRule:"evenodd"})})]})]})]})]}),B.jsx("div",{className:"mt-8 pt-8 border-t border-gray-700",children:B.jsxs("div",{className:"text-gray-300 text-center",children:[B.jsxs("p",{children:[" ",new Date().getFullYear()," Tetrahedron Group of Institutions. All rights reserved."]}),B.jsxs("a",{href:"https://sarbajit.dev",target:"_blank",rel:"noopener noreferrer",children:[" ","Site was designed and developed by ",B.jsx("b",{children:"sarbajit.dev"})]})]})})]})}),dM=ne.createContext({});function pM(n){const e=ne.useRef(null);return e.current===null&&(e.current=n()),e.current}const mM=typeof window<"u",wD=mM?ne.useLayoutEffect:ne.useEffect,P1=ne.createContext(null);function gM(n,e){n.indexOf(e)===-1&&n.push(e)}function vM(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Vc=(n,e,t)=>t>e?e:t<n?n:t;let yM=()=>{};const Fc={},MD=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function ED(n){return typeof n=="object"&&n!==null}const TD=n=>/^0[^.\s]+$/u.test(n);function xM(n){let e;return()=>(e===void 0&&(e=n()),e)}const lo=n=>n,NP=(n,e)=>t=>e(n(t)),$g=(...n)=>n.reduce(NP),Sg=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class bM{constructor(){this.subscriptions=[]}add(e){return gM(this.subscriptions,e),()=>vM(this.subscriptions,e)}notify(e,t,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,i);else for(let r=0;r<a;r++){const l=this.subscriptions[r];l&&l(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vl=n=>n*1e3,Fl=n=>n/1e3;function AD(n,e){return e?n*(1e3/e):0}const CD=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,LP=1e-7,OP=12;function UP(n,e,t,i,a){let r,l,u=0;do l=e+(t-e)/2,r=CD(l,i,a)-n,r>0?t=l:e=l;while(Math.abs(r)>LP&&++u<OP);return l}function ev(n,e,t,i){if(n===e&&t===i)return lo;const a=r=>UP(r,0,1,n,t);return r=>r===0||r===1?r:CD(a(r),e,i)}const RD=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,DD=n=>e=>1-n(1-e),ND=ev(.33,1.53,.69,.99),_M=DD(ND),LD=RD(_M),OD=n=>(n*=2)<1?.5*_M(n):.5*(2-Math.pow(2,-10*(n-1))),SM=n=>1-Math.sin(Math.acos(n)),UD=DD(SM),ID=RD(SM),IP=ev(.42,0,1,1),PP=ev(0,0,.58,1),PD=ev(.42,0,.58,1),BP=n=>Array.isArray(n)&&typeof n[0]!="number",BD=n=>Array.isArray(n)&&typeof n[0]=="number",zP={linear:lo,easeIn:IP,easeInOut:PD,easeOut:PP,circIn:SM,circInOut:ID,circOut:UD,backIn:_M,backInOut:LD,backOut:ND,anticipate:OD},VP=n=>typeof n=="string",v3=n=>{if(BD(n)){yM(n.length===4);const[e,t,i,a]=n;return ev(e,t,i,a)}else if(VP(n))return zP[n];return n},ex=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function FP(n,e){let t=new Set,i=new Set,a=!1,r=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(p.schedule(m),n()),m(u)}const p={schedule:(m,v=!1,x=!1)=>{const M=x&&a?t:i;return v&&l.add(m),M.has(m)||M.add(m),m},cancel:m=>{i.delete(m),l.delete(m)},process:m=>{if(u=m,a){r=!0;return}a=!0,[t,i]=[i,t],t.forEach(h),t.clear(),a=!1,r&&(r=!1,p.process(m))}};return p}const HP=40;function zD(n,e){let t=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,l=ex.reduce((D,O)=>(D[O]=FP(r),D),{}),{setup:u,read:h,resolveKeyframes:p,preUpdate:m,update:v,preRender:x,render:b,postRender:M}=l,C=()=>{const D=Fc.useManualTiming?a.timestamp:performance.now();t=!1,Fc.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(D-a.timestamp,HP),1)),a.timestamp=D,a.isProcessing=!0,u.process(a),h.process(a),p.process(a),m.process(a),v.process(a),x.process(a),b.process(a),M.process(a),a.isProcessing=!1,t&&e&&(i=!1,n(C))},E=()=>{t=!0,i=!0,a.isProcessing||n(C)};return{schedule:ex.reduce((D,O)=>{const P=l[O];return D[O]=(U,V=!1,H=!1)=>(t||E(),P.schedule(U,V,H)),D},{}),cancel:D=>{for(let O=0;O<ex.length;O++)l[ex[O]].cancel(D)},state:a,steps:l}}const{schedule:Ii,cancel:tf,state:es,steps:MS}=zD(typeof requestAnimationFrame<"u"?requestAnimationFrame:lo,!0);let ab;function kP(){ab=void 0}const mr={now:()=>(ab===void 0&&mr.set(es.isProcessing||Fc.useManualTiming?es.timestamp:performance.now()),ab),set:n=>{ab=n,queueMicrotask(kP)}},VD=n=>e=>typeof e=="string"&&e.startsWith(n),wM=VD("--"),GP=VD("var(--"),MM=n=>GP(n)?jP.test(n.split("/*")[0].trim()):!1,jP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wg={...lm,transform:n=>Vc(0,1,n)},tx={...lm,default:1},ag=n=>Math.round(n*1e5)/1e5,EM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function XP(n){return n==null}const WP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,TM=(n,e)=>t=>!!(typeof t=="string"&&WP.test(t)&&t.startsWith(n)||e&&!XP(t)&&Object.prototype.hasOwnProperty.call(t,e)),FD=(n,e,t)=>i=>{if(typeof i!="string")return i;const[a,r,l,u]=i.match(EM);return{[n]:parseFloat(a),[e]:parseFloat(r),[t]:parseFloat(l),alpha:u!==void 0?parseFloat(u):1}},qP=n=>Vc(0,255,n),ES={...lm,transform:n=>Math.round(qP(n))},Mh={test:TM("rgb","red"),parse:FD("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+ES.transform(n)+", "+ES.transform(e)+", "+ES.transform(t)+", "+ag(wg.transform(i))+")"};function YP(n){let e="",t="",i="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const i2={test:TM("#"),parse:YP,transform:Mh.transform},tv=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Xu=tv("deg"),Hl=tv("%"),ln=tv("px"),ZP=tv("vh"),KP=tv("vw"),y3={...Hl,parse:n=>Hl.parse(n)/100,transform:n=>Hl.transform(n*100)},wp={test:TM("hsl","hue"),parse:FD("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Hl.transform(ag(e))+", "+Hl.transform(ag(t))+", "+ag(wg.transform(i))+")"},ba={test:n=>Mh.test(n)||i2.test(n)||wp.test(n),parse:n=>Mh.test(n)?Mh.parse(n):wp.test(n)?wp.parse(n):i2.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Mh.transform(n):wp.transform(n),getAnimatableNone:n=>{const e=ba.parse(n);return e.alpha=0,ba.transform(e)}},QP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JP(n){return isNaN(n)&&typeof n=="string"&&(n.match(EM)?.length||0)+(n.match(QP)?.length||0)>0}const HD="number",kD="color",$P="var",eB="var(",x3="${}",tB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mg(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},a=[];let r=0;const u=e.replace(tB,h=>(ba.test(h)?(i.color.push(r),a.push(kD),t.push(ba.parse(h))):h.startsWith(eB)?(i.var.push(r),a.push($P),t.push(h)):(i.number.push(r),a.push(HD),t.push(parseFloat(h))),++r,x3)).split(x3);return{values:t,split:u,indexes:i,types:a}}function GD(n){return Mg(n).values}function jD(n){const{split:e,types:t}=Mg(n),i=e.length;return a=>{let r="";for(let l=0;l<i;l++)if(r+=e[l],a[l]!==void 0){const u=t[l];u===HD?r+=ag(a[l]):u===kD?r+=ba.transform(a[l]):r+=a[l]}return r}}const nB=n=>typeof n=="number"?0:ba.test(n)?ba.getAnimatableNone(n):n;function iB(n){const e=GD(n);return jD(n)(e.map(nB))}const nf={test:JP,parse:GD,createTransformer:jD,getAnimatableNone:iB};function TS(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function aB({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let a=0,r=0,l=0;if(!e)a=r=l=t;else{const u=t<.5?t*(1+e):t+e-t*e,h=2*t-u;a=TS(h,u,n+1/3),r=TS(h,u,n),l=TS(h,u,n-1/3)}return{red:Math.round(a*255),green:Math.round(r*255),blue:Math.round(l*255),alpha:i}}function _b(n,e){return t=>t>0?e:n}const ji=(n,e,t)=>n+(e-n)*t,AS=(n,e,t)=>{const i=n*n,a=t*(e*e-i)+i;return a<0?0:Math.sqrt(a)},sB=[i2,Mh,wp],rB=n=>sB.find(e=>e.test(n));function b3(n){const e=rB(n);if(!e)return!1;let t=e.parse(n);return e===wp&&(t=aB(t)),t}const _3=(n,e)=>{const t=b3(n),i=b3(e);if(!t||!i)return _b(n,e);const a={...t};return r=>(a.red=AS(t.red,i.red,r),a.green=AS(t.green,i.green,r),a.blue=AS(t.blue,i.blue,r),a.alpha=ji(t.alpha,i.alpha,r),Mh.transform(a))},a2=new Set(["none","hidden"]);function oB(n,e){return a2.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function lB(n,e){return t=>ji(n,e,t)}function AM(n){return typeof n=="number"?lB:typeof n=="string"?MM(n)?_b:ba.test(n)?_3:fB:Array.isArray(n)?XD:typeof n=="object"?ba.test(n)?_3:cB:_b}function XD(n,e){const t=[...n],i=t.length,a=n.map((r,l)=>AM(r)(r,e[l]));return r=>{for(let l=0;l<i;l++)t[l]=a[l](r);return t}}function cB(n,e){const t={...n,...e},i={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(i[a]=AM(n[a])(n[a],e[a]));return a=>{for(const r in i)t[r]=i[r](a);return t}}function uB(n,e){const t=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const r=e.types[a],l=n.indexes[r][i[r]],u=n.values[l]??0;t[a]=u,i[r]++}return t}const fB=(n,e)=>{const t=nf.createTransformer(e),i=Mg(n),a=Mg(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?a2.has(n)&&!a.values.length||a2.has(e)&&!i.values.length?oB(n,e):$g(XD(uB(i,a),a.values),t):_b(n,e)};function WD(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?ji(n,e,t):AM(n)(n,e)}const hB=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Ii.update(e,t),stop:()=>tf(e),now:()=>es.isProcessing?es.timestamp:mr.now()}},qD=(n,e,t=10)=>{let i="";const a=Math.max(Math.round(e/t),2);for(let r=0;r<a;r++)i+=Math.round(n(r/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Sb=2e4;function CM(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<Sb;)e+=t,i=n.next(e);return e>=Sb?1/0:e}function dB(n,e=100,t){const i=t({...n,keyframes:[0,e]}),a=Math.min(CM(i),Sb);return{type:"keyframes",ease:r=>i.next(a*r).value/e,duration:Fl(a)}}const pB=5;function YD(n,e,t){const i=Math.max(e-pB,0);return AD(t-n(i),e-i)}const ea={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},CS=.001;function mB({duration:n=ea.duration,bounce:e=ea.bounce,velocity:t=ea.velocity,mass:i=ea.mass}){let a,r,l=1-e;l=Vc(ea.minDamping,ea.maxDamping,l),n=Vc(ea.minDuration,ea.maxDuration,Fl(n)),l<1?(a=p=>{const m=p*l,v=m*n,x=m-t,b=s2(p,l),M=Math.exp(-v);return CS-x/b*M},r=p=>{const v=p*l*n,x=v*t+t,b=Math.pow(l,2)*Math.pow(p,2)*n,M=Math.exp(-v),C=s2(Math.pow(p,2),l);return(-a(p)+CS>0?-1:1)*((x-b)*M)/C}):(a=p=>{const m=Math.exp(-p*n),v=(p-t)*n+1;return-CS+m*v},r=p=>{const m=Math.exp(-p*n),v=(t-p)*(n*n);return m*v});const u=5/n,h=vB(a,r,u);if(n=Vl(n),isNaN(h))return{stiffness:ea.stiffness,damping:ea.damping,duration:n};{const p=Math.pow(h,2)*i;return{stiffness:p,damping:l*2*Math.sqrt(i*p),duration:n}}}const gB=12;function vB(n,e,t){let i=t;for(let a=1;a<gB;a++)i=i-n(i)/e(i);return i}function s2(n,e){return n*Math.sqrt(1-e*e)}const yB=["duration","bounce"],xB=["stiffness","damping","mass"];function S3(n,e){return e.some(t=>n[t]!==void 0)}function bB(n){let e={velocity:ea.velocity,stiffness:ea.stiffness,damping:ea.damping,mass:ea.mass,isResolvedFromDuration:!1,...n};if(!S3(n,xB)&&S3(n,yB))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),a=i*i,r=2*Vc(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:ea.mass,stiffness:a,damping:r}}else{const t=mB(n);e={...e,...t,mass:ea.mass},e.isResolvedFromDuration=!0}return e}function wb(n=ea.visualDuration,e=ea.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=t;const r=t.keyframes[0],l=t.keyframes[t.keyframes.length-1],u={done:!1,value:r},{stiffness:h,damping:p,mass:m,duration:v,velocity:x,isResolvedFromDuration:b}=bB({...t,velocity:-Fl(t.velocity||0)}),M=x||0,C=p/(2*Math.sqrt(h*m)),E=l-r,w=Fl(Math.sqrt(h/m)),R=Math.abs(E)<5;i||(i=R?ea.restSpeed.granular:ea.restSpeed.default),a||(a=R?ea.restDelta.granular:ea.restDelta.default);let D;if(C<1){const P=s2(w,C);D=U=>{const V=Math.exp(-C*w*U);return l-V*((M+C*w*E)/P*Math.sin(P*U)+E*Math.cos(P*U))}}else if(C===1)D=P=>l-Math.exp(-w*P)*(E+(M+w*E)*P);else{const P=w*Math.sqrt(C*C-1);D=U=>{const V=Math.exp(-C*w*U),H=Math.min(P*U,300);return l-V*((M+C*w*E)*Math.sinh(H)+P*E*Math.cosh(H))/P}}const O={calculatedDuration:b&&v||null,next:P=>{const U=D(P);if(b)u.done=P>=v;else{let V=P===0?M:0;C<1&&(V=P===0?Vl(M):YD(D,P,U));const H=Math.abs(V)<=i,I=Math.abs(l-U)<=a;u.done=H&&I}return u.value=u.done?l:U,u},toString:()=>{const P=Math.min(CM(O),Sb),U=qD(V=>O.next(P*V).value,P,30);return P+"ms "+U},toTransition:()=>{}};return O}wb.applyToOptions=n=>{const e=dB(n,100,wb);return n.ease=e.ease,n.duration=Vl(e.duration),n.type="keyframes",n};function r2({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:r=500,modifyTarget:l,min:u,max:h,restDelta:p=.5,restSpeed:m}){const v=n[0],x={done:!1,value:v},b=H=>u!==void 0&&H<u||h!==void 0&&H>h,M=H=>u===void 0?h:h===void 0||Math.abs(u-H)<Math.abs(h-H)?u:h;let C=t*e;const E=v+C,w=l===void 0?E:l(E);w!==E&&(C=w-v);const R=H=>-C*Math.exp(-H/i),D=H=>w+R(H),O=H=>{const I=R(H),L=D(H);x.done=Math.abs(I)<=p,x.value=x.done?w:L};let P,U;const V=H=>{b(x.value)&&(P=H,U=wb({keyframes:[x.value,M(x.value)],velocity:YD(D,H,x.value),damping:a,stiffness:r,restDelta:p,restSpeed:m}))};return V(0),{calculatedDuration:null,next:H=>{let I=!1;return!U&&P===void 0&&(I=!0,O(H),V(H)),P!==void 0&&H>=P?U.next(H-P):(!I&&O(H),x)}}}function _B(n,e,t){const i=[],a=t||Fc.mix||WD,r=n.length-1;for(let l=0;l<r;l++){let u=a(n[l],n[l+1]);if(e){const h=Array.isArray(e)?e[l]||lo:e;u=$g(h,u)}i.push(u)}return i}function SB(n,e,{clamp:t=!0,ease:i,mixer:a}={}){const r=n.length;if(yM(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const l=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=_B(e,i,a),h=u.length,p=m=>{if(l&&m<n[0])return e[0];let v=0;if(h>1)for(;v<n.length-2&&!(m<n[v+1]);v++);const x=Sg(n[v],n[v+1],m);return u[v](x)};return t?m=>p(Vc(n[0],n[r-1],m)):p}function wB(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const a=Sg(0,e,i);n.push(ji(t,1,a))}}function MB(n){const e=[0];return wB(e,n.length-1),e}function EB(n,e){return n.map(t=>t*e)}function TB(n,e){return n.map(()=>e||PD).splice(0,n.length-1)}function sg({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const a=BP(i)?i.map(v3):v3(i),r={done:!1,value:e[0]},l=EB(t&&t.length===e.length?t:MB(e),n),u=SB(l,e,{ease:Array.isArray(a)?a:TB(e,a)});return{calculatedDuration:n,next:h=>(r.value=u(h),r.done=h>=n,r)}}const AB=n=>n!==null;function RM(n,{repeat:e,repeatType:t="loop"},i,a=1){const r=n.filter(AB),u=a<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!u||i===void 0?r[u]:i}const CB={decay:r2,inertia:r2,tween:sg,keyframes:sg,spring:wb};function ZD(n){typeof n.type=="string"&&(n.type=CB[n.type])}class DM{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const RB=n=>n/100;class NM extends DM{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==mr.now()&&this.tick(mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ZD(e);const{type:t=sg,repeat:i=0,repeatDelay:a=0,repeatType:r,velocity:l=0}=e;let{keyframes:u}=e;const h=t||sg;h!==sg&&typeof u[0]!="number"&&(this.mixKeyframes=$g(RB,WD(u[0],u[1])),u=[0,100]);const p=h({...e,keyframes:u});r==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-l})),p.calculatedDuration===null&&(p.calculatedDuration=CM(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:a,mixKeyframes:r,mirroredGenerator:l,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:m,repeat:v,repeatType:x,repeatDelay:b,type:M,onUpdate:C,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const w=this.currentTime-p*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?w<0:w>a;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let D=this.currentTime,O=i;if(v){const H=Math.min(this.currentTime,a)/u;let I=Math.floor(H),L=H%1;!L&&H>=1&&(L=1),L===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(x==="reverse"?(L=1-L,b&&(L-=b/u)):x==="mirror"&&(O=l)),D=Vc(0,1,L)*u}const P=R?{done:!1,value:m[0]}:O.next(D);r&&(P.value=r(P.value));let{done:U}=P;!R&&h!==null&&(U=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return V&&M!==r2&&(P.value=RM(m,this.options,E,this.speed)),C&&C(P.value),V&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return Fl(this.calculatedDuration)}get time(){return Fl(this.currentTime)}set time(e){e=Vl(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(mr.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Fl(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=hB,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function DB(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Eh=n=>n*180/Math.PI,o2=n=>{const e=Eh(Math.atan2(n[1],n[0]));return l2(e)},NB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:o2,rotateZ:o2,skewX:n=>Eh(Math.atan(n[1])),skewY:n=>Eh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},l2=n=>(n=n%360,n<0&&(n+=360),n),w3=o2,M3=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),E3=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),LB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M3,scaleY:E3,scale:n=>(M3(n)+E3(n))/2,rotateX:n=>l2(Eh(Math.atan2(n[6],n[5]))),rotateY:n=>l2(Eh(Math.atan2(-n[2],n[0]))),rotateZ:w3,rotate:w3,skewX:n=>Eh(Math.atan(n[4])),skewY:n=>Eh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function c2(n){return n.includes("scale")?1:0}function u2(n,e){if(!n||n==="none")return c2(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(t)i=LB,a=t;else{const u=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=NB,a=u}if(!a)return c2(e);const r=i[e],l=a[1].split(",").map(UB);return typeof r=="function"?r(l):l[r]}const OB=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return u2(t,e)};function UB(n){return parseFloat(n.trim())}const cm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],um=new Set(cm),T3=n=>n===lm||n===ln,IB=new Set(["x","y","z"]),PB=cm.filter(n=>!IB.has(n));function BB(n){const e=[];return PB.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Lh={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>u2(e,"x"),y:(n,{transform:e})=>u2(e,"y")};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const Oh=new Set;let f2=!1,h2=!1,d2=!1;function KD(){if(h2){const n=Array.from(Oh).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const a=BB(i);a.length&&(t.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=t.get(i);a&&a.forEach(([r,l])=>{i.getValue(r)?.set(l)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}h2=!1,f2=!1,Oh.forEach(n=>n.complete(d2)),Oh.clear()}function QD(){Oh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(h2=!0)})}function zB(){d2=!0,QD(),KD(),d2=!1}class LM{constructor(e,t,i,a,r,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=a,this.element=r,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Oh.add(this),f2||(f2=!0,Ii.read(QD),Ii.resolveKeyframes(KD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:a}=this;if(e[0]===null){const r=a?.get(),l=e[e.length-1];if(r!==void 0)e[0]=r;else if(i&&t){const u=i.readValue(t,l);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=l),a&&r===void 0&&a.set(e[0])}DB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Oh.delete(this)}cancel(){this.state==="scheduled"&&(Oh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const VB=n=>n.startsWith("--");function FB(n,e,t){VB(e)?n.style.setProperty(e,t):n.style[e]=t}const HB=xM(()=>window.ScrollTimeline!==void 0),kB={};function GB(n,e){const t=xM(n);return()=>kB[e]??t()}const JD=GB(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$0=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,A3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$0([0,.65,.55,1]),circOut:$0([.55,0,1,.45]),backIn:$0([.31,.01,.66,-.59]),backOut:$0([.33,1.53,.69,.99])};function $D(n,e){if(n)return typeof n=="function"?JD()?qD(n,e):"ease-out":BD(n)?$0(n):Array.isArray(n)?n.map(t=>$D(t,e)||A3.easeOut):A3[n]}function jB(n,e,t,{delay:i=0,duration:a=300,repeat:r=0,repeatType:l="loop",ease:u="easeOut",times:h}={},p=void 0){const m={[e]:t};h&&(m.offset=h);const v=$D(u,a);Array.isArray(v)&&(m.easing=v);const x={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:r+1,direction:l==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(m,x)}function e4(n){return typeof n=="function"&&"applyToOptions"in n}function XB({type:n,...e}){return e4(n)&&JD()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class WB extends DM{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:a,pseudoElement:r,allowFlatten:l=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!r,this.allowFlatten=l,this.options=e,yM(typeof e.type!="string");const p=XB(e);this.animation=jB(t,i,a,p,r),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const m=RM(a,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(m):FB(t,i,m),this.animation.cancel()}h?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Fl(Number(e))}get time(){return Fl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vl(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&HB()?(this.animation.timeline=e,lo):t(this)}}const t4={anticipate:OD,backInOut:LD,circInOut:ID};function qB(n){return n in t4}function YB(n){typeof n.ease=="string"&&qB(n.ease)&&(n.ease=t4[n.ease])}const C3=10;class ZB extends WB{constructor(e){YB(e),ZD(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:a,element:r,...l}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const u=new NM({...l,autoplay:!1}),h=Vl(this.finishedTime??this.time);t.setWithVelocity(u.sample(h-C3).value,u.sample(h).value,C3),u.stop()}}const R3=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(nf.test(n)||n==="0")&&!n.startsWith("url("));function KB(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function QB(n,e,t,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],l=R3(a,e),u=R3(r,e);return!l||!u?!1:KB(n)||(t==="spring"||e4(t))&&i}function p2(n){n.duration=0,n.type}const JB=new Set(["opacity","clipPath","filter","transform"]),$B=xM(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ez(n){const{motionValue:e,name:t,repeatDelay:i,repeatType:a,damping:r,type:l}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=e.owner.getProps();return $B()&&t&&JB.has(t)&&(t!=="transform"||!p)&&!h&&!i&&a!=="mirror"&&r!==0&&l!=="inertia"}const tz=40;class nz extends DM{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:a=0,repeatDelay:r=0,repeatType:l="loop",keyframes:u,name:h,motionValue:p,element:m,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=mr.now();const x={autoplay:e,delay:t,type:i,repeat:a,repeatDelay:r,repeatType:l,name:h,motionValue:p,element:m,...v},b=m?.KeyframeResolver||LM;this.keyframeResolver=new b(u,(M,C,E)=>this.onKeyframesResolved(M,C,x,!E),h,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,i,a){this.keyframeResolver=void 0;const{name:r,type:l,velocity:u,delay:h,isHandoff:p,onUpdate:m}=i;this.resolvedAt=mr.now(),QB(e,r,l,u)||((Fc.instantAnimations||!h)&&m?.(RM(e,i,t)),e[0]=e[e.length-1],p2(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>tz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!p&&ez(x)?new ZB({...x,element:x.motionValue.owner.current}):new NM(x);b.finished.then(()=>this.notifyFinished()).catch(lo),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zB()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const iz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function az(n){const e=iz.exec(n);if(!e)return[,];const[,t,i,a]=e;return[`--${t??i}`,a]}function n4(n,e,t=1){const[i,a]=az(n);if(!i)return;const r=window.getComputedStyle(e).getPropertyValue(i);if(r){const l=r.trim();return MD(l)?parseFloat(l):l}return MM(a)?n4(a,e,t+1):a}function OM(n,e){return n?.[e]??n?.default??n}const i4=new Set(["width","height","top","left","right","bottom",...cm]),sz={test:n=>n==="auto",parse:n=>n},a4=n=>e=>e.test(n),s4=[lm,ln,Hl,Xu,KP,ZP,sz],D3=n=>s4.find(a4(n));function rz(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||TD(n):!0}const oz=new Set(["brightness","contrast","saturate","opacity"]);function lz(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(EM)||[];if(!i)return n;const a=t.replace(i,"");let r=oz.has(e)?1:0;return i!==t&&(r*=100),e+"("+r+a+")"}const cz=/\b([a-z-]*)\(.*?\)/gu,m2={...nf,getAnimatableNone:n=>{const e=n.match(cz);return e?e.map(lz).join(" "):n}},N3={...lm,transform:Math.round},uz={rotate:Xu,rotateX:Xu,rotateY:Xu,rotateZ:Xu,scale:tx,scaleX:tx,scaleY:tx,scaleZ:tx,skew:Xu,skewX:Xu,skewY:Xu,distance:ln,translateX:ln,translateY:ln,translateZ:ln,x:ln,y:ln,z:ln,perspective:ln,transformPerspective:ln,opacity:wg,originX:y3,originY:y3,originZ:ln},UM={borderWidth:ln,borderTopWidth:ln,borderRightWidth:ln,borderBottomWidth:ln,borderLeftWidth:ln,borderRadius:ln,radius:ln,borderTopLeftRadius:ln,borderTopRightRadius:ln,borderBottomRightRadius:ln,borderBottomLeftRadius:ln,width:ln,maxWidth:ln,height:ln,maxHeight:ln,top:ln,right:ln,bottom:ln,left:ln,padding:ln,paddingTop:ln,paddingRight:ln,paddingBottom:ln,paddingLeft:ln,margin:ln,marginTop:ln,marginRight:ln,marginBottom:ln,marginLeft:ln,backgroundPositionX:ln,backgroundPositionY:ln,...uz,zIndex:N3,fillOpacity:wg,strokeOpacity:wg,numOctaves:N3},fz={...UM,color:ba,backgroundColor:ba,outlineColor:ba,fill:ba,stroke:ba,borderColor:ba,borderTopColor:ba,borderRightColor:ba,borderBottomColor:ba,borderLeftColor:ba,filter:m2,WebkitFilter:m2},r4=n=>fz[n];function o4(n,e){let t=r4(n);return t!==m2&&(t=nf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const hz=new Set(["auto","none","0"]);function dz(n,e,t){let i=0,a;for(;i<n.length&&!a;){const r=n[i];typeof r=="string"&&!hz.has(r)&&Mg(r).values.length&&(a=n[i]),i++}if(a&&t)for(const r of e)n[r]=o4(t,a)}class pz extends LM{constructor(e,t,i,a,r){super(e,t,i,a,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),MM(p))){const m=n4(p,t.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!i4.has(i)||e.length!==2)return;const[a,r]=e,l=D3(a),u=D3(r);if(l!==u)if(T3(l)&&T3(u))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else Lh[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||rz(e[a]))&&i.push(a);i.length&&dz(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const r=i.length-1,l=i[r];i[r]=Lh[t](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([u,h])=>{e.getValue(u).set(h)}),this.resolveNoneKeyframes()}}function mz(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=t?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const l4=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function c4(n){return ED(n)&&"offsetHeight"in n}const L3=30,gz=n=>!isNaN(parseFloat(n));class vz{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=mr.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=gz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new bM);const i=this.events[e].add(t);return e==="change"?()=>{i(),Ii.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>L3)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,L3);return AD(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pp(n,e){return new vz(n,e)}const{schedule:IM}=zD(queueMicrotask,!1),Go={x:!1,y:!1};function u4(){return Go.x||Go.y}function yz(n){return n==="x"||n==="y"?Go[n]?null:(Go[n]=!0,()=>{Go[n]=!1}):Go.x||Go.y?null:(Go.x=Go.y=!0,()=>{Go.x=Go.y=!1})}function f4(n,e){const t=mz(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[t,a,()=>i.abort()]}function O3(n){return!(n.pointerType==="touch"||u4())}function xz(n,e,t={}){const[i,a,r]=f4(n,t),l=u=>{if(!O3(u))return;const{target:h}=u,p=e(h,u);if(typeof p!="function"||!h)return;const m=v=>{O3(v)&&(p(v),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,a)};return i.forEach(u=>{u.addEventListener("pointerenter",l,a)}),r}const h4=(n,e)=>e?n===e?!0:h4(n,e.parentElement):!1,PM=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,bz=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _z(n){return bz.has(n.tagName)||n.tabIndex!==-1}const sb=new WeakSet;function U3(n){return e=>{e.key==="Enter"&&n(e)}}function RS(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Sz=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=U3(()=>{if(sb.has(t))return;RS(t,"down");const a=U3(()=>{RS(t,"up")}),r=()=>RS(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function I3(n){return PM(n)&&!u4()}function wz(n,e,t={}){const[i,a,r]=f4(n,t),l=u=>{const h=u.currentTarget;if(!I3(u))return;sb.add(h);const p=e(h,u),m=(b,M)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",x),sb.has(h)&&sb.delete(h),I3(b)&&typeof p=="function"&&p(b,{success:M})},v=b=>{m(b,h===window||h===document||t.useGlobalTarget||h4(h,b.target))},x=b=>{m(b,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",x,a)};return i.forEach(u=>{(t.useGlobalTarget?window:u).addEventListener("pointerdown",l,a),c4(u)&&(u.addEventListener("focus",p=>Sz(p,a)),!_z(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),r}function d4(n){return ED(n)&&"ownerSVGElement"in n}function Mz(n){return d4(n)&&n.tagName==="svg"}const vs=n=>!!(n&&n.getVelocity),Ez=[...s4,ba,nf],Tz=n=>Ez.find(a4(n)),BM=ne.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Az extends ne.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,a=c4(i)&&i.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=a-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Cz({children:n,isPresent:e,anchorX:t,root:i}){const a=ne.useId(),r=ne.useRef(null),l=ne.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=ne.useContext(BM);return ne.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:v,right:x}=l.current;if(e||!r.current||!h||!p)return;const b=t==="left"?`left: ${v}`:`right: ${x}`;r.current.dataset.motionPopId=a;const M=document.createElement("style");u&&(M.nonce=u);const C=i??document.head;return C.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{C.contains(M)&&C.removeChild(M)}},[e]),B.jsx(Az,{isPresent:e,childRef:r,sizeRef:l,children:ne.cloneElement(n,{ref:r})})}const Rz=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:a,presenceAffectsLayout:r,mode:l,anchorX:u,root:h})=>{const p=pM(Dz),m=ne.useId();let v=!0,x=ne.useMemo(()=>(v=!1,{id:m,initial:e,isPresent:t,custom:a,onExitComplete:b=>{p.set(b,!0);for(const M of p.values())if(!M)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[t,p,i]);return r&&v&&(x={...x}),ne.useMemo(()=>{p.forEach((b,M)=>p.set(M,!1))},[t]),ne.useEffect(()=>{!t&&!p.size&&i&&i()},[t]),l==="popLayout"&&(n=B.jsx(Cz,{isPresent:t,anchorX:u,root:h,children:n})),B.jsx(P1.Provider,{value:x,children:n})};function Dz(){return new Map}function p4(n=!0){const e=ne.useContext(P1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:a}=e,r=ne.useId();ne.useEffect(()=>{if(n)return a(r)},[n]);const l=ne.useCallback(()=>n&&i&&i(r),[r,i,n]);return!t&&i?[!1,l]:[!0]}const nx=n=>n.key||"";function P3(n){const e=[];return ne.Children.forEach(n,t=>{ne.isValidElement(t)&&e.push(t)}),e}const m4=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:r="sync",propagate:l=!1,anchorX:u="left",root:h})=>{const[p,m]=p4(l),v=ne.useMemo(()=>P3(n),[n]),x=l&&!p?[]:v.map(nx),b=ne.useRef(!0),M=ne.useRef(v),C=pM(()=>new Map),[E,w]=ne.useState(v),[R,D]=ne.useState(v);wD(()=>{b.current=!1,M.current=v;for(let U=0;U<R.length;U++){const V=nx(R[U]);x.includes(V)?C.delete(V):C.get(V)!==!0&&C.set(V,!1)}},[R,x.length,x.join("-")]);const O=[];if(v!==E){let U=[...v];for(let V=0;V<R.length;V++){const H=R[V],I=nx(H);x.includes(I)||(U.splice(V,0,H),O.push(H))}return r==="wait"&&O.length&&(U=O),D(P3(U)),w(v),null}const{forceRender:P}=ne.useContext(dM);return B.jsx(B.Fragment,{children:R.map(U=>{const V=nx(U),H=l&&!p?!1:v===R||x.includes(V),I=()=>{if(C.has(V))C.set(V,!0);else return;let L=!0;C.forEach(q=>{q||(L=!1)}),L&&(P?.(),D(M.current),l&&m?.(),i&&i())};return B.jsx(Rz,{isPresent:H,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:r,root:h,onExitComplete:H?void 0:I,anchorX:u,children:U},V)})})},g4=ne.createContext({strict:!1}),B3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bp={};for(const n in B3)Bp[n]={isEnabled:e=>B3[n].some(t=>!!e[t])};function Nz(n){for(const e in n)Bp[e]={...Bp[e],...n[e]}}const Lz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Lz.has(n)}let v4=n=>!Mb(n);function Oz(n){typeof n=="function"&&(v4=e=>e.startsWith("on")?!Mb(e):n(e))}try{Oz(require("@emotion/is-prop-valid").default)}catch{}function Uz(n,e,t){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(v4(a)||t===!0&&Mb(a)||!e&&!Mb(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const B1=ne.createContext({});function z1(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Eg(n){return typeof n=="string"||Array.isArray(n)}const zM=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],VM=["initial",...zM];function V1(n){return z1(n.animate)||VM.some(e=>Eg(n[e]))}function y4(n){return!!(V1(n)||n.variants)}function Iz(n,e){if(V1(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Eg(t)?t:void 0,animate:Eg(i)?i:void 0}}return n.inherit!==!1?e:{}}function Pz(n){const{initial:e,animate:t}=Iz(n,ne.useContext(B1));return ne.useMemo(()=>({initial:e,animate:t}),[z3(e),z3(t)])}function z3(n){return Array.isArray(n)?n.join(" "):n}const Tg={};function Bz(n){for(const e in n)Tg[e]=n[e],wM(e)&&(Tg[e].isCSSVariable=!0)}function x4(n,{layout:e,layoutId:t}){return um.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Tg[n]||n==="opacity")}const zz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vz=cm.length;function Fz(n,e,t){let i="",a=!0;for(let r=0;r<Vz;r++){const l=cm[r],u=n[l];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(l.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||t){const p=l4(u,UM[l]);if(!h){a=!1;const m=zz[l]||l;i+=`${m}(${p}) `}t&&(e[l]=p)}}return i=i.trim(),t?i=t(e,a?"":i):a&&(i="none"),i}function FM(n,e,t){const{style:i,vars:a,transformOrigin:r}=n;let l=!1,u=!1;for(const h in e){const p=e[h];if(um.has(h)){l=!0;continue}else if(wM(h)){a[h]=p;continue}else{const m=l4(p,UM[h]);h.startsWith("origin")?(u=!0,r[h]=m):i[h]=m}}if(e.transform||(l||t?i.transform=Fz(e,n.transform,t):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:p="50%",originZ:m=0}=r;i.transformOrigin=`${h} ${p} ${m}`}}const HM=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function b4(n,e,t){for(const i in e)!vs(e[i])&&!x4(i,t)&&(n[i]=e[i])}function Hz({transformTemplate:n},e){return ne.useMemo(()=>{const t=HM();return FM(t,e,n),Object.assign({},t.vars,t.style)},[e])}function kz(n,e){const t=n.style||{},i={};return b4(i,t,n),Object.assign(i,Hz(n,e)),i}function Gz(n,e){const t={},i=kz(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const jz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xz={offset:"strokeDashoffset",array:"strokeDasharray"};function Wz(n,e,t=1,i=0,a=!0){n.pathLength=1;const r=a?jz:Xz;n[r.offset]=ln.transform(-i);const l=ln.transform(e),u=ln.transform(t);n[r.array]=`${l} ${u}`}function _4(n,{attrX:e,attrY:t,attrScale:i,pathLength:a,pathSpacing:r=1,pathOffset:l=0,...u},h,p,m){if(FM(n,u,p),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:x}=n;v.transform&&(x.transform=v.transform,delete v.transform),(x.transform||v.transformOrigin)&&(x.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),i!==void 0&&(v.scale=i),a!==void 0&&Wz(v,a,r,l,!1)}const S4=()=>({...HM(),attrs:{}}),w4=n=>typeof n=="string"&&n.toLowerCase()==="svg";function qz(n,e,t,i){const a=ne.useMemo(()=>{const r=S4();return _4(r,e,w4(i),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};b4(r,n.style,n),a.style={...r,...a.style}}return a}const Yz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function kM(n){return typeof n!="string"||n.includes("-")?!1:!!(Yz.indexOf(n)>-1||/[A-Z]/u.test(n))}function Zz(n,e,t,{latestValues:i},a,r=!1){const u=(kM(n)?qz:Gz)(e,i,a,n),h=Uz(e,typeof n=="string",r),p=n!==ne.Fragment?{...h,...u,ref:t}:{},{children:m}=e,v=ne.useMemo(()=>vs(m)?m.get():m,[m]);return ne.createElement(n,{...p,children:v})}function V3(n){const e=[{},{}];return n?.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function GM(n,e,t,i){if(typeof e=="function"){const[a,r]=V3(i);e=e(t!==void 0?t:n.custom,a,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,r]=V3(i);e=e(t!==void 0?t:n.custom,a,r)}return e}function rb(n){return vs(n)?n.get():n}function Kz({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,a){return{latestValues:Qz(t,i,a,n),renderState:e()}}function Qz(n,e,t,i){const a={},r=i(n,{});for(const x in r)a[x]=rb(r[x]);let{initial:l,animate:u}=n;const h=V1(n),p=y4(n);e&&p&&!h&&n.inherit!==!1&&(l===void 0&&(l=e.initial),u===void 0&&(u=e.animate));let m=t?t.initial===!1:!1;m=m||l===!1;const v=m?u:l;if(v&&typeof v!="boolean"&&!z1(v)){const x=Array.isArray(v)?v:[v];for(let b=0;b<x.length;b++){const M=GM(n,x[b]);if(M){const{transitionEnd:C,transition:E,...w}=M;for(const R in w){let D=w[R];if(Array.isArray(D)){const O=m?D.length-1:0;D=D[O]}D!==null&&(a[R]=D)}for(const R in C)a[R]=C[R]}}}return a}const M4=n=>(e,t)=>{const i=ne.useContext(B1),a=ne.useContext(P1),r=()=>Kz(n,e,i,a);return t?r():pM(r)};function jM(n,e,t){const{style:i}=n,a={};for(const r in i)(vs(i[r])||e.style&&vs(e.style[r])||x4(r,n)||t?.getValue(r)?.liveStyle!==void 0)&&(a[r]=i[r]);return a}const Jz=M4({scrapeMotionValuesFromProps:jM,createRenderState:HM});function E4(n,e,t){const i=jM(n,e,t);for(const a in n)if(vs(n[a])||vs(e[a])){const r=cm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[r]=n[a]}return i}const $z=M4({scrapeMotionValuesFromProps:E4,createRenderState:S4}),e6=Symbol.for("motionComponentSymbol");function Mp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function t6(n,e,t){return ne.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):Mp(t)&&(t.current=i))},[e])}const XM=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n6="framerAppearId",T4="data-"+XM(n6),A4=ne.createContext({});function i6(n,e,t,i,a){const{visualElement:r}=ne.useContext(B1),l=ne.useContext(g4),u=ne.useContext(P1),h=ne.useContext(BM).reducedMotion,p=ne.useRef(null);i=i||l.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:r,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,v=ne.useContext(A4);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&a6(p.current,t,a,v);const x=ne.useRef(!1);ne.useInsertionEffect(()=>{m&&x.current&&m.update(t,u)});const b=t[T4],M=ne.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return wD(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),M.current&&m.animationState&&m.animationState.animateChanges())}),ne.useEffect(()=>{m&&(!M.current&&m.animationState&&m.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),M.current=!1))}),m}function a6(n,e,t,i){const{layoutId:a,layout:r,drag:l,dragConstraints:u,layoutScroll:h,layoutRoot:p,layoutCrossfade:m}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:C4(n.parent)),n.projection.setOptions({layoutId:a,layout:r,alwaysMeasureLayout:!!l||u&&Mp(u),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:i,crossfade:m,layoutScroll:h,layoutRoot:p})}function C4(n){if(n)return n.options.allowProjection!==!1?n.projection:C4(n.parent)}function DS(n,{forwardMotionProps:e=!1}={},t,i){t&&Nz(t);const a=kM(n)?$z:Jz;function r(u,h){let p;const m={...ne.useContext(BM),...u,layoutId:s6(u)},{isStatic:v}=m,x=Pz(u),b=a(u,v);if(!v&&mM){r6();const M=o6(m);p=M.MeasureLayout,x.visualElement=i6(n,b,m,i,M.ProjectionNode)}return B.jsxs(B1.Provider,{value:x,children:[p&&x.visualElement?B.jsx(p,{visualElement:x.visualElement,...m}):null,Zz(n,u,t6(b,x.visualElement,h),b,v,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=ne.forwardRef(r);return l[e6]=n,l}function s6({layoutId:n}){const e=ne.useContext(dM).id;return e&&n!==void 0?e+"-"+n:n}function r6(n,e){ne.useContext(g4).strict}function o6(n){const{drag:e,layout:t}=Bp;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function l6(n,e){if(typeof Proxy>"u")return DS;const t=new Map,i=(r,l)=>DS(r,l,n,e),a=(r,l)=>i(r,l);return new Proxy(a,{get:(r,l)=>l==="create"?i:(t.has(l)||t.set(l,DS(l,void 0,n,e)),t.get(l))})}function R4({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function c6({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function u6(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function NS(n){return n===void 0||n===1}function g2({scale:n,scaleX:e,scaleY:t}){return!NS(n)||!NS(e)||!NS(t)}function xh(n){return g2(n)||D4(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function D4(n){return F3(n.x)||F3(n.y)}function F3(n){return n&&n!=="0%"}function Eb(n,e,t){const i=n-t,a=e*i;return t+a}function H3(n,e,t,i,a){return a!==void 0&&(n=Eb(n,a,i)),Eb(n,t,i)+e}function v2(n,e=0,t=1,i,a){n.min=H3(n.min,e,t,i,a),n.max=H3(n.max,e,t,i,a)}function N4(n,{x:e,y:t}){v2(n.x,e.translate,e.scale,e.originPoint),v2(n.y,t.translate,t.scale,t.originPoint)}const k3=.999999999999,G3=1.0000000000001;function f6(n,e,t,i=!1){const a=t.length;if(!a)return;e.x=e.y=1;let r,l;for(let u=0;u<a;u++){r=t[u],l=r.projectionDelta;const{visualElement:h}=r.options;h&&h.props.style&&h.props.style.display==="contents"||(i&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Tp(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,N4(n,l)),i&&xh(r.latestValues)&&Tp(n,r.latestValues))}e.x<G3&&e.x>k3&&(e.x=1),e.y<G3&&e.y>k3&&(e.y=1)}function Ep(n,e){n.min=n.min+e,n.max=n.max+e}function j3(n,e,t,i,a=.5){const r=ji(n.min,n.max,a);v2(n,e,t,r,i)}function Tp(n,e){j3(n.x,e.x,e.scaleX,e.scale,e.originX),j3(n.y,e.y,e.scaleY,e.scale,e.originY)}function L4(n,e){return R4(u6(n.getBoundingClientRect(),e))}function h6(n,e,t){const i=L4(n,t),{scroll:a}=e;return a&&(Ep(i.x,a.offset.x),Ep(i.y,a.offset.y)),i}const X3=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ap=()=>({x:X3(),y:X3()}),W3=()=>({min:0,max:0}),ca=()=>({x:W3(),y:W3()}),y2={current:null},O4={current:!1};function d6(){if(O4.current=!0,!!mM)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>y2.current=n.matches;n.addEventListener("change",e),e()}else y2.current=!1}const p6=new WeakMap;function m6(n,e,t){for(const i in e){const a=e[i],r=t[i];if(vs(a))n.addValue(i,a);else if(vs(r))n.addValue(i,Pp(a,{owner:n}));else if(r!==a)if(n.hasValue(i)){const l=n.getValue(i);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=n.getStaticValue(i);n.addValue(i,Pp(l!==void 0?l:a,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const q3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class g6{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:r,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=LM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=mr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ii.render(this.render,!1,!0))};const{latestValues:h,renderState:p}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=t.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=u,this.blockInitialAnimation=!!r,this.isControllingVariants=V1(t),this.isVariantNode=y4(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(t,{},this);for(const x in v){const b=v[x];h[x]!==void 0&&vs(b)&&b.set(h[x])}}mount(e){this.current=e,p6.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),O4.current||d6(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),tf(this.notifyUpdate),tf(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=um.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Ii.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Bp){const t=Bp[e];if(!t)continue;const{isEnabled:i,Feature:a}=t;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ca()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<q3.length;i++){const a=q3[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const r="on"+a,l=e[r];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=m6(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Pp(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(MD(i)||TD(i))?i=parseFloat(i):!Tz(i)&&nf.test(t)&&(i=o4(e,t)),this.setBaseTarget(e,vs(i)?i.get():i)),vs(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const r=GM(this.props,t,this.presenceContext?.custom);r&&(i=r[e])}if(t&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!vs(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new bM),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){IM.render(this.render)}}class U4 extends g6{constructor(){super(...arguments),this.KeyframeResolver=pz}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;vs(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function I4(n,{style:e,vars:t},i,a){const r=n.style;let l;for(l in e)r[l]=e[l];a?.applyProjectionStyles(r,i);for(l in t)r.setProperty(l,t[l])}function v6(n){return window.getComputedStyle(n)}class y6 extends U4{constructor(){super(...arguments),this.type="html",this.renderInstance=I4}readValueFromInstance(e,t){if(um.has(t))return this.projection?.isProjecting?c2(t):OB(e,t);{const i=v6(e),a=(wM(t)?i.getPropertyValue(t):i[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return L4(e,t)}build(e,t,i){FM(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return jM(e,t,i)}}const P4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function x6(n,e,t,i){I4(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(P4.has(a)?a:XM(a),e.attrs[a])}class b6 extends U4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ca}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(um.has(t)){const i=r4(t);return i&&i.default||0}return t=P4.has(t)?t:XM(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return E4(e,t,i)}build(e,t,i){_4(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,a){x6(e,t,i,a)}mount(e){this.isSVGTag=w4(e.tagName),super.mount(e)}}const _6=(n,e)=>kM(n)?new b6(e):new y6(e,{allowProjection:n!==ne.Fragment});function Ag(n,e,t){const i=n.getProps();return GM(i,e,t!==void 0?t:i.custom,n)}const x2=n=>Array.isArray(n);function S6(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Pp(t))}function w6(n){return x2(n)?n[n.length-1]||0:n}function M6(n,e){const t=Ag(n,e);let{transitionEnd:i={},transition:a={},...r}=t||{};r={...r,...i};for(const l in r){const u=w6(r[l]);S6(n,l,u)}}function E6(n){return!!(vs(n)&&n.add)}function b2(n,e){const t=n.getValue("willChange");if(E6(t))return t.add(e);if(!t&&Fc.WillChange){const i=new Fc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function B4(n){return n.props[T4]}const T6=n=>n!==null;function A6(n,{repeat:e,repeatType:t="loop"},i){const a=n.filter(T6),r=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[r]}const C6={type:"spring",stiffness:500,damping:25,restSpeed:10},R6=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),D6={type:"keyframes",duration:.8},N6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},L6=(n,{keyframes:e})=>e.length>2?D6:um.has(n)?n.startsWith("scale")?R6(e[1]):C6:N6;function O6({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:a,repeat:r,repeatType:l,repeatDelay:u,from:h,elapsed:p,...m}){return!!Object.keys(m).length}const WM=(n,e,t,i={},a,r)=>l=>{const u=OM(i,n)||{},h=u.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Vl(h);const m={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-p,onUpdate:x=>{e.set(x),u.onUpdate&&u.onUpdate(x)},onComplete:()=>{l(),u.onComplete&&u.onComplete()},name:n,motionValue:e,element:r?void 0:a};O6(u)||Object.assign(m,L6(n,m)),m.duration&&(m.duration=Vl(m.duration)),m.repeatDelay&&(m.repeatDelay=Vl(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(p2(m),m.delay===0&&(v=!0)),(Fc.instantAnimations||Fc.skipAnimations)&&(v=!0,p2(m),m.delay=0),m.allowFlatten=!u.type&&!u.ease,v&&!r&&e.get()!==void 0){const x=A6(m.keyframes,u);if(x!==void 0){Ii.update(()=>{m.onUpdate(x),m.onComplete()});return}}return u.isSync?new NM(m):new nz(m)};function U6({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function z4(n,e,{delay:t=0,transitionOverride:i,type:a}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:l,...u}=e;i&&(r=i);const h=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const m in u){const v=n.getValue(m,n.latestValues[m]??null),x=u[m];if(x===void 0||p&&U6(p,m))continue;const b={delay:t,...OM(r||{},m)},M=v.get();if(M!==void 0&&!v.isAnimating&&!Array.isArray(x)&&x===M&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const w=B4(n);if(w){const R=window.MotionHandoffAnimation(w,m,Ii);R!==null&&(b.startTime=R,C=!0)}}b2(n,m),v.start(WM(m,v,x,n.shouldReduceMotion&&i4.has(m)?{type:!1}:b,n,C));const E=v.animation;E&&h.push(E)}return l&&Promise.all(h).then(()=>{Ii.update(()=>{l&&M6(n,l)})}),h}function _2(n,e,t={}){const i=Ag(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(a=t.transitionOverride);const r=i?()=>Promise.all(z4(n,i,t)):()=>Promise.resolve(),l=n.variantChildren&&n.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:v}=a;return I6(n,e,h,p,m,v,t)}:()=>Promise.resolve(),{when:u}=a;if(u){const[h,p]=u==="beforeChildren"?[r,l]:[l,r];return h().then(()=>p())}else return Promise.all([r(),l(t.delay)])}function I6(n,e,t=0,i=0,a=0,r=1,l){const u=[],h=n.variantChildren.size,p=(h-1)*a,m=typeof i=="function",v=m?x=>i(x,h):r===1?(x=0)=>x*a:(x=0)=>p-x*a;return Array.from(n.variantChildren).sort(P6).forEach((x,b)=>{x.notify("AnimationStart",e),u.push(_2(x,e,{...l,delay:t+(m?0:i)+v(b)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(u)}function P6(n,e){return n.sortNodePosition(e)}function B6(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(r=>_2(n,r,t));i=Promise.all(a)}else if(typeof e=="string")i=_2(n,e,t);else{const a=typeof e=="function"?Ag(n,e,t.custom):e;i=Promise.all(z4(n,a,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function V4(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const z6=VM.length;function F4(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?F4(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<z6;t++){const i=VM[t],a=n.props[i];(Eg(a)||a===!1)&&(e[i]=a)}return e}const V6=[...zM].reverse(),F6=zM.length;function H6(n){return e=>Promise.all(e.map(({animation:t,options:i})=>B6(n,t,i)))}function k6(n){let e=H6(n),t=Y3(),i=!0;const a=h=>(p,m)=>{const v=Ag(n,m,h==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:x,transitionEnd:b,...M}=v;p={...p,...M,...b}}return p};function r(h){e=h(n)}function l(h){const{props:p}=n,m=F4(n.parent)||{},v=[],x=new Set;let b={},M=1/0;for(let E=0;E<F6;E++){const w=V6[E],R=t[w],D=p[w]!==void 0?p[w]:m[w],O=Eg(D),P=w===h?R.isActive:null;P===!1&&(M=E);let U=D===m[w]&&D!==p[w]&&O;if(U&&i&&n.manuallyAnimateOnMount&&(U=!1),R.protectedKeys={...b},!R.isActive&&P===null||!D&&!R.prevProp||z1(D)||typeof D=="boolean")continue;const V=G6(R.prevProp,D);let H=V||w===h&&R.isActive&&!U&&O||E>M&&O,I=!1;const L=Array.isArray(D)?D:[D];let q=L.reduce(a(w),{});P===!1&&(q={});const{prevResolvedValues:J={}}=R,re={...J,...q},de=K=>{H=!0,x.has(K)&&(I=!0,x.delete(K)),R.needsAnimating[K]=!0;const $=n.getValue(K);$&&($.liveStyle=!1)};for(const K in re){const $=q[K],pe=J[K];if(b.hasOwnProperty(K))continue;let X=!1;x2($)&&x2(pe)?X=!V4($,pe):X=$!==pe,X?$!=null?de(K):x.add(K):$!==void 0&&x.has(K)?de(K):R.protectedKeys[K]=!0}R.prevProp=D,R.prevResolvedValues=q,R.isActive&&(b={...b,...q}),i&&n.blockInitialAnimation&&(H=!1),H&&(!(U&&V)||I)&&v.push(...L.map(K=>({animation:K,options:{type:w}})))}if(x.size){const E={};if(typeof p.initial!="boolean"){const w=Ag(n,Array.isArray(p.initial)?p.initial[0]:p.initial);w&&w.transition&&(E.transition=w.transition)}x.forEach(w=>{const R=n.getBaseTarget(w),D=n.getValue(w);D&&(D.liveStyle=!0),E[w]=R??null}),v.push({animation:E})}let C=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(v):Promise.resolve()}function u(h,p){if(t[h].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(h,p)),t[h].isActive=p;const m=l(h);for(const v in t)t[v].protectedKeys={};return m}return{animateChanges:l,setActive:u,setAnimateFunction:r,getState:()=>t,reset:()=>{t=Y3(),i=!0}}}function G6(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!V4(e,n):!1}function ih(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y3(){return{animate:ih(!0),whileInView:ih(),whileHover:ih(),whileTap:ih(),whileDrag:ih(),whileFocus:ih(),exit:ih()}}class lf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class j6 extends lf{constructor(e){super(e),e.animationState||(e.animationState=k6(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();z1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let X6=0;class W6 extends lf{constructor(){super(...arguments),this.id=X6++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const q6={animation:{Feature:j6},exit:{Feature:W6}};function Cg(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function nv(n){return{point:{x:n.pageX,y:n.pageY}}}const Y6=n=>e=>PM(e)&&n(e,nv(e));function rg(n,e,t,i){return Cg(n,e,Y6(t),i)}const H4=1e-4,Z6=1-H4,K6=1+H4,k4=.01,Q6=0-k4,J6=0+k4;function js(n){return n.max-n.min}function $6(n,e,t){return Math.abs(n-e)<=t}function Z3(n,e,t,i=.5){n.origin=i,n.originPoint=ji(e.min,e.max,n.origin),n.scale=js(t)/js(e),n.translate=ji(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Z6&&n.scale<=K6||isNaN(n.scale))&&(n.scale=1),(n.translate>=Q6&&n.translate<=J6||isNaN(n.translate))&&(n.translate=0)}function og(n,e,t,i){Z3(n.x,e.x,t.x,i?i.originX:void 0),Z3(n.y,e.y,t.y,i?i.originY:void 0)}function K3(n,e,t){n.min=t.min+e.min,n.max=n.min+js(e)}function e8(n,e,t){K3(n.x,e.x,t.x),K3(n.y,e.y,t.y)}function Q3(n,e,t){n.min=e.min-t.min,n.max=n.min+js(e)}function lg(n,e,t){Q3(n.x,e.x,t.x),Q3(n.y,e.y,t.y)}function ro(n){return[n("x"),n("y")]}const G4=({current:n})=>n?n.ownerDocument.defaultView:null,J3=(n,e)=>Math.abs(n-e);function t8(n,e){const t=J3(n.x,e.x),i=J3(n.y,e.y);return Math.sqrt(t**2+i**2)}class j4{constructor(e,t,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:r=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=OS(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=t8(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!M)return;const{point:C}=x,{timestamp:E}=es;this.history.push({...C,timestamp:E});const{onStart:w,onMove:R}=this.handlers;b||(w&&w(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=LS(b,this.transformPagePoint),Ii.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:M,onSessionEnd:C,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=OS(x.type==="pointercancel"?this.lastMoveEventInfo:LS(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(x,w),C&&C(x,w)},!PM(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=l,this.contextWindow=a||window;const u=nv(e),h=LS(u,this.transformPagePoint),{point:p}=h,{timestamp:m}=es;this.history=[{...p,timestamp:m}];const{onSessionStart:v}=t;v&&v(e,OS(h,this.history)),this.removeListeners=$g(rg(this.contextWindow,"pointermove",this.handlePointerMove),rg(this.contextWindow,"pointerup",this.handlePointerUp),rg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),tf(this.updatePoint)}}function LS(n,e){return e?{point:e(n.point)}:n}function $3(n,e){return{x:n.x-e.x,y:n.y-e.y}}function OS({point:n},e){return{point:n,delta:$3(n,X4(e)),offset:$3(n,n8(e)),velocity:i8(e,.1)}}function n8(n){return n[0]}function X4(n){return n[n.length-1]}function i8(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const a=X4(n);for(;t>=0&&(i=n[t],!(a.timestamp-i.timestamp>Vl(e)));)t--;if(!i)return{x:0,y:0};const r=Fl(a.timestamp-i.timestamp);if(r===0)return{x:0,y:0};const l={x:(a.x-i.x)/r,y:(a.y-i.y)/r};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function a8(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?ji(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?ji(t,n,i.max):Math.min(n,t)),n}function eA(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function s8(n,{top:e,left:t,bottom:i,right:a}){return{x:eA(n.x,t,a),y:eA(n.y,e,i)}}function tA(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function r8(n,e){return{x:tA(n.x,e.x),y:tA(n.y,e.y)}}function o8(n,e){let t=.5;const i=js(n),a=js(e);return a>i?t=Sg(e.min,e.max-i,n.min):i>a&&(t=Sg(n.min,n.max-a,e.min)),Vc(0,1,t)}function l8(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const S2=.35;function c8(n=S2){return n===!1?n=0:n===!0&&(n=S2),{x:nA(n,"left","right"),y:nA(n,"top","bottom")}}function nA(n,e,t){return{min:iA(n,e),max:iA(n,t)}}function iA(n,e){return typeof n=="number"?n:n[e]||0}const u8=new WeakMap;class f8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ca(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=v=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(nv(v).point)},l=(v,x)=>{const{drag:b,dragPropagation:M,onDragStart:C}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yz(b),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ro(w=>{let R=this.getAxisMotionValue(w).get()||0;if(Hl.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const O=D.layout.layoutBox[w];O&&(R=js(O)*(parseFloat(R)/100))}}this.originPoint[w]=R}),C&&Ii.postRender(()=>C(v,x)),b2(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},u=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:C,onDrag:E}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:w}=x;if(M&&this.currentDirection===null){this.currentDirection=h8(w),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",x.point,w),this.updateAxis("y",x.point,w),this.visualElement.render(),E&&E(v,x)},h=(v,x)=>{this.latestPointerEvent=v,this.latestPanInfo=x,this.stop(v,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ro(v=>this.getAnimationState(v)==="paused"&&this.getAxisMotionValue(v).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new j4(e,{onSessionStart:r,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:i,contextWindow:G4(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,a=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!a||!i)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:u}=this.getProps();u&&Ii.postRender(()=>u(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:a}=this.getProps();if(!i||!ix(e,a,this.currentDirection))return;const r=this.getAxisMotionValue(e);let l=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(l=a8(l,this.constraints[e],this.elastic[e])),r.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Mp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=s8(i.layoutBox,e):this.constraints=!1,this.elastic=c8(t),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ro(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=l8(i.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Mp(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const r=h6(i,a.root,this.visualElement.getTransformPagePoint());let l=r8(a.layout.layoutBox,r);if(t){const u=t(c6(l));this.hasMutatedConstraints=!!u,u&&(l=R4(u))}return l}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:a,dragTransition:r,dragSnapToOrigin:l,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=ro(m=>{if(!ix(m,t,this.currentDirection))return;let v=h&&h[m]||{};l&&(v={min:0,max:0});const x=a?200:1e6,b=a?40:1e7,M={type:"inertia",velocity:i?e[m]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...r,...v};return this.startAxisValueAnimation(m,M)});return Promise.all(p).then(u)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return b2(this.visualElement,e),i.start(WM(e,i,0,t,this.visualElement,!1))}stopAnimation(){ro(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ro(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[t];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){ro(t=>{const{drag:i}=this.getProps();if(!ix(t,i,this.currentDirection))return;const{projection:a}=this.visualElement,r=this.getAxisMotionValue(t);if(a&&a.layout){const{min:l,max:u}=a.layout.layoutBox[t];r.set(e[t]-ji(l,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!Mp(t)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ro(l=>{const u=this.getAxisMotionValue(l);if(u&&this.constraints!==!1){const h=u.get();a[l]=o8({min:h,max:h},this.constraints[l])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),ro(l=>{if(!ix(l,e,null))return;const u=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];u.set(ji(h,p,a[l]))})}addListeners(){if(!this.visualElement.current)return;u8.set(this.visualElement,this);const e=this.visualElement.current,t=rg(e,"pointerdown",h=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(h)}),i=()=>{const{dragConstraints:h}=this.getProps();Mp(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,r=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Ii.read(i);const l=Cg(window,"resize",()=>this.scalePositionWithinConstraints()),u=a.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(ro(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=h[m].translate,v.set(v.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),t(),r(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:r=!1,dragElastic:l=S2,dragMomentum:u=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:a,dragConstraints:r,dragElastic:l,dragMomentum:u}}}function ix(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function h8(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class d8 extends lf{constructor(e){super(e),this.removeGroupControls=lo,this.removeListeners=lo,this.controls=new f8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lo}unmount(){this.removeGroupControls(),this.removeListeners()}}const aA=n=>(e,t)=>{n&&Ii.postRender(()=>n(e,t))};class p8 extends lf{constructor(){super(...arguments),this.removePointerDownListener=lo}onPointerDown(e){this.session=new j4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:aA(e),onStart:aA(t),onMove:i,onEnd:(r,l)=>{delete this.session,a&&Ii.postRender(()=>a(r,l))}}}mount(){this.removePointerDownListener=rg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ob={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sA(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const P0={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ln.test(n))n=parseFloat(n);else return n;const t=sA(n,e.target.x),i=sA(n,e.target.y);return`${t}% ${i}%`}},m8={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,a=nf.parse(n);if(a.length>5)return i;const r=nf.createTransformer(n),l=typeof a[0]!="number"?1:0,u=t.x.scale*e.x,h=t.y.scale*e.y;a[0+l]/=u,a[1+l]/=h;const p=ji(u,h,.5);return typeof a[2+l]=="number"&&(a[2+l]/=p),typeof a[3+l]=="number"&&(a[3+l]/=p),r(a)}};let rA=!1;class g8 extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:a}=this.props,{projection:r}=e;Bz(v8),r&&(t.group&&t.group.add(r),i&&i.register&&a&&i.register(r),rA&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),ob.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:a,isPresent:r}=this.props,{projection:l}=i;return l&&(l.isPresent=r,rA=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==r?l.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?l.promote():l.relegate()||Ii.postRender(()=>{const u=l.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),IM.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W4(n){const[e,t]=p4(),i=ne.useContext(dM);return B.jsx(g8,{...n,layoutGroup:i,switchLayoutGroup:ne.useContext(A4),isPresent:e,safeToRemove:t})}const v8={borderRadius:{...P0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:P0,borderTopRightRadius:P0,borderBottomLeftRadius:P0,borderBottomRightRadius:P0,boxShadow:m8};function y8(n,e,t){const i=vs(n)?n:Pp(n);return i.start(WM("",i,e,t)),i.animation}const x8=(n,e)=>n.depth-e.depth;class b8{constructor(){this.children=[],this.isDirty=!1}add(e){gM(this.children,e),this.isDirty=!0}remove(e){vM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(x8),this.isDirty=!1,this.children.forEach(e)}}function _8(n,e){const t=mr.now(),i=({timestamp:a})=>{const r=a-t;r>=e&&(tf(i),n(r-e))};return Ii.setup(i,!0),()=>tf(i)}const q4=["TopLeft","TopRight","BottomLeft","BottomRight"],S8=q4.length,oA=n=>typeof n=="string"?parseFloat(n):n,lA=n=>typeof n=="number"||ln.test(n);function w8(n,e,t,i,a,r){a?(n.opacity=ji(0,t.opacity??1,M8(i)),n.opacityExit=ji(e.opacity??1,0,E8(i))):r&&(n.opacity=ji(e.opacity??1,t.opacity??1,i));for(let l=0;l<S8;l++){const u=`border${q4[l]}Radius`;let h=cA(e,u),p=cA(t,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||lA(h)===lA(p)?(n[u]=Math.max(ji(oA(h),oA(p),i),0),(Hl.test(p)||Hl.test(h))&&(n[u]+="%")):n[u]=p}(e.rotate||t.rotate)&&(n.rotate=ji(e.rotate||0,t.rotate||0,i))}function cA(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const M8=Y4(0,.5,UD),E8=Y4(.5,.95,lo);function Y4(n,e,t){return i=>i<n?0:i>e?1:t(Sg(n,e,i))}function uA(n,e){n.min=e.min,n.max=e.max}function ao(n,e){uA(n.x,e.x),uA(n.y,e.y)}function fA(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function hA(n,e,t,i,a){return n-=e,n=Eb(n,1/t,i),a!==void 0&&(n=Eb(n,1/a,i)),n}function T8(n,e=0,t=1,i=.5,a,r=n,l=n){if(Hl.test(e)&&(e=parseFloat(e),e=ji(l.min,l.max,e/100)-l.min),typeof e!="number")return;let u=ji(r.min,r.max,i);n===r&&(u-=e),n.min=hA(n.min,e,t,u,a),n.max=hA(n.max,e,t,u,a)}function dA(n,e,[t,i,a],r,l){T8(n,e[t],e[i],e[a],e.scale,r,l)}const A8=["x","scaleX","originX"],C8=["y","scaleY","originY"];function pA(n,e,t,i){dA(n.x,e,A8,t?t.x:void 0,i?i.x:void 0),dA(n.y,e,C8,t?t.y:void 0,i?i.y:void 0)}function mA(n){return n.translate===0&&n.scale===1}function Z4(n){return mA(n.x)&&mA(n.y)}function gA(n,e){return n.min===e.min&&n.max===e.max}function R8(n,e){return gA(n.x,e.x)&&gA(n.y,e.y)}function vA(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function K4(n,e){return vA(n.x,e.x)&&vA(n.y,e.y)}function yA(n){return js(n.x)/js(n.y)}function xA(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class D8{constructor(){this.members=[]}add(e){gM(this.members,e),e.scheduleRender()}remove(e){if(vM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let i;for(let a=t;a>=0;a--){const r=this.members[a];if(r.isPresent!==!1){i=r;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function N8(n,e,t){let i="";const a=n.x.translate/e.x,r=n.y.translate/e.y,l=t?.z||0;if((a||r||l)&&(i=`translate3d(${a}px, ${r}px, ${l}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:x,skewX:b,skewY:M}=t;p&&(i=`perspective(${p}px) ${i}`),m&&(i+=`rotate(${m}deg) `),v&&(i+=`rotateX(${v}deg) `),x&&(i+=`rotateY(${x}deg) `),b&&(i+=`skewX(${b}deg) `),M&&(i+=`skewY(${M}deg) `)}const u=n.x.scale*e.x,h=n.y.scale*e.y;return(u!==1||h!==1)&&(i+=`scale(${u}, ${h})`),i||"none"}const US=["","X","Y","Z"],L8=1e3;let O8=0;function IS(n,e,t,i){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Q4(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=B4(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Ii,!(a||r))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Q4(i)}function J4({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(l={},u=e?.()){this.id=O8++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(P8),this.nodes.forEach(F8),this.nodes.forEach(H8),this.nodes.forEach(B8)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new b8)}addEventListener(l,u){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new bM),this.eventHandlers.get(l).add(u)}notifyListeners(l,...u){const h=this.eventHandlers.get(l);h&&h.notify(...u)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=d4(l)&&!Mz(l),this.instance=l;const{layoutId:u,layout:h,visualElement:p}=this.options;if(p&&!p.current&&p.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||u)&&(this.isLayoutDirty=!0),n){let m,v=0;const x=()=>this.root.updateBlockedByResize=!1;Ii.read(()=>{v=window.innerWidth}),n(l,()=>{const b=window.innerWidth;b!==v&&(v=b,this.root.updateBlockedByResize=!0,m&&m(),m=_8(x,250),ob.hasAnimatedSinceResize&&(ob.hasAnimatedSinceResize=!1,this.nodes.forEach(SA)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||p.getDefaultTransition()||W8,{onLayoutAnimationStart:C,onLayoutAnimationComplete:E}=p.getProps(),w=!this.targetLayout||!K4(this.targetLayout,b),R=!v&&x;if(this.options.layoutRoot||this.resumeFrom||R||v&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...OM(M,"layout"),onPlay:C,onComplete:E};(p.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(m,R)}else v||SA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),tf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k8),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_A);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(V8),this.nodes.forEach(U8),this.nodes.forEach(I8)):this.nodes.forEach(_A),this.clearAllSnapshots();const u=mr.now();es.delta=Vc(0,1e3/60,u-es.timestamp),es.timestamp=u,es.isProcessing=!0,MS.update.process(es),MS.preRender.process(es),MS.render.process(es),es.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IM.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(z8),this.sharedNodes.forEach(G8)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ii.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ii.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!js(this.snapshot.measuredBox.x)&&!js(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ca(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(u=!1),u&&this.instance){const h=i(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!Z4(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&this.instance&&(u||xh(this.latestValues)||m)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return l&&(h=this.removeTransform(h)),q8(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return ca();const u=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y8))){const{scroll:p}=this.root;p&&(Ep(u.x,p.offset.x),Ep(u.y,p.offset.y))}return u}removeElementScroll(l){const u=ca();if(ao(u,l),this.scroll?.wasRoot)return u;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:m,options:v}=p;p!==this.root&&m&&v.layoutScroll&&(m.wasRoot&&ao(u,l),Ep(u.x,m.offset.x),Ep(u.y,m.offset.y))}return u}applyTransform(l,u=!1){const h=ca();ao(h,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Tp(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),xh(m.latestValues)&&Tp(h,m.latestValues)}return xh(this.latestValues)&&Tp(h,this.latestValues),h}removeTransform(l){const u=ca();ao(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!xh(p.latestValues))continue;g2(p.latestValues)&&p.updateSnapshot();const m=ca(),v=p.measurePageBox();ao(m,v),pA(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return xh(this.latestValues)&&pA(u,this.latestValues),u}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==es.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:v}=this.options;if(!(!this.layout||!(m||v))){if(this.resolvedRelativeTargetAt=es.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),lg(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ca(),this.targetWithTransforms=ca()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),e8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ao(this.target,this.layout.layoutBox),N4(this.target,this.targetDelta)):ao(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ca(),this.relativeTargetOrigin=ca(),lg(this.relativeTargetOrigin,this.target,x.target),ao(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g2(this.parent.latestValues)||D4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),u=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===es.timestamp&&(h=!1),h)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;ao(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,x=this.treeScale.y;f6(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=ca());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fA(this.prevProjectionDelta.x,this.projectionDelta.x),fA(this.prevProjectionDelta.y,this.projectionDelta.y)),og(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==x||!xA(this.projectionDelta.x,this.prevProjectionDelta.x)||!xA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ap(),this.projectionDelta=Ap(),this.projectionDeltaWithTransform=Ap()}setAnimationOrigin(l,u=!1){const h=this.snapshot,p=h?h.latestValues:{},m={...this.latestValues},v=Ap();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const x=ca(),b=h?h.source:void 0,M=this.layout?this.layout.source:void 0,C=b!==M,E=this.getStack(),w=!E||E.members.length<=1,R=!!(C&&!w&&this.options.crossfade===!0&&!this.path.some(X8));this.animationProgress=0;let D;this.mixTargetDelta=O=>{const P=O/1e3;wA(v.x,l.x,P),wA(v.y,l.y,P),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lg(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j8(this.relativeTarget,this.relativeTargetOrigin,x,P),D&&R8(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=ca()),ao(D,this.relativeTarget)),C&&(this.animationValues=m,w8(m,p,this.latestValues,P,R,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(tf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ii.update(()=>{ob.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pp(0)),this.currentAnimation=y8(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(L8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:m}=l;if(!(!u||!h||!p)){if(this!==l&&this.layout&&p&&$4(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||ca();const v=js(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+v;const x=js(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}ao(u,h),Tp(u,m),og(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(l,u){this.sharedNodes.has(l)||this.sharedNodes.set(l,new D8),this.sharedNodes.get(l).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let u=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const p={};h.z&&IS("z",l,p,this.animationValues);for(let m=0;m<US.length;m++)IS(`rotate${US[m]}`,l,p,this.animationValues),IS(`skew${US[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}applyProjectionStyles(l,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=rb(u?.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=rb(u?.pointerEvents)||""),this.hasProjected&&!xh(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=N8(this.projectionDeltaWithTransform,this.treeScale,m);h&&(v=h(m,v)),l.transform=v;const{x,y:b}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?l.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const M in Tg){if(m[M]===void 0)continue;const{correct:C,applyTo:E,isCSSVariable:w}=Tg[M],R=v==="none"?m[M]:C(m[M],p);if(E){const D=E.length;for(let O=0;O<D;O++)l[E[O]]=R}else w?this.options.visualElement.renderState.vars[M]=R:l[M]=R}this.options.layoutId&&(l.pointerEvents=p===this?rb(u?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(bA),this.root.sharedNodes.clear()}}}function U8(n){n.updateLayout()}function I8(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=n.layout,{animationType:a}=n.options,r=e.source!==n.layout.source;a==="size"?ro(m=>{const v=r?e.measuredBox[m]:e.layoutBox[m],x=js(v);v.min=t[m].min,v.max=v.min+x}):$4(a,e.layoutBox,t)&&ro(m=>{const v=r?e.measuredBox[m]:e.layoutBox[m],x=js(t[m]);v.max=v.min+x,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[m].max=n.relativeTarget[m].min+x)});const l=Ap();og(l,t,e.layoutBox);const u=Ap();r?og(u,n.applyTransform(i,!0),e.measuredBox):og(u,t,e.layoutBox);const h=!Z4(l);let p=!1;if(!n.resumeFrom){const m=n.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:v,layout:x}=m;if(v&&x){const b=ca();lg(b,e.layoutBox,v.layoutBox);const M=ca();lg(M,t,x.layoutBox),K4(b,M)||(p=!0),m.options.layoutRoot&&(n.relativeTarget=M,n.relativeTargetOrigin=b,n.relativeParent=m)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:u,layoutDelta:l,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function P8(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function B8(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function z8(n){n.clearSnapshot()}function bA(n){n.clearMeasurements()}function _A(n){n.isLayoutDirty=!1}function V8(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function SA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function F8(n){n.resolveTargetDelta()}function H8(n){n.calcProjection()}function k8(n){n.resetSkewAndRotation()}function G8(n){n.removeLeadSnapshot()}function wA(n,e,t){n.translate=ji(e.translate,0,t),n.scale=ji(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function MA(n,e,t,i){n.min=ji(e.min,t.min,i),n.max=ji(e.max,t.max,i)}function j8(n,e,t,i){MA(n.x,e.x,t.x,i),MA(n.y,e.y,t.y,i)}function X8(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const W8={duration:.45,ease:[.4,0,.1,1]},EA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),TA=EA("applewebkit/")&&!EA("chrome/")?Math.round:lo;function AA(n){n.min=TA(n.min),n.max=TA(n.max)}function q8(n){AA(n.x),AA(n.y)}function $4(n,e,t){return n==="position"||n==="preserve-aspect"&&!$6(yA(e),yA(t),.2)}function Y8(n){return n!==n.root&&n.scroll?.wasRoot}const Z8=J4({attachResizeListener:(n,e)=>Cg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PS={current:void 0},eN=J4({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!PS.current){const n=new Z8({});n.mount(window),n.setOptions({layoutScroll:!0}),PS.current=n}return PS.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),K8={pan:{Feature:p8},drag:{Feature:d8,ProjectionNode:eN,MeasureLayout:W4}};function CA(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,r=i[a];r&&Ii.postRender(()=>r(e,nv(e)))}class Q8 extends lf{mount(){const{current:e}=this.node;e&&(this.unmount=xz(e,(t,i)=>(CA(this.node,i,"Start"),a=>CA(this.node,a,"End"))))}unmount(){}}class J8 extends lf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$g(Cg(this.node.current,"focus",()=>this.onFocus()),Cg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RA(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),r=i[a];r&&Ii.postRender(()=>r(e,nv(e)))}class $8 extends lf{mount(){const{current:e}=this.node;e&&(this.unmount=wz(e,(t,i)=>(RA(this.node,i,"Start"),(a,{success:r})=>RA(this.node,a,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const w2=new WeakMap,BS=new WeakMap,eV=n=>{const e=w2.get(n.target);e&&e(n)},tV=n=>{n.forEach(eV)};function nV({root:n,...e}){const t=n||document;BS.has(t)||BS.set(t,{});const i=BS.get(t),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(tV,{root:n,...e})),i[a]}function iV(n,e,t){const i=nV(e);return w2.set(n,t),i.observe(n),()=>{w2.delete(n),i.unobserve(n)}}const aV={some:0,all:1};class sV extends lf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:a="some",once:r}=e,l={root:t?t.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:aV[a]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,r&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),x=p?m:v;x&&x(h)};return iV(this.node.current,l,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(rV(e,t))&&this.startObserver()}unmount(){}}function rV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const oV={inView:{Feature:sV},tap:{Feature:$8},focus:{Feature:J8},hover:{Feature:Q8}},lV={layout:{ProjectionNode:eN,MeasureLayout:W4}},cV={...q6,...oV,...K8,...lV},gn=l6(cV,_6);function uV(){const n=[{id:1,type:"text-over-image",image:"./img/campus5.jpg",title:"Tetrahedron Group of Institutions",subtitle:"Delivering Education Excellence since 2013. A leading residential science college nurturing academic excellence, scientific curiosity, and personal integrity.",description:"Founded by Trideb Behera in 2013",buttons:[{text:"Know More",link:"./about",primary:!0},{text:"Contact Us",link:"./contact"}]},{id:2,type:"split-with-cards",image:"./img/campus1.jpg",title:"Vision & Mission",description:"To nurture academic excellence, scientific curiosity, and integrity  empowering responsible innovators and future leaders.",buttons:[{text:"Chairman's Gallery",link:"./chairmans-gallery",primary:!0}],cards:[{title:"Established",text:"2013"},{title:"Founder & Chairman",text:"Trideb Behera"},{title:"Tagline",text:"Delivering Education Excellence"}]},{id:3,type:"grid-cards",image:"./img/classroom9.jpg",title:"Academics That Build Futures",description:"We prepare students for board exams and competitive entrance tests (JEE/NEET) with integrated coaching.",buttons:[{text:"Academics",link:"./academics",primary:!0}],gridItems:[{icon:"",title:"+2 Science",description:"PCB + IT, PCB + Geology"},{icon:"",title:"PCMB",description:"Core Science Stream"},{icon:"",title:"Coaching",description:"NEET & JEE Integrated"},{icon:"",title:"Departments",description:"Physics, Chemistry, Biology, IT, Geology"}]},{id:4,type:"text-with-images",image:"./img/new/IMG-20251015-WA0028.jpg",title:"Residential Learning Environment",description:"Tetrahedron provides a safe, structured residential setting fostering discipline, independence, and holistic development.",buttons:[{text:"Facilities",link:"./facilities",primary:!0}],sideImages:["./img/classroom5.jpg","./img/classroom11.jpg"]}],[e,t]=ne.useState(0),i={initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.8}},exit:{opacity:0,y:-50}},a={initial:{scale:1.1,opacity:.8},animate:{scale:1,opacity:1,transition:{duration:1.5}}},r=()=>{t(h=>(h+1)%n.length)},l=()=>{t(h=>(h-1+n.length)%n.length)};ne.useEffect(()=>{const h=setInterval(r,6e3);return()=>clearInterval(h)},[e]);const u=({slide:h})=>{switch(h.type){case"text-over-image":return B.jsxs(gn.div,{className:"max-w-3xl text-white dark:text-gray-100 p-6",variants:i,children:[B.jsx("h2",{className:"text-sm font-bold opacity-80",children:h.description}),B.jsx("h1",{className:"mt-2 text-4xl md:text-6xl font-extrabold",children:h.title}),B.jsx("h3",{className:"mt-2 text-xl font-semibold opacity-90",children:h.subtitle}),B.jsxs("div",{className:"mt-4 md:mt-8 flex-row gap-2",children:[B.jsx(ks,{to:h.buttons[0].link,className:"px-6 py-3 text-lg font-medium rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:h.buttons[0].text}),B.jsx(ks,{to:h.buttons[1].link,className:"ms-2 px-6 py-3 text-lg font-medium rounded-lg bg-white hover:bg-indigo-100 text-indigo-600",children:h.buttons[1].text})]})]});case"split-with-cards":return B.jsxs("div",{className:"flex flex-col justify-center md:flex-row items-center gap-6 h-full",children:[B.jsx(gn.img,{src:h.image,alt:"Campus",className:"hidden md:block w-full md:w-1/2 h-90 object-cover rounded-2xl shadow-lg",initial:{x:-100,opacity:0},animate:{x:0,opacity:1}}),B.jsxs(gn.div,{className:"w-full md:w-1/2 p-4 md:p-6 m-10 rounded-2xl bg-white/40 dark:bg-gray-900/80 backdrop-blur text-gray-900 dark:text-gray-100 shadow-xl flex flex-col justify-center",initial:{x:100,opacity:0},animate:{x:0,opacity:1},children:[B.jsx("h1",{className:"text-xl md:text-2xl font-extrabold",children:h.title}),B.jsx("p",{className:"mt-2 text-lg leading-relaxed",children:h.description}),B.jsx("div",{className:"mt-2",children:B.jsx(ks,{to:h.buttons[0].link,className:"px-2 py-2 text-lg rounded-lg bg-indigo-600 text-white hover:bg-indigo-700",children:h.buttons[0].text})}),B.jsx("div",{className:"mt-6 space-y-3",children:h.cards.map((p,m)=>B.jsxs(gn.div,{className:"p-1 rounded-lg bg-gray-100 dark:bg-gray-800",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3+m*.2},children:[B.jsx("h3",{className:"text-lg font-bold",children:p.title}),B.jsx("p",{className:"text-sm opacity-80 ml-2",children:p.text})]},m))})]})]});case"grid-cards":return B.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-4 h-full",children:[B.jsxs(gn.div,{className:"w-full lg:w-1/2 p-4 md:p-6 text-white flex flex-col justify-center h-full",initial:{x:-100,opacity:0},animate:{x:0,opacity:1},children:[B.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-extrabold",children:h.title}),B.jsx("p",{className:"mt-2 md:mt-4 text-base md:text-lg",children:h.description}),B.jsx("div",{className:"mt-4 md:mt-6",children:B.jsx(ks,{to:h.buttons[0].link,className:"px-4 py-2 md:px-6 md:py-3 text-base md:text-lg rounded-lg bg-green-600 hover:bg-green-700 text-white",children:h.buttons[0].text})})]}),B.jsx(gn.div,{className:"w-full lg:w-1/2 grid grid-cols-2 gap-2 md:gap-4 h-auto md:h-90 mb-8 md:mb-20",initial:{x:100,opacity:0},animate:{x:0,opacity:1},children:h.gridItems.map((p,m)=>B.jsxs(gn.div,{className:"flex flex-col items-center justify-center bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-xl md:rounded-2xl p-2 md:p-4 shadow-lg text-gray-900 dark:text-gray-100",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4+m*.1},children:[B.jsx("span",{className:"text-xl md:text-3xl",children:p.icon}),B.jsx("h3",{className:"mt-1 md:mt-2 text-sm md:text-lg font-bold",children:p.title}),B.jsx("p",{className:"text-xs md:text-sm opacity-80 text-center",children:p.description})]},m))})]});case"text-with-images":return B.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-6 h-full w-full",children:[B.jsxs(gn.div,{className:"w-full lg:w-1/2 p-4 md:p-6 text-white flex flex-col justify-center h-auto",initial:{opacity:0,y:40},animate:{opacity:1,y:0},children:[B.jsx("h1",{className:"text-2xl md:text-4xl lg:text-5xl font-extrabold",children:h.title}),B.jsx("p",{className:"mt-2 md:mt-4 text-base md:text-lg",children:h.description}),B.jsx("div",{className:"mt-4 md:mt-6",children:B.jsx(ks,{to:h.buttons[0].link,className:"px-4 py-2 md:px-6 md:py-3 text-base md:text-lg rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white",children:h.buttons[0].text})})]}),B.jsx("div",{className:"flex gap-4 mb-4 md:mb-8 w-full lg:w-1/2 justify-center items-center",children:h.sideImages.map((p,m)=>B.jsx(gn.img,{src:p,alt:`Side ${m+1}`,className:"w-32 h-32 sm:w-40 sm:h-40 md:w-48 md:h-48 lg:w-60 lg:h-56 rounded-2xl shadow-lg object-cover border-2 border-white",initial:{scale:0,rotate:-180,opacity:0},animate:{scale:1,rotate:0,opacity:1},transition:{type:"spring",stiffness:200,damping:20,delay:.3+m*.2}},m))})]});default:return null}};return B.jsxs("div",{className:"relative w-full h-[80vh] md:h-[90vh] lg:h-[100vh] overflow-hidden font-sans",children:[B.jsx(m4,{mode:"wait",children:B.jsxs(gn.div,{className:"absolute inset-0 w-full h-full",children:[B.jsx(gn.div,{className:"absolute inset-0 bg-cover bg-center h-full",style:{backgroundImage:`url('${n[e].image}')`},variants:a,initial:"initial",animate:"animate"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/70 via-black/40 to-transparent dark:from-gray-900 dark:via-gray-800/50 dark:to-transparent"}),B.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center",children:B.jsx(u,{slide:n[e]})})]},n[e].id)}),B.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 left-3 z-20",children:B.jsx("button",{onClick:l,className:"w-8 h-8 rounded-full bg-black/30 hover:bg-black/50 transition flex items-center justify-center",children:B.jsx("span",{className:"block w-0 h-0 border-y-6 border-y-transparent border-r-8 border-r-white"})})}),B.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 right-3 z-20",children:B.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full bg-black/30 hover:bg-black/50 transition flex items-center justify-center",children:B.jsx("span",{className:"block w-0 h-0 border-y-6 border-y-transparent border-l-8 border-l-white"})})}),B.jsx("div",{className:"absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-20",children:n.map((h,p)=>B.jsx("button",{onClick:()=>t(p),className:`h-3 rounded-full transition-all ${p===e?"w-8 bg-white":"w-3 bg-white/50"}`},p))})]})}const fV=[{title:"Academic Excellence",description:"Rigorous academic programs designed for success in board exams and competitive entrance tests.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})},{title:"Residential Facilities",description:"Separate hostels for boys and girls with 100% security measures and comfortable living spaces.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})},{title:"Integrated Coaching",description:"Special coaching for NEET and JEE aspirants integrated with regular curriculum.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})},{title:"Well-equipped Labs",description:"Modern laboratories for Physics, Chemistry, Biology and IT to enhance practical learning.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})},{title:"Self Study Rooms",description:"Air-conditioned study rooms are available for self-study after classes, and teachers are present throughout study hours to addressanydoubts.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})},{title:"Holistic Development",description:"Focus on physical fitness, mental well-being, ethics, and leadership values.",icon:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}],hV=()=>B.jsx(gn.section,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"py-20 bg-gradient-to-br from-indigo-50 via-white to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[B.jsxs("div",{className:"lg:text-center",children:[B.jsx(gn.h2,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-sm font-semibold text-indigo-600 dark:text-indigo-400 tracking-wider uppercase",children:"Why Choose Us"}),B.jsx(gn.p,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},className:"mt-3 text-4xl font-extrabold dark:text-white sm:text-5xl bg-gradient-to-r from-indigo-500 to-purple-600 bg-clip-text text-transparent",children:"Our Key Features"}),B.jsx("p",{className:"mt-4 max-w-2xl text-lg text-gray-600 dark:text-gray-300 lg:mx-auto",children:"We provide an environment that fosters academic excellence and holistic development."})]}),B.jsx("div",{className:"mt-14",children:B.jsx("div",{className:"grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3",children:fV.map((n,e)=>B.jsxs(gn.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{delay:e*.15,duration:.6},viewport:{once:!0},className:`group bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-md hover:shadow-2xl \r
                  transition-all duration-300 hover:-translate-y-2 border border-gray-100 dark:border-gray-700`,children:[B.jsx("div",{className:`flex items-center justify-center h-14 w-14 rounded-xl \r
                  bg-gradient-to-tr from-indigo-500 to-purple-600 text-white shadow-lg group-hover:scale-110 transition-transform duration-300`,children:B.jsx("svg",{className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.icon})}),B.jsx("h3",{className:"mt-6 text-xl font-semibold text-gray-900 dark:text-white group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors duration-300",children:n.title}),B.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-300 group-hover:text-gray-800 dark:group-hover:text-gray-200 transition-colors duration-300",children:n.description})]},e))})})]})}),xc=[{name:"Kamalakanta",role:"AIIMS BBSR (2024)",avatar:"./img/topper1.jpg",text:"The integrated coaching for NEET at Tetrahedron has been exceptional. The faculty's dedication and the study environment have helped me improve my rank significantly."},{name:"Tapas Behera",role:"IIT KHARAGPUR (2022)",avatar:"./img/topper2.jpg",text:"The self-study rooms with faculty support are a game-changer. I can focus better and get my doubts cleared immediately. The JEE coaching is top-notch."},{name:"Abinash Panda",role:"+2 Science Topper (2025)",avatar:"./img/topper3.jpg",text:"The residential facilities are excellent. The disciplined environment helps me stay focused on my studies while also participating in extracurricular activities."},{name:"ASHIRBAD BISWAL",role:"AIIMS GORAKHPUR (2023)",avatar:"./img/topper4.png",text:"Tetrahedron's focus on both academics and discipline made a huge difference in my preparation. The mock tests and faculty mentoring helped me identify my weak areas and strengthen my NEET performance."},{name:"SUSHREE SANGITA SAHOO",role:"AIIMS DELHI (2021)",avatar:"./img/topper5.png",text:"Joining Tetrahedron was one of the best decisions of my life. The one-on-one guidance, regular doubt-clearing sessions, and supportive teachers created a perfect environment for focused NEET preparation."},{name:"SATYAJIT NAYAK",role:"AIIMS RAIPUR (2022)",avatar:"./img/topper6.png",text:"The systematic study plan and personalized mentorship at Tetrahedron helped me stay consistent throughout my journey. The regular assessments and motivating environment pushed me toward success."},{name:"ARPIT",role:"CHSE 2025 Science Topper",avatar:"./img/topper7.png",text:"The faculty at Tetrahedron are not just teachers; they are mentors who genuinely care about our success. Their expertise and encouragement played a crucial role in my NEET preparation."},{name:"SUBHALAXMI",role:"CHSE 2025 Science Topper",avatar:"./img/topper8.png",text:"The structured curriculum and regular practice tests at Tetrahedron helped me build confidence and improve my performance. The supportive community made the journey enjoyable."},{name:"BHAGYASHREE",role:"CHSE 2025 Science Topper",avatar:"./img/topper9.png",text:"The JEE coaching at Tetrahedron is unparalleled. The faculty's deep understanding of the exam pattern and their ability to simplify complex concepts made my preparation effective and efficient."},{name:"SWAYAMSHREE",role:"CHSE 2025 Science Topper",avatar:"./img/topper10.png",text:"Tetrahedron provided me with the right resources and guidance to excel in JEE. The regular tests, doubt sessions, and personalized attention helped me stay on track and achieve my goals."}],dV=()=>{const[n,e]=ne.useState(0),[t,i]=ne.useState(1);ne.useEffect(()=>{const h=setInterval(()=>{i(1),e(p=>p===xc.length-1?0:p+1)},5e3);return()=>clearInterval(h)},[]);const a={enter:()=>({x:t>0?80:-80,opacity:0,scale:.95}),center:{x:0,opacity:1,scale:1,transition:{ease:"easeOut",duration:.5}},exit:()=>({x:t<0?80:-80,opacity:0,scale:.95,transition:{ease:"easeIn",duration:.4}})},[r,l]=ne.useState(!1),u=(h,p)=>{r||(p.offset.x>50?(i(-1),e(m=>m===0?xc.length-1:m-1)):p.offset.x<-50&&(i(1),e(m=>m===xc.length-1?0:m+1)))};return ne.useEffect(()=>{l(!0);const h=setTimeout(()=>l(!1),500);return()=>clearTimeout(h)},[n]),B.jsx(gn.section,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"relative w-full bg-gradient-to-b from-indigo-50 via-white to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 py-20",children:B.jsxs("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-12",children:[B.jsxs("div",{className:"text-center mb-12",children:[B.jsx("h2",{className:"text-indigo-600 dark:text-indigo-400 font-semibold uppercase tracking-wider",children:"Testimonials"}),B.jsx("p",{className:"mt-2 text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:"What Our Students Say"}),B.jsx("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-lg max-w-2xl mx-auto",children:"Hear from our achievers who turned their dreams into reality."})]}),B.jsx("div",{className:"relative flex justify-center items-center overflow-hidden px-2",children:B.jsx("div",{className:"w-full max-w-4xl",children:B.jsx(m4,{mode:"wait",custom:t,children:B.jsxs(gn.div,{custom:t,variants:a,initial:"enter",animate:"center",exit:"exit",drag:"x",dragConstraints:{left:0,right:0},onDragEnd:u,className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-lg rounded-2xl shadow-xl flex flex-col sm:flex-row items-center gap-6 sm:gap-10 p-8 sm:p-10",children:[B.jsx("img",{src:xc[n].avatar,alt:xc[n].name,className:"w-28 h-28 sm:w-40 sm:h-40 rounded-full object-cover border-4 border-indigo-500 shadow-md",loading:"lazy"}),B.jsxs("div",{className:"flex flex-col items-center sm:items-start text-center sm:text-left",children:[B.jsxs("p",{className:"text-gray-700 dark:text-gray-200 text-lg italic leading-relaxed",children:["",xc[n].text,""]}),B.jsx("h3",{className:"mt-6 text-xl font-bold text-gray-900 dark:text-white",children:xc[n].name}),B.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 font-medium text-sm",children:xc[n].role})]})]},n)})})}),B.jsx("div",{className:"mt-8 flex justify-center gap-3",children:xc.map((h,p)=>B.jsx("button",{onClick:()=>{i(p>n?1:-1),e(p)},className:`w-3.5 h-3.5 rounded-full transition-all ${p===n?"bg-indigo-600 scale-125":"bg-gray-300 dark:bg-gray-600"}`},p))})]})})},pV=()=>B.jsx("a",{href:"https://wa.me/917008222977?text=Hi%20~from%20website",target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-4 right-4 bg-green-500 text-white p-3 rounded-full shadow-lg hover:bg-green-600 z-50",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M20.52 3.48A11.91 11.91 0 0012 0C5.37 0 0 5.37 0 12c0 2.11.55 4.16 1.6 5.96L0 24l6.27-1.64A11.94 11.94 0 0012 24c6.63 0 12-5.37 12-12 0-3.19-1.24-6.19-3.48-8.52zM12 21.82a9.85 9.85 0 01-5.03-1.37l-.36-.21-3.73.98.99-3.63-.23-.37A9.84 9.84 0 012.18 12c0-5.41 4.41-9.82 9.82-9.82 2.62 0 5.08 1.02 6.94 2.88a9.78 9.78 0 012.88 6.94c0 5.41-4.41 9.82-9.82 9.82zm5.43-7.36c-.3-.15-1.78-.88-2.06-.97-.28-.1-.48-.15-.68.15-.2.3-.78.97-.96 1.17-.18.2-.36.23-.66.08-.3-.15-1.26-.46-2.4-1.47-.88-.78-1.48-1.74-1.66-2.04-.18-.3-.02-.46.13-.61.14-.14.3-.36.45-.54.15-.18.2-.3.3-.5.1-.2.05-.38-.03-.53-.08-.15-.68-1.64-.93-2.25-.24-.58-.48-.5-.66-.51h-.57c-.2 0-.53.08-.8.38s-1.05 1.02-1.05 2.48 1.08 2.87 1.23 3.07c.15.2 2.13 3.26 5.16 4.57.72.31 1.28.5 1.72.64.72.23 1.37.2 1.88.12.57-.08 1.78-.73 2.03-1.43.25-.7.25-1.3.18-1.43-.07-.13-.27-.21-.57-.36z"})})}),mV=()=>B.jsx("div",{className:"bg-indigo-700 dark:bg-indigo-900",children:B.jsxs("div",{className:"max-w-2xl mx-auto text-center py-16 px-4 sm:py-20 sm:px-6 lg:px-8",children:[B.jsxs(gn.h2,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"text-3xl font-extrabold text-white sm:text-4xl",children:[B.jsx("span",{className:"block",children:"Ready to join us?"}),B.jsx("span",{className:"block",children:"Start your journey to academic excellence today."})]}),B.jsx(gn.p,{initial:{opacity:0,y:-20},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"mt-4 text-lg leading-6 text-indigo-200",children:"Admissions open for +2 Science with PCB+IT, PCB+Geology, PCMB, PCM+IT streams."}),B.jsx(gn.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.6,delay:.4},viewport:{once:!0},children:B.jsx(ks,{to:"/contact",className:`mt-8 w-full inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white\r
                           transition-all duration-300 ease-in-out\r
                           hover:bg-indigo-50 hover:text-indigo-700 hover:shadow-lg\r
                           focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-indigo-700 focus:ring-white sm:w-auto`,children:"Contact for Admission"})})]})});var ys=function(){return ys=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ys.apply(this,arguments)};function Rg(n,e,t){if(t||arguments.length===2)for(var i=0,a=e.length,r;i<a;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var Ai="-ms-",cg="-moz-",si="-webkit-",tN="comm",F1="rule",qM="decl",gV="@import",nN="@keyframes",vV="@layer",iN=Math.abs,YM=String.fromCharCode,M2=Object.assign;function yV(n,e){return Ga(n,0)^45?(((e<<2^Ga(n,0))<<2^Ga(n,1))<<2^Ga(n,2))<<2^Ga(n,3):0}function aN(n){return n.trim()}function Dc(n,e){return(n=e.exec(n))?n[0]:n}function Nn(n,e,t){return n.replace(e,t)}function lb(n,e,t){return n.indexOf(e,t)}function Ga(n,e){return n.charCodeAt(e)|0}function zp(n,e,t){return n.slice(e,t)}function Il(n){return n.length}function sN(n){return n.length}function eg(n,e){return e.push(n),n}function xV(n,e){return n.map(e).join("")}function DA(n,e){return n.filter(function(t){return!Dc(t,e)})}var H1=1,Vp=1,rN=0,uo=0,_a=0,fm="";function k1(n,e,t,i,a,r,l,u){return{value:n,root:e,parent:t,type:i,props:a,children:r,line:H1,column:Vp,length:l,return:"",siblings:u}}function Wu(n,e){return M2(k1("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Jd(n){for(;n.root;)n=Wu(n.root,{children:[n]});eg(n,n.siblings)}function bV(){return _a}function _V(){return _a=uo>0?Ga(fm,--uo):0,Vp--,_a===10&&(Vp=1,H1--),_a}function Yo(){return _a=uo<rN?Ga(fm,uo++):0,Vp++,_a===10&&(Vp=1,H1++),_a}function Uh(){return Ga(fm,uo)}function cb(){return uo}function G1(n,e){return zp(fm,n,e)}function E2(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SV(n){return H1=Vp=1,rN=Il(fm=n),uo=0,[]}function wV(n){return fm="",n}function zS(n){return aN(G1(uo-1,T2(n===91?n+2:n===40?n+1:n)))}function MV(n){for(;(_a=Uh())&&_a<33;)Yo();return E2(n)>2||E2(_a)>3?"":" "}function EV(n,e){for(;--e&&Yo()&&!(_a<48||_a>102||_a>57&&_a<65||_a>70&&_a<97););return G1(n,cb()+(e<6&&Uh()==32&&Yo()==32))}function T2(n){for(;Yo();)switch(_a){case n:return uo;case 34:case 39:n!==34&&n!==39&&T2(_a);break;case 40:n===41&&T2(n);break;case 92:Yo();break}return uo}function TV(n,e){for(;Yo()&&n+_a!==57;)if(n+_a===84&&Uh()===47)break;return"/*"+G1(e,uo-1)+"*"+YM(n===47?n:Yo())}function AV(n){for(;!E2(Uh());)Yo();return G1(n,uo)}function CV(n){return wV(ub("",null,null,null,[""],n=SV(n),0,[0],n))}function ub(n,e,t,i,a,r,l,u,h){for(var p=0,m=0,v=l,x=0,b=0,M=0,C=1,E=1,w=1,R=0,D="",O=a,P=r,U=i,V=D;E;)switch(M=R,R=Yo()){case 40:if(M!=108&&Ga(V,v-1)==58){lb(V+=Nn(zS(R),"&","&\f"),"&\f",iN(p?u[p-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:V+=zS(R);break;case 9:case 10:case 13:case 32:V+=MV(M);break;case 92:V+=EV(cb()-1,7);continue;case 47:switch(Uh()){case 42:case 47:eg(RV(TV(Yo(),cb()),e,t,h),h);break;default:V+="/"}break;case 123*C:u[p++]=Il(V)*w;case 125*C:case 59:case 0:switch(R){case 0:case 125:E=0;case 59+m:w==-1&&(V=Nn(V,/\f/g,"")),b>0&&Il(V)-v&&eg(b>32?LA(V+";",i,t,v-1,h):LA(Nn(V," ","")+";",i,t,v-2,h),h);break;case 59:V+=";";default:if(eg(U=NA(V,e,t,p,m,a,u,D,O=[],P=[],v,r),r),R===123)if(m===0)ub(V,e,U,U,O,r,v,u,P);else switch(x===99&&Ga(V,3)===110?100:x){case 100:case 108:case 109:case 115:ub(n,U,U,i&&eg(NA(n,U,U,0,0,a,u,D,a,O=[],v,P),P),a,P,v,u,i?O:P);break;default:ub(V,U,U,U,[""],P,0,u,P)}}p=m=b=0,C=w=1,D=V="",v=l;break;case 58:v=1+Il(V),b=M;default:if(C<1){if(R==123)--C;else if(R==125&&C++==0&&_V()==125)continue}switch(V+=YM(R),R*C){case 38:w=m>0?1:(V+="\f",-1);break;case 44:u[p++]=(Il(V)-1)*w,w=1;break;case 64:Uh()===45&&(V+=zS(Yo())),x=Uh(),m=v=Il(D=V+=AV(cb())),R++;break;case 45:M===45&&Il(V)==2&&(C=0)}}return r}function NA(n,e,t,i,a,r,l,u,h,p,m,v){for(var x=a-1,b=a===0?r:[""],M=sN(b),C=0,E=0,w=0;C<i;++C)for(var R=0,D=zp(n,x+1,x=iN(E=l[C])),O=n;R<M;++R)(O=aN(E>0?b[R]+" "+D:Nn(D,/&\f/g,b[R])))&&(h[w++]=O);return k1(n,e,t,a===0?F1:u,h,p,m,v)}function RV(n,e,t,i){return k1(n,e,t,tN,YM(bV()),zp(n,2,-2),0,i)}function LA(n,e,t,i,a){return k1(n,e,t,qM,zp(n,0,i),zp(n,i+1,-1),i,a)}function oN(n,e,t){switch(yV(n,e)){case 5103:return si+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return si+n+n;case 4789:return cg+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return si+n+cg+n+Ai+n+n;case 5936:switch(Ga(n,e+11)){case 114:return si+n+Ai+Nn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return si+n+Ai+Nn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return si+n+Ai+Nn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return si+n+Ai+n+n;case 6165:return si+n+Ai+"flex-"+n+n;case 5187:return si+n+Nn(n,/(\w+).+(:[^]+)/,si+"box-$1$2"+Ai+"flex-$1$2")+n;case 5443:return si+n+Ai+"flex-item-"+Nn(n,/flex-|-self/g,"")+(Dc(n,/flex-|baseline/)?"":Ai+"grid-row-"+Nn(n,/flex-|-self/g,""))+n;case 4675:return si+n+Ai+"flex-line-pack"+Nn(n,/align-content|flex-|-self/g,"")+n;case 5548:return si+n+Ai+Nn(n,"shrink","negative")+n;case 5292:return si+n+Ai+Nn(n,"basis","preferred-size")+n;case 6060:return si+"box-"+Nn(n,"-grow","")+si+n+Ai+Nn(n,"grow","positive")+n;case 4554:return si+Nn(n,/([^-])(transform)/g,"$1"+si+"$2")+n;case 6187:return Nn(Nn(Nn(n,/(zoom-|grab)/,si+"$1"),/(image-set)/,si+"$1"),n,"")+n;case 5495:case 3959:return Nn(n,/(image-set\([^]*)/,si+"$1$`$1");case 4968:return Nn(Nn(n,/(.+:)(flex-)?(.*)/,si+"box-pack:$3"+Ai+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+si+n+n;case 4200:if(!Dc(n,/flex-|baseline/))return Ai+"grid-column-align"+zp(n,e)+n;break;case 2592:case 3360:return Ai+Nn(n,"template-","")+n;case 4384:case 3616:return t&&t.some(function(i,a){return e=a,Dc(i.props,/grid-\w+-end/)})?~lb(n+(t=t[e].value),"span",0)?n:Ai+Nn(n,"-start","")+n+Ai+"grid-row-span:"+(~lb(t,"span",0)?Dc(t,/\d+/):+Dc(t,/\d+/)-+Dc(n,/\d+/))+";":Ai+Nn(n,"-start","")+n;case 4896:case 4128:return t&&t.some(function(i){return Dc(i.props,/grid-\w+-start/)})?n:Ai+Nn(Nn(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return Nn(n,/(.+)-inline(.+)/,si+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Il(n)-1-e>6)switch(Ga(n,e+1)){case 109:if(Ga(n,e+4)!==45)break;case 102:return Nn(n,/(.+:)(.+)-([^]+)/,"$1"+si+"$2-$3$1"+cg+(Ga(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~lb(n,"stretch",0)?oN(Nn(n,"stretch","fill-available"),e,t)+n:n}break;case 5152:case 5920:return Nn(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,a,r,l,u,h,p){return Ai+a+":"+r+p+(l?Ai+a+"-span:"+(u?h:+h-+r)+p:"")+n});case 4949:if(Ga(n,e+6)===121)return Nn(n,":",":"+si)+n;break;case 6444:switch(Ga(n,Ga(n,14)===45?18:11)){case 120:return Nn(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+si+(Ga(n,14)===45?"inline-":"")+"box$3$1"+si+"$2$3$1"+Ai+"$2box$3")+n;case 100:return Nn(n,":",":"+Ai)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Nn(n,"scroll-","scroll-snap-")+n}return n}function Tb(n,e){for(var t="",i=0;i<n.length;i++)t+=e(n[i],i,n,e)||"";return t}function DV(n,e,t,i){switch(n.type){case vV:if(n.children.length)break;case gV:case qM:return n.return=n.return||n.value;case tN:return"";case nN:return n.return=n.value+"{"+Tb(n.children,i)+"}";case F1:if(!Il(n.value=n.props.join(",")))return""}return Il(t=Tb(n.children,i))?n.return=n.value+"{"+t+"}":""}function NV(n){var e=sN(n);return function(t,i,a,r){for(var l="",u=0;u<e;u++)l+=n[u](t,i,a,r)||"";return l}}function LV(n){return function(e){e.root||(e=e.return)&&n(e)}}function OV(n,e,t,i){if(n.length>-1&&!n.return)switch(n.type){case qM:n.return=oN(n.value,n.length,t);return;case nN:return Tb([Wu(n,{value:Nn(n.value,"@","@"+si)})],i);case F1:if(n.length)return xV(t=n.props,function(a){switch(Dc(a,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Jd(Wu(n,{props:[Nn(a,/:(read-\w+)/,":"+cg+"$1")]})),Jd(Wu(n,{props:[a]})),M2(n,{props:DA(t,i)});break;case"::placeholder":Jd(Wu(n,{props:[Nn(a,/:(plac\w+)/,":"+si+"input-$1")]})),Jd(Wu(n,{props:[Nn(a,/:(plac\w+)/,":"+cg+"$1")]})),Jd(Wu(n,{props:[Nn(a,/:(plac\w+)/,Ai+"input-$1")]})),Jd(Wu(n,{props:[a]})),M2(n,{props:DA(t,i)});break}return""})}}var UV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nr={},Fp=typeof process<"u"&&Nr!==void 0&&(Nr.REACT_APP_SC_ATTR||Nr.SC_ATTR)||"data-styled",lN="active",cN="data-styled-version",j1="6.1.19",ZM=`/*!sc*/
`,Ab=typeof window<"u"&&typeof document<"u",IV=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Nr!==void 0&&Nr.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Nr.REACT_APP_SC_DISABLE_SPEEDY!==""?Nr.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Nr.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Nr!==void 0&&Nr.SC_DISABLE_SPEEDY!==void 0&&Nr.SC_DISABLE_SPEEDY!==""&&Nr.SC_DISABLE_SPEEDY!=="false"&&Nr.SC_DISABLE_SPEEDY),PV={},X1=Object.freeze([]),Hp=Object.freeze({});function uN(n,e,t){return t===void 0&&(t=Hp),n.theme!==t.theme&&n.theme||e||t.theme}var fN=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),BV=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zV=/(^-|-$)/g;function OA(n){return n.replace(BV,"-").replace(zV,"")}var VV=/(a)(d)/gi,ax=52,UA=function(n){return String.fromCharCode(n+(n>25?39:97))};function A2(n){var e,t="";for(e=Math.abs(n);e>ax;e=e/ax|0)t=UA(e%ax)+t;return(UA(e%ax)+t).replace(VV,"$1-$2")}var VS,hN=5381,Cp=function(n,e){for(var t=e.length;t;)n=33*n^e.charCodeAt(--t);return n},dN=function(n){return Cp(hN,n)};function pN(n){return A2(dN(n)>>>0)}function FV(n){return n.displayName||n.name||"Component"}function FS(n){return typeof n=="string"&&!0}var mN=typeof Symbol=="function"&&Symbol.for,gN=mN?Symbol.for("react.memo"):60115,HV=mN?Symbol.for("react.forward_ref"):60112,kV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},GV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},vN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jV=((VS={})[HV]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},VS[gN]=vN,VS);function IA(n){return("type"in(e=n)&&e.type.$$typeof)===gN?vN:"$$typeof"in n?jV[n.$$typeof]:kV;var e}var XV=Object.defineProperty,WV=Object.getOwnPropertyNames,PA=Object.getOwnPropertySymbols,qV=Object.getOwnPropertyDescriptor,YV=Object.getPrototypeOf,BA=Object.prototype;function yN(n,e,t){if(typeof e!="string"){if(BA){var i=YV(e);i&&i!==BA&&yN(n,i,t)}var a=WV(e);PA&&(a=a.concat(PA(e)));for(var r=IA(n),l=IA(e),u=0;u<a.length;++u){var h=a[u];if(!(h in GV||t&&t[h]||l&&h in l||r&&h in r)){var p=qV(e,h);try{XV(n,h,p)}catch{}}}}return n}function kp(n){return typeof n=="function"}function KM(n){return typeof n=="object"&&"styledComponentId"in n}function Th(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function C2(n,e){if(n.length===0)return"";for(var t=n[0],i=1;i<n.length;i++)t+=n[i];return t}function Dg(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function R2(n,e,t){if(t===void 0&&(t=!1),!t&&!Dg(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=R2(n[i],e[i]);else if(Dg(e))for(var i in e)n[i]=R2(n[i],e[i]);return n}function QM(n,e){Object.defineProperty(n,"toString",{value:e})}function iv(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var ZV=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var t=0,i=0;i<e;i++)t+=this.groupSizes[i];return t},n.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var i=this.groupSizes,a=i.length,r=a;e>=r;)if((r<<=1)<0)throw iv(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(i),this.length=r;for(var l=a;l<r;l++)this.groupSizes[l]=0}for(var u=this.indexOfGroup(e+1),h=(l=0,t.length);l<h;l++)this.tag.insertRule(u,t[l])&&(this.groupSizes[e]++,u++)},n.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],i=this.indexOfGroup(e),a=i+t;this.groupSizes[e]=0;for(var r=i;r<a;r++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var i=this.groupSizes[e],a=this.indexOfGroup(e),r=a+i,l=a;l<r;l++)t+="".concat(this.tag.getRule(l)).concat(ZM);return t},n}(),fb=new Map,Cb=new Map,hb=1,sx=function(n){if(fb.has(n))return fb.get(n);for(;Cb.has(hb);)hb++;var e=hb++;return fb.set(n,e),Cb.set(e,n),e},KV=function(n,e){hb=e+1,fb.set(n,e),Cb.set(e,n)},QV="style[".concat(Fp,"][").concat(cN,'="').concat(j1,'"]'),JV=new RegExp("^".concat(Fp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),$V=function(n,e,t){for(var i,a=t.split(","),r=0,l=a.length;r<l;r++)(i=a[r])&&n.registerName(e,i)},eF=function(n,e){for(var t,i=((t=e.textContent)!==null&&t!==void 0?t:"").split(ZM),a=[],r=0,l=i.length;r<l;r++){var u=i[r].trim();if(u){var h=u.match(JV);if(h){var p=0|parseInt(h[1],10),m=h[2];p!==0&&(KV(m,p),$V(n,m,h[3]),n.getTag().insertRules(p,a)),a.length=0}else a.push(u)}}},zA=function(n){for(var e=document.querySelectorAll(QV),t=0,i=e.length;t<i;t++){var a=e[t];a&&a.getAttribute(Fp)!==lN&&(eF(n,a),a.parentNode&&a.parentNode.removeChild(a))}};function tF(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var xN=function(n){var e=document.head,t=n||e,i=document.createElement("style"),a=function(u){var h=Array.from(u.querySelectorAll("style[".concat(Fp,"]")));return h[h.length-1]}(t),r=a!==void 0?a.nextSibling:null;i.setAttribute(Fp,lN),i.setAttribute(cN,j1);var l=tF();return l&&i.setAttribute("nonce",l),t.insertBefore(i,r),i},nF=function(){function n(e){this.element=xN(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var i=document.styleSheets,a=0,r=i.length;a<r;a++){var l=i[a];if(l.ownerNode===t)return l}throw iv(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},n}(),iF=function(){function n(e){this.element=xN(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var i=document.createTextNode(t);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),aF=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),VA=Ab,sF={isServer:!Ab,useCSSOMInjection:!IV},Rb=function(){function n(e,t,i){e===void 0&&(e=Hp),t===void 0&&(t={});var a=this;this.options=ys(ys({},sF),e),this.gs=t,this.names=new Map(i),this.server=!!e.isServer,!this.server&&Ab&&VA&&(VA=!1,zA(this)),QM(this,function(){return function(r){for(var l=r.getTag(),u=l.length,h="",p=function(v){var x=function(w){return Cb.get(w)}(v);if(x===void 0)return"continue";var b=r.names.get(x),M=l.getGroup(v);if(b===void 0||!b.size||M.length===0)return"continue";var C="".concat(Fp,".g").concat(v,'[id="').concat(x,'"]'),E="";b!==void 0&&b.forEach(function(w){w.length>0&&(E+="".concat(w,","))}),h+="".concat(M).concat(C,'{content:"').concat(E,'"}').concat(ZM)},m=0;m<u;m++)p(m);return h}(a)})}return n.registerId=function(e){return sx(e)},n.prototype.rehydrate=function(){!this.server&&Ab&&zA(this)},n.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new n(ys(ys({},this.options),e),this.gs,t&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var i=t.useCSSOMInjection,a=t.target;return t.isServer?new aF(a):i?new nF(a):new iF(a)}(this.options),new ZV(e)));var e},n.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},n.prototype.registerName=function(e,t){if(sx(e),this.names.has(e))this.names.get(e).add(t);else{var i=new Set;i.add(t),this.names.set(e,i)}},n.prototype.insertRules=function(e,t,i){this.registerName(e,t),this.getTag().insertRules(sx(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(sx(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),rF=/&/g,oF=/^\s*\/\/.*$/gm;function bN(n,e){return n.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=bN(t.children,e)),t})}function lF(n){var e,t,i,a=Hp,r=a.options,l=r===void 0?Hp:r,u=a.plugins,h=u===void 0?X1:u,p=function(x,b,M){return M.startsWith(t)&&M.endsWith(t)&&M.replaceAll(t,"").length>0?".".concat(e):x},m=h.slice();m.push(function(x){x.type===F1&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(rF,t).replace(i,p))}),l.prefix&&m.push(OV),m.push(DV);var v=function(x,b,M,C){b===void 0&&(b=""),M===void 0&&(M=""),C===void 0&&(C="&"),e=C,t=b,i=new RegExp("\\".concat(t,"\\b"),"g");var E=x.replace(oF,""),w=CV(M||b?"".concat(M," ").concat(b," { ").concat(E," }"):E);l.namespace&&(w=bN(w,l.namespace));var R=[];return Tb(w,NV(m.concat(LV(function(D){return R.push(D)})))),R};return v.hash=h.length?h.reduce(function(x,b){return b.name||iv(15),Cp(x,b.name)},hN).toString():"",v}var cF=new Rb,D2=lF(),_N=ns.createContext({shouldForwardProp:void 0,styleSheet:cF,stylis:D2});_N.Consumer;ns.createContext(void 0);function N2(){return ne.useContext(_N)}var uF=function(){function n(e,t){var i=this;this.inject=function(a,r){r===void 0&&(r=D2);var l=i.name+r.hash;a.hasNameForId(i.id,l)||a.insertRules(i.id,l,r(i.rules,l,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,QM(this,function(){throw iv(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=D2),this.name+e.hash},n}(),fF=function(n){return n>="A"&&n<="Z"};function FA(n){for(var e="",t=0;t<n.length;t++){var i=n[t];if(t===1&&i==="-"&&n[0]==="-")return n;fF(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var SN=function(n){return n==null||n===!1||n===""},wN=function(n){var e,t,i=[];for(var a in n){var r=n[a];n.hasOwnProperty(a)&&!SN(r)&&(Array.isArray(r)&&r.isCss||kp(r)?i.push("".concat(FA(a),":"),r,";"):Dg(r)?i.push.apply(i,Rg(Rg(["".concat(a," {")],wN(r),!1),["}"],!1)):i.push("".concat(FA(a),": ").concat((e=a,(t=r)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in UV||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return i};function ef(n,e,t,i){if(SN(n))return[];if(KM(n))return[".".concat(n.styledComponentId)];if(kp(n)){if(!kp(r=n)||r.prototype&&r.prototype.isReactComponent||!e)return[n];var a=n(e);return ef(a,e,t,i)}var r;return n instanceof uF?t?(n.inject(t,i),[n.getName(i)]):[n]:Dg(n)?wN(n):Array.isArray(n)?Array.prototype.concat.apply(X1,n.map(function(l){return ef(l,e,t,i)})):[n.toString()]}function MN(n){for(var e=0;e<n.length;e+=1){var t=n[e];if(kp(t)&&!KM(t))return!1}return!0}var hF=dN(j1),dF=function(){function n(e,t,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&MN(e),this.componentId=t,this.baseHash=Cp(hF,t),this.baseStyle=i,Rb.registerId(t)}return n.prototype.generateAndInjectStyles=function(e,t,i){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))a=Th(a,this.staticRulesId);else{var r=C2(ef(this.rules,e,t,i)),l=A2(Cp(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,l)){var u=i(r,".".concat(l),void 0,this.componentId);t.insertRules(this.componentId,l,u)}a=Th(a,l),this.staticRulesId=l}else{for(var h=Cp(this.baseHash,i.hash),p="",m=0;m<this.rules.length;m++){var v=this.rules[m];if(typeof v=="string")p+=v;else if(v){var x=C2(ef(v,e,t,i));h=Cp(h,x+m),p+=x}}if(p){var b=A2(h>>>0);t.hasNameForId(this.componentId,b)||t.insertRules(this.componentId,b,i(p,".".concat(b),void 0,this.componentId)),a=Th(a,b)}}return a},n}(),JM=ns.createContext(void 0);JM.Consumer;var HS={};function pF(n,e,t){var i=KM(n),a=n,r=!FS(n),l=e.attrs,u=l===void 0?X1:l,h=e.componentId,p=h===void 0?function(O,P){var U=typeof O!="string"?"sc":OA(O);HS[U]=(HS[U]||0)+1;var V="".concat(U,"-").concat(pN(j1+U+HS[U]));return P?"".concat(P,"-").concat(V):V}(e.displayName,e.parentComponentId):h,m=e.displayName,v=m===void 0?function(O){return FS(O)?"styled.".concat(O):"Styled(".concat(FV(O),")")}(n):m,x=e.displayName&&e.componentId?"".concat(OA(e.displayName),"-").concat(e.componentId):e.componentId||p,b=i&&a.attrs?a.attrs.concat(u).filter(Boolean):u,M=e.shouldForwardProp;if(i&&a.shouldForwardProp){var C=a.shouldForwardProp;if(e.shouldForwardProp){var E=e.shouldForwardProp;M=function(O,P){return C(O,P)&&E(O,P)}}else M=C}var w=new dF(t,x,i?a.componentStyle:void 0);function R(O,P){return function(U,V,H){var I=U.attrs,L=U.componentStyle,q=U.defaultProps,J=U.foldedComponentIds,re=U.styledComponentId,de=U.target,ve=ns.useContext(JM),G=N2(),K=U.shouldForwardProp||G.shouldForwardProp,$=uN(V,ve,q)||Hp,pe=function(ft,ge,ze){for(var Ke,St=ys(ys({},ge),{className:void 0,theme:ze}),Rt=0;Rt<ft.length;Rt+=1){var Gt=kp(Ke=ft[Rt])?Ke(St):Ke;for(var Qt in Gt)St[Qt]=Qt==="className"?Th(St[Qt],Gt[Qt]):Qt==="style"?ys(ys({},St[Qt]),Gt[Qt]):Gt[Qt]}return ge.className&&(St.className=Th(St.className,ge.className)),St}(I,V,$),X=pe.as||de,fe={};for(var xe in pe)pe[xe]===void 0||xe[0]==="$"||xe==="as"||xe==="theme"&&pe.theme===$||(xe==="forwardedAs"?fe.as=pe.forwardedAs:K&&!K(xe,X)||(fe[xe]=pe[xe]));var Ce=function(ft,ge){var ze=N2(),Ke=ft.generateAndInjectStyles(ge,ze.styleSheet,ze.stylis);return Ke}(L,pe),Be=Th(J,re);return Ce&&(Be+=" "+Ce),pe.className&&(Be+=" "+pe.className),fe[FS(X)&&!fN.has(X)?"class":"className"]=Be,H&&(fe.ref=H),ne.createElement(X,fe)}(D,O,P)}R.displayName=v;var D=ns.forwardRef(R);return D.attrs=b,D.componentStyle=w,D.displayName=v,D.shouldForwardProp=M,D.foldedComponentIds=i?Th(a.foldedComponentIds,a.styledComponentId):"",D.styledComponentId=x,D.target=i?a.target:n,Object.defineProperty(D,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(O){this._foldedDefaultProps=i?function(P){for(var U=[],V=1;V<arguments.length;V++)U[V-1]=arguments[V];for(var H=0,I=U;H<I.length;H++)R2(P,I[H],!0);return P}({},a.defaultProps,O):O}}),QM(D,function(){return".".concat(D.styledComponentId)}),r&&yN(D,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),D}function HA(n,e){for(var t=[n[0]],i=0,a=e.length;i<a;i+=1)t.push(e[i],n[i+1]);return t}var kA=function(n){return Object.assign(n,{isCss:!0})};function EN(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(kp(n)||Dg(n))return kA(ef(HA(X1,Rg([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?ef(i):kA(ef(HA(i,e)))}function L2(n,e,t){if(t===void 0&&(t=Hp),!e)throw iv(1,e);var i=function(a){for(var r=[],l=1;l<arguments.length;l++)r[l-1]=arguments[l];return n(e,t,EN.apply(void 0,Rg([a],r,!1)))};return i.attrs=function(a){return L2(n,e,ys(ys({},t),{attrs:Array.prototype.concat(t.attrs,a).filter(Boolean)}))},i.withConfig=function(a){return L2(n,e,ys(ys({},t),a))},i}var TN=function(n){return L2(pF,n)},mF=TN;fN.forEach(function(n){mF[n]=TN(n)});var gF=function(){function n(e,t){this.rules=e,this.componentId=t,this.isStatic=MN(e),Rb.registerId(this.componentId+1)}return n.prototype.createStyles=function(e,t,i,a){var r=a(C2(ef(this.rules,t,i,a)),""),l=this.componentId+e;i.insertRules(l,l,r)},n.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},n.prototype.renderStyles=function(e,t,i,a){e>2&&Rb.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,t,i,a)},n}();function vF(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var i=EN.apply(void 0,Rg([n],e,!1)),a="sc-global-".concat(pN(JSON.stringify(i))),r=new gF(i,a),l=function(h){var p=N2(),m=ns.useContext(JM),v=ns.useRef(p.styleSheet.allocateGSInstance(a)).current;return p.styleSheet.server&&u(v,h,p.styleSheet,m,p.stylis),ns.useLayoutEffect(function(){if(!p.styleSheet.server)return u(v,h,p.styleSheet,m,p.stylis),function(){return r.removeStyles(v,p.styleSheet)}},[v,h,p.styleSheet,m,p.stylis]),null};function u(h,p,m,v,x){if(r.isStatic)r.renderStyles(h,PV,m,x);else{var b=ys(ys({},p),{theme:uN(p,v,l.defaultProps)});r.renderStyles(h,b,m,x)}}return ns.memo(l)}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xF=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),GA=n=>{const e=xF(n);return e.charAt(0).toUpperCase()+e.slice(1)},AN=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),bF=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _F={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ne.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:a="",children:r,iconNode:l,...u},h)=>ne.createElement("svg",{ref:h,..._F,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:AN("lucide",a),...!r&&!bF(u)&&{"aria-hidden":"true"},...u},[...l.map(([p,m])=>ne.createElement(p,m)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=(n,e)=>{const t=ne.forwardRef(({className:i,...a},r)=>ne.createElement(SF,{ref:r,iconNode:e,className:AN(`lucide-${yF(GA(n))}`,`lucide-${n}`,i),...a}));return t.displayName=GA(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MF=W1("clock",wF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],TF=W1("mail",EF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],CF=W1("map-pin",AF);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],DF=W1("phone",RF),NF=()=>{const n=[{icon:B.jsx(CF,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),label:"Location",value:"Tangi, Cuttack"},{icon:B.jsx(DF,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),label:"Contact",value:"+91-7008222977",href:"tel:+917008222977"},{icon:B.jsx(TF,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),label:"Email",value:"info@tetrahedrontangi.com",href:"mailto:info@tetrahedrontangi.com"},{icon:B.jsx(MF,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),label:"Office Time",value:"8:00 AM  5:00 PM"}];return B.jsx(gn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"w-full bg-gradient-to-r from-indigo-600 via-indigo-500 to-purple-600 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 text-white shadow-md",children:B.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:B.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 text-center sm:text-left",children:n.map((e,t)=>B.jsxs(gn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1},className:"flex items-center justify-center sm:justify-start gap-3 bg-white/10 dark:bg-white/5 rounded-xl px-4 py-2 hover:bg-white/20 dark:hover:bg-white/10 transition-all duration-300 backdrop-blur-md",children:[B.jsx("div",{className:"flex-shrink-0 bg-white dark:bg-indigo-950 p-2 rounded-full shadow-sm",children:e.icon}),B.jsxs("div",{className:"flex flex-col leading-tight",children:[B.jsx("span",{className:"text-xs text-white/80 font-medium tracking-wide uppercase",children:e.label}),e.href?B.jsx("a",{href:e.href,className:"text-sm font-semibold text-white hover:text-yellow-300 transition-all duration-200",children:e.value}):B.jsx("span",{className:"text-sm font-semibold text-white",children:e.value})]})]},t))})})})},LF=[{image:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh32_wRt4HQX6v1JaD1FusFe9rPjVUjTQD0wZWGJN0i3YdGd0zc41A2fazWlDcrDyQoF55YTZQDvfhwzZvxtf8MUjkOGUmownhXkjeuR0sOBmXhlYHknJfZ4-vdCO9otGKnLlE_WBrxiEetlBEM8CDHIkmwleH_ZOWtlVUMvGpeBLq0z-DEjOwb5vv-Z3U/s1280/WhatsApp%20Image%202025-11-14%20at%2013.29.42.jpeg",title:"Independence Day Celebration 2024",description:"Explore the highlights of India's Independence Day 2024, featuring flag hoisting ceremonies, patriotic performances, and national unity across all communities.",url:"https://tetrahedron-events.blogspot.com/2025/11/independence-day-celebration-2024.html"},{image:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgrfuibtqunAl6ZrrL8_BxiY6H4Az5h48tbIYoy_rSd-jwgECB3gtSkQWxFI7JKzR4kDRjIMi2953xdAm64tLI9B_5wwNNLmcwQHNdzvmbfC3TP3LMQJcGAxecy4H_J2nKrn8wnTaqbW0AwL7UA1pdvyQEHtK07boFsdhMcqlpl6eBcCxjOt1dCeTJeDIc/s1280/WhatsApp%20Image%202025-10-10%20at%2011.20.35.jpeg",title:"Teachers Day Celebration 2025",description:"A journey through Teachers' Day 2025, celebrating mentors and educators with vibrant school activities, heartfelt tributes, and community gratitude.",url:"https://tetrahedron-events.blogspot.com/2025/11/teachers-day-celebration-2025.html"},{image:"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEh5-ITtDWKt2Tvr3sPp2oenyE-1apu76vVcj0-WaMlmxzKw7HvODitAfl5uLzofr8RaQgB7sw9n0By9Y7hbXCwC4bgmdX3v5qK1x3Q7P4-_LJYOeE0L19Vf3O_X3MqSr0YsZCuZVtSIE5uRgo_XeKmbIDfP11kLvomN0zWHR1kw08KBHKqphbl9-nH8Zr4/s1280/WhatsApp%20Image%202025-11-14%20at%2014.40.24.jpeg",title:"A Day of Humanity",description:"Read about Tetrahedron's humanitarian initiatives, community service, and their impact on local society during this day of collective empathy.",url:"https://tetrahedron-events.blogspot.com/2025/11/a-day-of-humanity-tetrahedron-collects.html"}];function OF(){return B.jsxs("section",{className:"py-12 px-4 bg-gradient-to-br from-indigo-50 via-white to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-300","aria-label":"Blogs",children:[B.jsx("h2",{className:"text-4xl font-extrabold text-center text-indigo-700 dark:text-indigo-300 mb-10 tracking-tight",children:"CampusDiaries"}),B.jsx("div",{className:"grid gap-10 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:LF.map((n,e)=>B.jsxs("div",{className:"group rounded-2xl overflow-hidden shadow-xl bg-white dark:bg-gray-800 flex flex-col transform transition duration-500 hover:-translate-y-2 hover:shadow-2xl",style:{animation:`fadeInUp 0.6s ${e*.15}s both`},children:[B.jsxs("div",{className:"relative",children:[B.jsx("img",{src:n.image,alt:n.title,className:"h-56 w-full object-cover transition-transform duration-500 group-hover:scale-105"}),B.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"})]}),B.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[B.jsx("h3",{className:"text-2xl font-bold text-indigo-700 dark:text-indigo-300 mb-2 group-hover:underline transition",children:n.title}),B.jsx("p",{className:"text-gray-700 dark:text-gray-200 flex-1 mb-4",children:n.description}),B.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-6 py-2 mt-auto text-base font-semibold bg-gradient-to-r from-indigo-600 to-indigo-400 text-white rounded-lg shadow transition-all hover:scale-105 hover:from-indigo-700 hover:to-indigo-500 dark:from-indigo-500 dark:to-indigo-400",children:"Read More"})]})]},e))})]})}vF`
  @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

  body {
    font-family: 'Roboto', sans-serif;
  }
`;const UF=()=>B.jsxs("div",{className:"pt-16",children:[B.jsx(uV,{}),B.jsx(NF,{}),B.jsx(hV,{}),B.jsx(dV,{}),B.jsx(OF,{}),B.jsx(mV,{}),B.jsx(pV,{})]}),IF=()=>{const n={hidden:{opacity:.5},show:{opacity:1,transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.6}}},t={hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1,transition:{duration:.7,ease:"easeOut"}}};return B.jsx("div",{className:"pt-16 bg-white dark:bg-gray-900",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-10 py-2",children:[B.jsxs(gn.div,{initial:"hidden",animate:"show",variants:n,className:"text-center pb-2",children:[B.jsxs(gn.h1,{variants:e,className:"text-4xl sm:text-5xl font-extrabold text-gray-900 dark:text-white leading-tight",children:["About ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Tetrahedron Group of Institutions"})]}),B.jsx(gn.p,{variants:e,className:"mt-4 text-xl text-gray-600 dark:text-gray-300",children:"Delivering Education Excellence since 2013."})]}),B.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-4 items-start py-4",children:[B.jsxs(gn.div,{initial:"hidden",animate:"show",variants:n,className:"lg:col-span-1 mb-12 lg:mb-0",children:[B.jsx(gn.h2,{variants:e,className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-6",children:"Our Journey"}),B.jsxs(gn.p,{variants:e,className:"mt-3 text-lg text-gray-500 dark:text-gray-300 leading-relaxed",children:["Tetrahedron Group of Institutions was established in ",B.jsx("b",{children:"2013"})," by our visionary founder ",B.jsx("b",{children:"Trideb Behera"})," with the aim of creating a center of excellence in science education. What started as a modest institution has now grown into a leading residential science college in Odisha, known for its academic rigor and holistic development approach."]}),B.jsx(gn.img,{variants:t,className:"mt-8 w-full rounded-lg shadow-lg object-cover h-64 lg:h-auto",src:"./img/campus2.jpg",alt:"Tetrahedron Campus"})]}),B.jsxs("div",{className:"mt-2 lg:mt-0 lg:col-span-2 space-y-12",children:[B.jsxs(gn.div,{initial:"hidden",animate:"show",variants:n,className:"bg-gray-50 dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[B.jsx(gn.h3,{variants:e,className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Vision"}),B.jsx(gn.p,{variants:e,className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:"To be a leading residential science college that nurtures academic excellence, scientific curiosity, and personal integrity in young minds, empowering them to become responsible innovators and future leaders."})]}),B.jsxs(gn.div,{initial:"hidden",animate:"show",variants:n,className:"bg-gray-50 dark:bg-gray-800 p-8 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300",children:[B.jsx(gn.h3,{variants:e,className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Our Mission"}),B.jsxs("ul",{className:"list-disc pl-5 space-y-3 text-gray-600 dark:text-gray-300 leading-relaxed",children:[B.jsx(gn.li,{variants:e,children:"To provide a rigorous and engaging academic environment that prepares students for success in board exams, competitive entrance tests (JEE/NEET), and lifelong learning."}),B.jsx(gn.li,{variants:e,children:"To create a safe and structured residential setting that fosters discipline, independence, and a strong work ethic."}),B.jsx(gn.li,{variants:e,children:"To cultivate scientific thinking, problem-solving skills, and innovation through experiential learning and mentorship."}),B.jsx(gn.li,{variants:e,children:"To support holistic development by promoting physical fitness, mental well-being, ethics, and leadership values."}),B.jsx(gn.li,{variants:e,children:"To build a culture of respect, collaboration, and resilience that equips students for higher education and global challenges."})]})]})]})]})]})})},PF=()=>{const n=[{name:"+2 Science (PCB+IT)",description:"Physics, Chemistry, Biology with Information Technology as an additional subject.",duration:"2 years",coaching:"NEET coaching integrated"},{name:"+2 Science (PCB+Geology)",description:"Physics, Chemistry, Biology with Geology as an additional subject.",duration:"2 years",coaching:"NEET coaching integrated"},{name:"+2 Science (PCMB)",description:"Physics, Chemistry, Mathematics, Biology - covering all science subjects.",duration:"2 years",coaching:"Both JEE & NEET coaching available"},{name:"+2 Science (PCM+IT)",description:"Physics, Chemistry, Mathematics with Information Technology as an additional subject.",duration:"2 years",coaching:"JEE coaching integrated"},{name:"NEET Integrated Program",description:"Special program focusing on medical entrance preparation along with +2 curriculum.",duration:"2 years",coaching:"Intensive NEET coaching"},{name:"JEE Integrated Program",description:"Special program focusing on engineering entrance preparation along with +2 curriculum.",duration:"2 years",coaching:"Intensive JEE coaching"}],e=[{name:"Physics",description:"Modern physics lab with equipment for experiments in mechanics, optics, electricity, and modern physics."},{name:"Chemistry",description:"Well-equipped chemistry lab with facilities for organic, inorganic, and physical chemistry experiments."},{name:"Biology",description:"Comprehensive biology lab with microscopes, specimens, and equipment for botany and zoology studies."},{name:"Information Technology",description:"Computer lab with latest hardware and software for programming and IT applications."},{name:"Geology",description:"Specialized lab with mineral and rock specimens, topographic maps, and geological tools."}];return B.jsx("div",{className:"pt-16 bg-white dark:bg-gray-900",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[B.jsxs("div",{className:"text-center",children:[B.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:["Our ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Academic Programs"})]}),B.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-300 sm:mt-4",children:"Rigorous academic curriculum designed for success in board exams and competitive entrance tests."})]}),B.jsxs("div",{className:"mt-12",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Courses Offered"}),B.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((t,i)=>B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow hover:shadow-lg transition-shadow duration-300",children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-2",children:t.name}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-3",children:t.description}),B.jsxs("div",{className:"flex justify-between text-sm text-gray-500 dark:text-gray-400",children:[B.jsxs("span",{children:["Duration: ",t.duration]}),B.jsx("span",{children:t.coaching})]})]},i))})]}),B.jsxs("div",{className:"mt-16",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Departments"}),B.jsx("div",{className:"space-y-6",children:e.map((t,i)=>B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow",children:[B.jsx("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:t.name}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.description})]},i))})]}),B.jsxs("div",{className:"mt-16 bg-indigo-50 dark:bg-gray-800 p-8 rounded-lg shadow",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Admission Process"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Eligibility Criteria"}),B.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300",children:[B.jsx("li",{children:"Successful completion of 10th standard or equivalent examination"}),B.jsx("li",{children:"Minimum percentage as per Odisha CHSE requirements"}),B.jsx("li",{children:"Clearance of entrance test (for certain programs)"}),B.jsx("li",{children:"Medical fitness certificate for residential students"})]})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Application Process"}),B.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-gray-600 dark:text-gray-300",children:[B.jsx("li",{children:"Obtain prospectus and application form from college office or download from website"}),B.jsx("li",{children:"Fill the application form completely and attach required documents"}),B.jsx("li",{children:"Submit the form along with application fee before deadline"}),B.jsx("li",{children:"Appear for entrance test/interview if applicable"}),B.jsx("li",{children:"Receive admission offer and complete fee payment"})]})]})]}),B.jsx("div",{className:"mt-6",children:B.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[B.jsx("strong",{children:"Note:"})," Academic calendar and admission forms will be shared by the administration."]})})]}),B.jsxs("div",{className:"mt-16",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Integrated Coaching"}),B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg shadow",children:[B.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Tetrahedron provides integrated coaching for NEET and JEE aspirants as part of the regular curriculum. Our coaching program includes:"}),B.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-gray-600 dark:text-gray-300",children:[B.jsx("li",{children:"Special classes by expert faculty beyond regular school hours"}),B.jsx("li",{children:"Regular mock tests following the latest exam patterns"}),B.jsx("li",{children:"Doubt clearing sessions and personalized attention"}),B.jsx("li",{children:"Comprehensive study material and test series"}),B.jsx("li",{children:"Performance analysis and improvement plans"}),B.jsx("li",{children:"Time management and exam strategy workshops"})]})]})]})]})})},BF=()=>{const n=[{title:"Laboratories",description:"Well equipped laboratories for Physics, Chemistry, Biology and IT are available for all students. Our labs are designed to provide hands-on experience and practical knowledge.",image:"./img/lab1.jpg"},{title:"Hostels",description:"Separate Hostels in separate campuses for Boys and Girls. Our hostels provide a safe, comfortable and conducive environment for study with 24/7 security and supervision.",image:"./img/campus1.jpg"},{title:"Self Study Rooms",description:"Dedicated self study rooms (Air Conditioned) are available with faculties available for doubt clearance. These spaces are designed for focused individual study with proper lighting and seating.",image:"./img/classroom3.jpg"},{title:"Digital Classrooms",description:"Our college classrooms are designed to foster an engaging and collaborative learning environment. Equipped with essential technology and comfortable seating, they provide a conducive space for lectures, discussions, and group work, supporting a dynamic educational experience for all students.",image:"./img/classroom6.jpg"},{title:"Canteen",description:"Each Campus has it's own Canteen with ample facilities to accommodate all students of the respective campus. We provide hygienic, nutritious and delicious meals to students.",image:"./img/canteen2.jpg"},{title:"Security & Student Care",description:"100% security measures are adopted to ensure safety of all students. Our campus has CCTV surveillance, security personnel, and strict entry protocols. We also have a dedicated student care team for any emergencies.",image:"./img/classroom10.jpg"}];return B.jsx("div",{className:"pt-16 bg-white dark:bg-gray-900",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[B.jsxs("div",{className:"text-center",children:[B.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:["Our ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Campus Facilities"})]}),B.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-300 sm:mt-4",children:"We provide world-class infrastructure to support academic excellence and student well-being."})]}),B.jsx("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((e,t)=>B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow duration-300",children:[B.jsx("img",{className:"w-full h-48 object-cover",src:e.image,alt:e.title}),B.jsxs("div",{className:"p-6",children:[B.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:e.title}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.description})]})]},t))}),B.jsxs("div",{className:"mt-16 bg-indigo-50 dark:bg-gray-800 p-8 rounded-lg shadow",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"More About Our Campus"}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Residential Life"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Our residential program is designed to create a home away from home. With comfortable living spaces, nutritious meals, and round-the-clock support, students can focus entirely on their academic goals while developing life skills and independence."})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Learning Environment"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"The entire campus is designed to foster learning. From well-ventilated classrooms to specialized labs and quiet study zones, every space is optimized to enhance concentration and academic performance."})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Health & Wellness"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"We prioritize student health with regular medical check-ups, a tie-up with nearby hospitals for emergencies, and facilities for physical fitness including sports grounds and yoga sessions."})]}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-indigo-600 dark:text-indigo-400 mb-3",children:"Technology Integration"}),B.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"While we maintain traditional values of education, we embrace modern technology with computer labs, smart classrooms, and high-speed internet access for academic purposes."})]})]})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zF(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qu=function(){return qu=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},qu.apply(this,arguments)};function VF(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),a=0,e=0;e<t;e++)for(var r=arguments[e],l=0,u=r.length;l<u;l++,a++)i[a]=r[l];return i}var Ti={afterAppendSlide:"lgAfterAppendSlide",init:"lgInit",hasVideo:"lgHasVideo",containerResize:"lgContainerResize",updateSlides:"lgUpdateSlides",afterAppendSubHtml:"lgAfterAppendSubHtml",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick",dragStart:"lgDragStart",dragMove:"lgDragMove",dragEnd:"lgDragEnd",beforeNextSlide:"lgBeforeNextSlide",beforePrevSlide:"lgBeforePrevSlide",beforeClose:"lgBeforeClose",afterClose:"lgAfterClose"},FF={mode:"lg-slide",easing:"ease",speed:400,licenseKey:"0000-0000-000-0000",height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:300,container:"",startAnimationDuration:400,zoomFromOrigin:!0,hideBarsDelay:0,showBarsAfter:1e4,slideDelay:0,supportLegacyBrowser:!0,allowMediaOverlap:!1,videoMaxSize:"1280-720",loadYouTubePoster:!0,defaultCaptionHeight:0,ariaLabelledby:"",ariaDescribedby:"",resetScrollPosition:!0,hideScrollbar:!1,closable:!0,swipeToClose:!0,closeOnTap:!0,showCloseIcon:!0,showMaximizeIcon:!1,loop:!0,escKey:!0,keyPress:!0,trapFocus:!0,controls:!0,slideEndAnimation:!0,hideControlOnEnd:!1,mousewheel:!1,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:2,numberOfSlideItemsInDom:10,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:0,iframeWidth:"100%",iframeHeight:"100%",iframeMaxWidth:"100%",iframeMaxHeight:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],extraProps:[],exThumbImage:"",isMobile:void 0,mobileSettings:{controls:!1,showCloseIcon:!1,download:!1},plugins:[],strings:{closeGallery:"Close gallery",toggleMaximize:"Toggle maximize",previousSlide:"Previous slide",nextSlide:"Next slide",download:"Download",playVideo:"Play video",mediaLoadingFailed:"Oops... Failed to load content..."}};function HF(){(function(){if(typeof window.CustomEvent=="function")return!1;function n(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}window.CustomEvent=n})(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)}()}var CN=function(){function n(e){return this.cssVenderPrefixes=["TransitionDuration","TransitionTimingFunction","Transform","Transition"],this.selector=this._getSelector(e),this.firstElement=this._getFirstEl(),this}return n.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e=="x"?t:t&3|8;return i.toString(16)})},n.prototype._getSelector=function(e,t){if(t===void 0&&(t=document),typeof e!="string")return e;t=t||document;var i=e.substring(0,1);return i==="#"?t.querySelector(e):t.querySelectorAll(e)},n.prototype._each=function(e){return this.selector?(this.selector.length!==void 0?[].forEach.call(this.selector,e):e(this.selector,0),this):this},n.prototype._setCssVendorPrefix=function(e,t,i){var a=t.replace(/-([a-z])/gi,function(r,l){return l.toUpperCase()});this.cssVenderPrefixes.indexOf(a)!==-1?(e.style[a.charAt(0).toLowerCase()+a.slice(1)]=i,e.style["webkit"+a]=i,e.style["moz"+a]=i,e.style["ms"+a]=i,e.style["o"+a]=i):e.style[a]=i},n.prototype._getFirstEl=function(){return this.selector&&this.selector.length!==void 0?this.selector[0]:this.selector},n.prototype.isEventMatched=function(e,t){var i=t.split(".");return e.split(".").filter(function(a){return a}).every(function(a){return i.indexOf(a)!==-1})},n.prototype.attr=function(e,t){return t===void 0?this.firstElement?this.firstElement.getAttribute(e):"":(this._each(function(i){i.setAttribute(e,t)}),this)},n.prototype.find=function(e){return en(this._getSelector(e,this.selector))},n.prototype.first=function(){return this.selector&&this.selector.length!==void 0?en(this.selector[0]):en(this.selector)},n.prototype.eq=function(e){return en(this.selector[e])},n.prototype.parent=function(){return en(this.selector.parentElement)},n.prototype.get=function(){return this._getFirstEl()},n.prototype.removeAttr=function(e){var t=e.split(" ");return this._each(function(i){t.forEach(function(a){return i.removeAttribute(a)})}),this},n.prototype.wrap=function(e){if(!this.firstElement)return this;var t=document.createElement("div");return t.className=e,this.firstElement.parentNode.insertBefore(t,this.firstElement),this.firstElement.parentNode.removeChild(this.firstElement),t.appendChild(this.firstElement),this},n.prototype.addClass=function(e){return e===void 0&&(e=""),this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.add(i)})}),this},n.prototype.removeClass=function(e){return this._each(function(t){e.split(" ").forEach(function(i){i&&t.classList.remove(i)})}),this},n.prototype.hasClass=function(e){return this.firstElement?this.firstElement.classList.contains(e):!1},n.prototype.hasAttribute=function(e){return this.firstElement?this.firstElement.hasAttribute(e):!1},n.prototype.toggleClass=function(e){return this.firstElement?(this.hasClass(e)?this.removeClass(e):this.addClass(e),this):this},n.prototype.css=function(e,t){var i=this;return this._each(function(a){i._setCssVendorPrefix(a,e,t)}),this},n.prototype.on=function(e,t){var i=this;return this.selector?(e.split(" ").forEach(function(a){Array.isArray(n.eventListeners[a])||(n.eventListeners[a]=[]),n.eventListeners[a].push(t),i.selector.addEventListener(a.split(".")[0],t)}),this):this},n.prototype.once=function(e,t){var i=this;return this.on(e,function(){i.off(e),t(e)}),this},n.prototype.off=function(e){var t=this;return this.selector?(Object.keys(n.eventListeners).forEach(function(i){t.isEventMatched(e,i)&&(n.eventListeners[i].forEach(function(a){t.selector.removeEventListener(i.split(".")[0],a)}),n.eventListeners[i]=[])}),this):this},n.prototype.trigger=function(e,t){if(!this.firstElement)return this;var i=new CustomEvent(e.split(".")[0],{detail:t||null});return this.firstElement.dispatchEvent(i),this},n.prototype.load=function(e){var t=this;return fetch(e).then(function(i){return i.text()}).then(function(i){t.selector.innerHTML=i}),this},n.prototype.html=function(e){return e===void 0?this.firstElement?this.firstElement.innerHTML:"":(this._each(function(t){t.innerHTML=e}),this)},n.prototype.append=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("beforeend",e):t.appendChild(e)}),this},n.prototype.prepend=function(e){return this._each(function(t){typeof e=="string"?t.insertAdjacentHTML("afterbegin",e):e instanceof HTMLElement&&t.insertBefore(e.cloneNode(!0),t.firstChild)}),this},n.prototype.remove=function(){return this._each(function(e){e.parentNode.removeChild(e)}),this},n.prototype.empty=function(){return this._each(function(e){e.innerHTML=""}),this},n.prototype.scrollTop=function(e){return e!==void 0?(document.body.scrollTop=e,document.documentElement.scrollTop=e,this):window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},n.prototype.scrollLeft=function(e){return e!==void 0?(document.body.scrollLeft=e,document.documentElement.scrollLeft=e,this):window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},n.prototype.offset=function(){if(!this.firstElement)return{left:0,top:0};var e=this.firstElement.getBoundingClientRect(),t=en("body").style().marginLeft;return{left:e.left-parseFloat(t)+this.scrollLeft(),top:e.top+this.scrollTop()}},n.prototype.style=function(){return this.firstElement?this.firstElement.currentStyle||window.getComputedStyle(this.firstElement):{}},n.prototype.width=function(){var e=this.style();return this.firstElement.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)},n.prototype.height=function(){var e=this.style();return this.firstElement.clientHeight-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)},n.eventListeners={},n}();function en(n){return HF(),new CN(n)}var kF=["src","sources","subHtml","subHtmlUrl","html","video","poster","slideName","responsive","srcset","sizes","iframe","downloadUrl","download","width","facebookShareUrl","tweetText","iframeTitle","twitterShareUrl","pinterestShareUrl","pinterestText","fbHtml","disqusIdentifier","disqusUrl"];function GF(n){return n==="href"?"src":(n=n.replace("data-",""),n=n.charAt(0).toLowerCase()+n.slice(1),n=n.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()}),n)}var Na={fetchCaptionFromUrl:function(n,e,t){fetch(n).then(function(i){return i.text()}).then(function(i){if(t==="append"){var a='<div class="lg-sub-html">'+i+"</div>";e.append(a)}else e.html(i)})},getSize:function(n,e,t,i){t===void 0&&(t=0);var a=en(n),r=a.attr("data-lg-size")||i;if(r){var l=r.split(",");if(l[1])for(var u=window.innerWidth,h=0;h<l.length;h++){var p=l[h],m=parseInt(p.split("-")[2],10);if(m>u){r=p;break}h===l.length-1&&(r=p)}var v=r.split("-"),x=parseInt(v[0],10),b=parseInt(v[1],10),M=e.width(),C=e.height()-t,E=Math.min(M,x),w=Math.min(C,b),R=Math.min(E/x,w/b);return{width:x*R,height:b*R}}},getTransform:function(n,e,t,i,a){if(a){var r=en(n).find("img").first();if(r.get()){var l=e.get().getBoundingClientRect(),u=l.width,h=e.height()-(t+i),p=r.width(),m=r.height(),v=r.style(),x=(u-p)/2-r.offset().left+(parseFloat(v.paddingLeft)||0)+(parseFloat(v.borderLeft)||0)+en(window).scrollLeft()+l.left,b=(h-m)/2-r.offset().top+(parseFloat(v.paddingTop)||0)+(parseFloat(v.borderTop)||0)+en(window).scrollTop()+t,M=p/a.width,C=m/a.height,E="translate3d("+(x*=-1)+"px, "+(b*=-1)+"px, 0) scale3d("+M+", "+C+", 1)";return E}}},getIframeMarkup:function(n,e,t,i,a,r){var l=r?'title="'+r+'"':"";return'<div class="lg-media-cont lg-has-iframe" style="width:'+n+"; max-width:"+t+"; height: "+e+"; max-height:"+i+`">
                    <iframe class="lg-object" frameborder="0" `+l+' src="'+a+`"  allowfullscreen="true"></iframe>
                </div>`},getImgMarkup:function(n,e,t,i,a,r){var l=i?'srcset="'+i+'"':"",u=a?'sizes="'+a+'"':"",h="<img "+t+" "+l+"  "+u+' class="lg-object lg-image" data-index="'+n+'" src="'+e+'" />',p="";if(r){var m=typeof r=="string"?JSON.parse(r):r;p=m.map(function(v){var x="";return Object.keys(v).forEach(function(b){x+=" "+b+'="'+v[b]+'"'}),"<source "+x+"></source>"})}return""+p+h},getResponsiveSrc:function(n){for(var e=[],t=[],i="",a=0;a<n.length;a++){var r=n[a].split(" ");r[0]===""&&r.splice(0,1),t.push(r[0]),e.push(r[1])}for(var l=window.innerWidth,u=0;u<e.length;u++)if(parseInt(e[u],10)>l){i=t[u];break}return i},isImageLoaded:function(n){return!(!n||!n.complete||n.naturalWidth===0)},getVideoPosterMarkup:function(n,e,t,i,a){var r="";a&&a.youtube?r="lg-has-youtube":a&&a.vimeo?r="lg-has-vimeo":r="lg-has-html5";var l=e;return typeof e!="string"&&(l=e.outerHTML),'<div class="lg-video-cont '+r+'" style="'+t+`">
                <div class="lg-video-play-button">
                <svg
                    viewBox="0 0 20 20"
                    preserveAspectRatio="xMidYMid"
                    focusable="false"
                    aria-labelledby="`+i+`"
                    role="img"
                    class="lg-video-play-icon"
                >
                    <title>`+i+`</title>
                    <polygon class="lg-video-play-icon-inner" points="1,0 20,10 1,20"></polygon>
                </svg>
                <svg class="lg-video-play-icon-bg" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle></svg>
                <svg class="lg-video-play-icon-circle" viewBox="0 0 50 50" focusable="false">
                    <circle cx="50%" cy="50%" r="20"></circle>
                </svg>
            </div>
            `+l+`
            <img class="lg-object lg-video-poster" src="`+n+`" />
        </div>`},getFocusableElements:function(n){var e=n.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])'),t=[].filter.call(e,function(i){var a=window.getComputedStyle(i);return a.display!=="none"&&a.visibility!=="hidden"});return t},getDynamicOptions:function(n,e,t,i){var a=[],r=VF(kF,e);return[].forEach.call(n,function(l){for(var u={},h=0;h<l.attributes.length;h++){var p=l.attributes[h];if(p.specified){var m=GF(p.name),v="";r.indexOf(m)>-1&&(v=m),v&&(u[v]=p.value)}}var x=en(l),b=x.find("img").first().attr("alt"),M=x.attr("title"),C=i?x.attr(i):x.find("img").first().attr("src");u.thumb=C,t&&!u.subHtml&&(u.subHtml=M||b||""),u.alt=b||M||"",a.push(u)}),a},isMobile:function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)},isVideo:function(n,e,t){if(!n){if(e)return{html5:!0};console.error("lightGallery :- data-src is not provided on slide item "+(t+1)+". Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/");return}var i=n.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)([\&|?][\S]*)*/i),a=n.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)(.*)?/i),r=n.match(/https?:\/\/(.+)?(wistia\.com|wi\.st)\/(medias|embed)\/([0-9a-z\-_]+)(.*)/);if(i)return{youtube:i};if(a)return{vimeo:a};if(r)return{wistia:r}}},jA=0,jF=function(){function n(e,t){if(this.lgOpened=!1,this.index=0,this.plugins=[],this.lGalleryOn=!1,this.lgBusy=!1,this.currentItemsInDom=[],this.prevScrollTop=0,this.bodyPaddingRight=0,this.isDummyImageRemoved=!1,this.dragOrSwipeEnabled=!1,this.mediaContainerPosition={top:0,bottom:0},!e)return this;if(jA++,this.lgId=jA,this.el=e,this.LGel=en(e),this.generateSettings(t),this.buildModules(),this.settings.dynamic&&this.settings.dynamicEl!==void 0&&!Array.isArray(this.settings.dynamicEl))throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.galleryItems=this.getItems(),this.normalizeSettings(),this.init(),this.validateLicense(),this}return n.prototype.generateSettings=function(e){if(this.settings=qu(qu({},FF),e),this.settings.isMobile&&typeof this.settings.isMobile=="function"?this.settings.isMobile():Na.isMobile()){var t=qu(qu({},this.settings.mobileSettings),this.settings.mobileSettings);this.settings=qu(qu({},this.settings),t)}},n.prototype.normalizeSettings=function(){if(this.settings.slideEndAnimation&&(this.settings.hideControlOnEnd=!1),this.settings.closable||(this.settings.swipeToClose=!1),this.zoomFromOrigin=this.settings.zoomFromOrigin,this.settings.dynamic&&(this.zoomFromOrigin=!1),this.settings.container){var e=this.settings.container;if(typeof e=="function")this.settings.container=e();else if(typeof e=="string"){var t=document.querySelector(e);this.settings.container=t??document.body}}else this.settings.container=document.body;this.settings.preload=Math.min(this.settings.preload,this.galleryItems.length)},n.prototype.init=function(){var e=this;this.addSlideVideoInfo(this.galleryItems),this.buildStructure(),this.LGel.trigger(Ti.init,{instance:this}),this.settings.keyPress&&this.keyPress(),setTimeout(function(){e.enableDrag(),e.enableSwipe(),e.triggerPosterClick()},50),this.arrow(),this.settings.mousewheel&&this.mousewheel(),this.settings.dynamic||this.openGalleryOnItemClick()},n.prototype.openGalleryOnItemClick=function(){for(var e=this,t=function(r){var l=i.items[r],u=en(l),h=CN.generateUUID();u.attr("data-lg-id",h).on("click.lgcustom-item-"+h,function(p){p.preventDefault();var m=e.settings.index||r;e.openGallery(m,l)})},i=this,a=0;a<this.items.length;a++)t(a)},n.prototype.buildModules=function(){var e=this;this.settings.plugins.forEach(function(t){e.plugins.push(new t(e,en))})},n.prototype.validateLicense=function(){this.settings.licenseKey?this.settings.licenseKey==="0000-0000-000-0000"&&console.warn("lightGallery: "+this.settings.licenseKey+" license key is not valid for production use"):console.error("Please provide a valid license key")},n.prototype.getSlideItem=function(e){return en(this.getSlideItemId(e))},n.prototype.getSlideItemId=function(e){return"#lg-item-"+this.lgId+"-"+e},n.prototype.getIdName=function(e){return e+"-"+this.lgId},n.prototype.getElementById=function(e){return en("#"+this.getIdName(e))},n.prototype.manageSingleSlideClassName=function(){this.galleryItems.length<2?this.outer.addClass("lg-single-item"):this.outer.removeClass("lg-single-item")},n.prototype.buildStructure=function(){var e=this,t=this.$container&&this.$container.get();if(!t){var i="",a="";this.settings.controls&&(i='<button type="button" id="'+this.getIdName("lg-prev")+'" aria-label="'+this.settings.strings.previousSlide+'" class="lg-prev lg-icon"> '+this.settings.prevHtml+` </button>
                <button type="button" id="`+this.getIdName("lg-next")+'" aria-label="'+this.settings.strings.nextSlide+'" class="lg-next lg-icon"> '+this.settings.nextHtml+" </button>"),this.settings.appendSubHtmlTo!==".lg-item"&&(a='<div class="lg-sub-html" role="status" aria-live="polite"></div>');var r="";this.settings.allowMediaOverlap&&(r+="lg-media-overlap ");var l=this.settings.ariaLabelledby?'aria-labelledby="'+this.settings.ariaLabelledby+'"':"",u=this.settings.ariaDescribedby?'aria-describedby="'+this.settings.ariaDescribedby+'"':"",h="lg-container "+this.settings.addClass+" "+(document.body!==this.settings.container?"lg-inline":""),p=this.settings.closable&&this.settings.showCloseIcon?'<button type="button" aria-label="'+this.settings.strings.closeGallery+'" id="'+this.getIdName("lg-close")+'" class="lg-close lg-icon"></button>':"",m=this.settings.showMaximizeIcon?'<button type="button" aria-label="'+this.settings.strings.toggleMaximize+'" id="'+this.getIdName("lg-maximize")+'" class="lg-maximize lg-icon"></button>':"",v=`
        <div class="`+h+'" id="'+this.getIdName("lg-container")+'" tabindex="-1" aria-modal="true" '+l+" "+u+` role="dialog"
        >
            <div id="`+this.getIdName("lg-backdrop")+`" class="lg-backdrop"></div>

            <div id="`+this.getIdName("lg-outer")+'" class="lg-outer lg-use-css3 lg-css3 lg-hide-items '+r+` ">

              <div id="`+this.getIdName("lg-content")+`" class="lg-content">
                <div id="`+this.getIdName("lg-inner")+`" class="lg-inner">
                </div>
                `+i+`
              </div>
                <div id="`+this.getIdName("lg-toolbar")+`" class="lg-toolbar lg-group">
                    `+m+`
                    `+p+`
                    </div>
                    `+(this.settings.appendSubHtmlTo===".lg-outer"?a:"")+`
                <div id="`+this.getIdName("lg-components")+`" class="lg-components">
                    `+(this.settings.appendSubHtmlTo===".lg-sub-html"?a:"")+`
                </div>
            </div>
        </div>
        `;en(this.settings.container).append(v),document.body!==this.settings.container&&en(this.settings.container).css("position","relative"),this.outer=this.getElementById("lg-outer"),this.$lgComponents=this.getElementById("lg-components"),this.$backdrop=this.getElementById("lg-backdrop"),this.$container=this.getElementById("lg-container"),this.$inner=this.getElementById("lg-inner"),this.$content=this.getElementById("lg-content"),this.$toolbar=this.getElementById("lg-toolbar"),this.$backdrop.css("transition-duration",this.settings.backdropDuration+"ms");var x=this.settings.mode+" ";this.manageSingleSlideClassName(),this.settings.enableDrag&&(x+="lg-grab "),this.outer.addClass(x),this.$inner.css("transition-timing-function",this.settings.easing),this.$inner.css("transition-duration",this.settings.speed+"ms"),this.settings.download&&this.$toolbar.append('<a id="'+this.getIdName("lg-download")+'" target="_blank" rel="noopener" aria-label="'+this.settings.strings.download+'" download class="lg-download lg-icon"></a>'),this.counter(),en(window).on("resize.lg.global"+this.lgId+" orientationchange.lg.global"+this.lgId,function(){e.refreshOnResize()}),this.hideBars(),this.manageCloseGallery(),this.toggleMaximize(),this.initModules()}},n.prototype.refreshOnResize=function(){if(this.lgOpened){var e=this.galleryItems[this.index],t=e.__slideVideoInfo;this.mediaContainerPosition=this.getMediaContainerPosition();var i=this.mediaContainerPosition,a=i.top,r=i.bottom;if(this.currentImageSize=Na.getSize(this.items[this.index],this.outer,a+r,t&&this.settings.videoMaxSize),t&&this.resizeVideoSlide(this.index,this.currentImageSize),this.zoomFromOrigin&&!this.isDummyImageRemoved){var l=this.getDummyImgStyles(this.currentImageSize);this.outer.find(".lg-current .lg-dummy-img").first().attr("style",l)}this.LGel.trigger(Ti.containerResize)}},n.prototype.resizeVideoSlide=function(e,t){var i=this.getVideoContStyle(t),a=this.getSlideItem(e);a.find(".lg-video-cont").attr("style",i)},n.prototype.updateSlides=function(e,t){if(this.index>e.length-1&&(this.index=e.length-1),e.length===1&&(this.index=0),!e.length){this.closeGallery();return}var i=this.galleryItems[t].src;this.galleryItems=e,this.updateControls(),this.$inner.empty(),this.currentItemsInDom=[];var a=0;this.galleryItems.some(function(r,l){return r.src===i?(a=l,!0):!1}),this.currentItemsInDom=this.organizeSlideItems(a,-1),this.loadContent(a,!0),this.getSlideItem(a).addClass("lg-current"),this.index=a,this.updateCurrentCounter(a),this.LGel.trigger(Ti.updateSlides)},n.prototype.getItems=function(){if(this.items=[],this.settings.dynamic)return this.settings.dynamicEl||[];if(this.settings.selector==="this")this.items.push(this.el);else if(this.settings.selector)if(typeof this.settings.selector=="string")if(this.settings.selectWithin){var e=en(this.settings.selectWithin);this.items=e.find(this.settings.selector).get()}else this.items=this.el.querySelectorAll(this.settings.selector);else this.items=this.settings.selector;else this.items=this.el.children;return Na.getDynamicOptions(this.items,this.settings.extraProps,this.settings.getCaptionFromTitleOrAlt,this.settings.exThumbImage)},n.prototype.shouldHideScrollbar=function(){return this.settings.hideScrollbar&&document.body===this.settings.container},n.prototype.hideScrollbar=function(){if(this.shouldHideScrollbar()){this.bodyPaddingRight=parseFloat(en("body").style().paddingRight);var e=document.documentElement.getBoundingClientRect(),t=window.innerWidth-e.width;en(document.body).css("padding-right",t+this.bodyPaddingRight+"px"),en(document.body).addClass("lg-overlay-open")}},n.prototype.resetScrollBar=function(){this.shouldHideScrollbar()&&(en(document.body).css("padding-right",this.bodyPaddingRight+"px"),en(document.body).removeClass("lg-overlay-open"))},n.prototype.openGallery=function(e,t){var i=this;if(e===void 0&&(e=this.settings.index),!this.lgOpened){this.lgOpened=!0,this.outer.removeClass("lg-hide-items"),this.hideScrollbar(),this.$container.addClass("lg-show");var a=this.getItemsToBeInsertedToDom(e,e);this.currentItemsInDom=a;var r="";a.forEach(function(x){r=r+('<div id="'+x+'" class="lg-item"></div>')}),this.$inner.append(r),this.addHtml(e);var l="";this.mediaContainerPosition=this.getMediaContainerPosition();var u=this.mediaContainerPosition,h=u.top,p=u.bottom;this.settings.allowMediaOverlap||this.setMediaContainerPosition(h,p);var m=this.galleryItems[e].__slideVideoInfo;this.zoomFromOrigin&&t&&(this.currentImageSize=Na.getSize(t,this.outer,h+p,m&&this.settings.videoMaxSize),l=Na.getTransform(t,this.outer,h,p,this.currentImageSize)),(!this.zoomFromOrigin||!l)&&(this.outer.addClass(this.settings.startClass),this.getSlideItem(e).removeClass("lg-complete"));var v=this.settings.zoomFromOrigin?100:this.settings.backdropDuration;setTimeout(function(){i.outer.addClass("lg-components-open")},v),this.index=e,this.LGel.trigger(Ti.beforeOpen),this.getSlideItem(e).addClass("lg-current"),this.lGalleryOn=!1,this.prevScrollTop=en(window).scrollTop(),setTimeout(function(){if(i.zoomFromOrigin&&l){var x=i.getSlideItem(e);x.css("transform",l),setTimeout(function(){x.addClass("lg-start-progress lg-start-end-progress").css("transition-duration",i.settings.startAnimationDuration+"ms"),i.outer.addClass("lg-zoom-from-image")}),setTimeout(function(){x.css("transform","translate3d(0, 0, 0)")},100)}setTimeout(function(){i.$backdrop.addClass("in"),i.$container.addClass("lg-show-in")},10),setTimeout(function(){i.settings.trapFocus&&document.body===i.settings.container&&i.trapFocus()},i.settings.backdropDuration+50),(!i.zoomFromOrigin||!l)&&setTimeout(function(){i.outer.addClass("lg-visible")},i.settings.backdropDuration),i.slide(e,!1,!1,!1),i.LGel.trigger(Ti.afterOpen)}),document.body===this.settings.container&&en("html").addClass("lg-on")}},n.prototype.getMediaContainerPosition=function(){if(this.settings.allowMediaOverlap)return{top:0,bottom:0};var e=this.$toolbar.get().clientHeight||0,t=this.outer.find(".lg-components .lg-sub-html").get(),i=this.settings.defaultCaptionHeight||t&&t.clientHeight||0,a=this.outer.find(".lg-thumb-outer").get(),r=a?a.clientHeight:0,l=r+i;return{top:e,bottom:l}},n.prototype.setMediaContainerPosition=function(e,t){e===void 0&&(e=0),t===void 0&&(t=0),this.$content.css("top",e+"px").css("bottom",t+"px")},n.prototype.hideBars=function(){var e=this;setTimeout(function(){e.outer.removeClass("lg-hide-items"),e.settings.hideBarsDelay>0&&(e.outer.on("mousemove.lg click.lg touchstart.lg",function(){e.outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout(function(){e.outer.addClass("lg-hide-items")},e.settings.hideBarsDelay)}),e.outer.trigger("mousemove.lg"))},this.settings.showBarsAfter)},n.prototype.initPictureFill=function(e){if(this.settings.supportLegacyBrowser)try{picturefill({elements:[e.get()]})}catch{console.warn("lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.")}},n.prototype.counter=function(){if(this.settings.counter){var e=`<div class="lg-counter" role="status" aria-live="polite">
                <span id="`+this.getIdName("lg-counter-current")+'" class="lg-counter-current">'+(this.index+1)+` </span> /
                <span id="`+this.getIdName("lg-counter-all")+'" class="lg-counter-all">'+this.galleryItems.length+" </span></div>";this.outer.find(this.settings.appendCounterTo).append(e)}},n.prototype.addHtml=function(e){var t,i;if(this.galleryItems[e].subHtmlUrl?i=this.galleryItems[e].subHtmlUrl:t=this.galleryItems[e].subHtml,!i)if(t){var a=t.substring(0,1);if(a==="."||a==="#")try{this.settings.subHtmlSelectorRelative&&!this.settings.dynamic?t=en(this.items).eq(e).find(t).first().html():t=en(t).first().html()}catch{console.warn('Error processing subHtml selector "'+t+'"'),t=""}}else t="";if(this.settings.appendSubHtmlTo!==".lg-item")i?Na.fetchCaptionFromUrl(i,this.outer.find(".lg-sub-html"),"replace"):this.outer.find(".lg-sub-html").html(t);else{var r=en(this.getSlideItemId(e));i?Na.fetchCaptionFromUrl(i,r,"append"):r.append('<div class="lg-sub-html">'+t+"</div>")}typeof t<"u"&&t!==null&&(t===""?this.outer.find(this.settings.appendSubHtmlTo).addClass("lg-empty-html"):this.outer.find(this.settings.appendSubHtmlTo).removeClass("lg-empty-html")),this.LGel.trigger(Ti.afterAppendSubHtml,{index:e})},n.prototype.preload=function(e){for(var t=1;t<=this.settings.preload&&!(t>=this.galleryItems.length-e);t++)this.loadContent(e+t,!1);for(var i=1;i<=this.settings.preload&&!(e-i<0);i++)this.loadContent(e-i,!1)},n.prototype.getDummyImgStyles=function(e){return e?"width:"+e.width+`px;
                margin-left: -`+e.width/2+`px;
                margin-top: -`+e.height/2+`px;
                height:`+e.height+"px":""},n.prototype.getVideoContStyle=function(e){return e?"width:"+e.width+`px;
                height:`+e.height+"px":""},n.prototype.getDummyImageContent=function(e,t,i){var a;if(this.settings.dynamic||(a=en(this.items).eq(t)),a){var r=void 0;if(this.settings.exThumbImage?r=a.attr(this.settings.exThumbImage):r=a.find("img").first().attr("src"),!r)return"";var l=this.getDummyImgStyles(this.currentImageSize),u=document.createElement("img");return u.alt=i||"",u.src=r,u.className="lg-dummy-img",u.style.cssText=l,e.addClass("lg-first-slide"),this.outer.addClass("lg-first-slide-loading"),u}return""},n.prototype.setImgMarkup=function(e,t,i){var a=this.galleryItems[i],r=a.alt,l=a.srcset,u=a.sizes,h=a.sources,p="",m=r?'alt="'+r+'"':"";this.isFirstSlideWithZoomAnimation()?p=this.getDummyImageContent(t,i,m):p=Na.getImgMarkup(i,e,m,l,u,h);var v=document.createElement("picture");v.className="lg-img-wrap",en(v).append(p),t.prepend(v)},n.prototype.onSlideObjectLoad=function(e,t,i,a){var r=e.find(".lg-object").first();Na.isImageLoaded(r.get())||t?i():(r.on("load.lg error.lg",function(){i&&i()}),r.on("error.lg",function(){a&&a()}))},n.prototype.onLgObjectLoad=function(e,t,i,a,r,l){var u=this;this.onSlideObjectLoad(e,l,function(){u.triggerSlideItemLoad(e,t,i,a,r)},function(){e.addClass("lg-complete lg-complete_"),e.html('<span class="lg-error-msg">'+u.settings.strings.mediaLoadingFailed+"</span>")})},n.prototype.triggerSlideItemLoad=function(e,t,i,a,r){var l=this,u=this.galleryItems[t],h=r&&this.getSlideType(u)==="video"&&!u.poster?a:0;setTimeout(function(){e.addClass("lg-complete lg-complete_"),l.LGel.trigger(Ti.slideItemLoad,{index:t,delay:i||0,isFirstSlide:r})},h)},n.prototype.isFirstSlideWithZoomAnimation=function(){return!!(!this.lGalleryOn&&this.zoomFromOrigin&&this.currentImageSize)},n.prototype.addSlideVideoInfo=function(e){var t=this;e.forEach(function(i,a){i.__slideVideoInfo=Na.isVideo(i.src,!!i.video,a),i.__slideVideoInfo&&t.settings.loadYouTubePoster&&!i.poster&&i.__slideVideoInfo.youtube&&(i.poster="//img.youtube.com/vi/"+i.__slideVideoInfo.youtube[1]+"/maxresdefault.jpg")})},n.prototype.loadContent=function(e,t){var i=this,a=this.galleryItems[e],r=en(this.getSlideItemId(e)),l=a.poster,u=a.srcset,h=a.sizes,p=a.sources,m=a.src,v=a.video,x=v&&typeof v=="string"?JSON.parse(v):v;if(a.responsive){var b=a.responsive.split(",");m=Na.getResponsiveSrc(b)||m}var M=a.__slideVideoInfo,C="",E=!!a.iframe,w=!this.lGalleryOn,R=0;if(w&&(this.zoomFromOrigin&&this.currentImageSize?R=this.settings.startAnimationDuration+10:R=this.settings.backdropDuration+10),!r.hasClass("lg-loaded")){if(M){var D=this.mediaContainerPosition,O=D.top,P=D.bottom,U=Na.getSize(this.items[e],this.outer,O+P,M&&this.settings.videoMaxSize);C=this.getVideoContStyle(U)}if(E){var V=Na.getIframeMarkup(this.settings.iframeWidth,this.settings.iframeHeight,this.settings.iframeMaxWidth,this.settings.iframeMaxHeight,m,a.iframeTitle);r.prepend(V)}else if(l){var H="",I=w&&this.zoomFromOrigin&&this.currentImageSize;I&&(H=this.getDummyImageContent(r,e,""));var V=Na.getVideoPosterMarkup(l,H||"",C,this.settings.strings.playVideo,M);r.prepend(V)}else if(M){var V='<div class="lg-video-cont " style="'+C+'"></div>';r.prepend(V)}else if(this.setImgMarkup(m,r,e),u||p){var L=r.find(".lg-object");this.initPictureFill(L)}(l||M)&&this.LGel.trigger(Ti.hasVideo,{index:e,src:m,html5Video:x,hasPoster:!!l}),this.LGel.trigger(Ti.afterAppendSlide,{index:e}),this.lGalleryOn&&this.settings.appendSubHtmlTo===".lg-item"&&this.addHtml(e)}var q=0;R&&!en(document.body).hasClass("lg-from-hash")&&(q=R),this.isFirstSlideWithZoomAnimation()&&(setTimeout(function(){r.removeClass("lg-start-end-progress lg-start-progress").removeAttr("style")},this.settings.startAnimationDuration+100),r.hasClass("lg-loaded")||setTimeout(function(){if(i.getSlideType(a)==="image"){var J=a.alt,re=J?'alt="'+J+'"':"";if(r.find(".lg-img-wrap").append(Na.getImgMarkup(e,m,re,u,h,a.sources)),u||p){var de=r.find(".lg-object");i.initPictureFill(de)}}(i.getSlideType(a)==="image"||i.getSlideType(a)==="video"&&l)&&(i.onLgObjectLoad(r,e,R,q,!0,!1),i.onSlideObjectLoad(r,!!(M&&M.html5&&!l),function(){i.loadContentOnFirstSlideLoad(e,r,q)},function(){i.loadContentOnFirstSlideLoad(e,r,q)}))},this.settings.startAnimationDuration+100)),r.addClass("lg-loaded"),(!this.isFirstSlideWithZoomAnimation()||this.getSlideType(a)==="video"&&!l)&&this.onLgObjectLoad(r,e,R,q,w,!!(M&&M.html5&&!l)),(!this.zoomFromOrigin||!this.currentImageSize)&&r.hasClass("lg-complete_")&&!this.lGalleryOn&&setTimeout(function(){r.addClass("lg-complete")},this.settings.backdropDuration),this.lGalleryOn=!0,t===!0&&(r.hasClass("lg-complete_")?this.preload(e):r.find(".lg-object").first().on("load.lg error.lg",function(){i.preload(e)}))},n.prototype.loadContentOnFirstSlideLoad=function(e,t,i){var a=this;setTimeout(function(){t.find(".lg-dummy-img").remove(),t.removeClass("lg-first-slide"),a.outer.removeClass("lg-first-slide-loading"),a.isDummyImageRemoved=!0,a.preload(e)},i+300)},n.prototype.getItemsToBeInsertedToDom=function(e,t,i){var a=this;i===void 0&&(i=0);var r=[],l=Math.max(i,3);l=Math.min(l,this.galleryItems.length);var u="lg-item-"+this.lgId+"-"+t;if(this.galleryItems.length<=3)return this.galleryItems.forEach(function(m,v){r.push("lg-item-"+a.lgId+"-"+v)}),r;if(e<(this.galleryItems.length-1)/2){for(var h=e;h>e-l/2&&h>=0;h--)r.push("lg-item-"+this.lgId+"-"+h);for(var p=r.length,h=0;h<l-p;h++)r.push("lg-item-"+this.lgId+"-"+(e+h+1))}else{for(var h=e;h<=this.galleryItems.length-1&&h<e+l/2;h++)r.push("lg-item-"+this.lgId+"-"+h);for(var p=r.length,h=0;h<l-p;h++)r.push("lg-item-"+this.lgId+"-"+(e-h-1))}return this.settings.loop&&(e===this.galleryItems.length-1?r.push("lg-item-"+this.lgId+"-0"):e===0&&r.push("lg-item-"+this.lgId+"-"+(this.galleryItems.length-1))),r.indexOf(u)===-1&&r.push("lg-item-"+this.lgId+"-"+t),r},n.prototype.organizeSlideItems=function(e,t){var i=this,a=this.getItemsToBeInsertedToDom(e,t,this.settings.numberOfSlideItemsInDom);return a.forEach(function(r){i.currentItemsInDom.indexOf(r)===-1&&i.$inner.append('<div id="'+r+'" class="lg-item"></div>')}),this.currentItemsInDom.forEach(function(r){a.indexOf(r)===-1&&en("#"+r).remove()}),a},n.prototype.getPreviousSlideIndex=function(){var e=0;try{var t=this.outer.find(".lg-current").first().attr("id");e=parseInt(t.split("-")[3])||0}catch{e=0}return e},n.prototype.setDownloadValue=function(e){if(this.settings.download){var t=this.galleryItems[e],i=t.downloadUrl===!1||t.downloadUrl==="false";if(i)this.outer.addClass("lg-hide-download");else{var a=this.getElementById("lg-download");this.outer.removeClass("lg-hide-download"),a.attr("href",t.downloadUrl||t.src),t.download&&a.attr("download",t.download)}}},n.prototype.makeSlideAnimation=function(e,t,i){var a=this;this.lGalleryOn&&i.addClass("lg-slide-progress"),setTimeout(function(){a.outer.addClass("lg-no-trans"),a.outer.find(".lg-item").removeClass("lg-prev-slide lg-next-slide"),e==="prev"?(t.addClass("lg-prev-slide"),i.addClass("lg-next-slide")):(t.addClass("lg-next-slide"),i.addClass("lg-prev-slide")),setTimeout(function(){a.outer.find(".lg-item").removeClass("lg-current"),t.addClass("lg-current"),a.outer.removeClass("lg-no-trans")},50)},this.lGalleryOn?this.settings.slideDelay:0)},n.prototype.slide=function(e,t,i,a){var r=this,l=this.getPreviousSlideIndex();if(this.currentItemsInDom=this.organizeSlideItems(e,l),!(this.lGalleryOn&&l===e)){var u=this.galleryItems.length;if(!this.lgBusy){this.settings.counter&&this.updateCurrentCounter(e);var h=this.getSlideItem(e),p=this.getSlideItem(l),m=this.galleryItems[e],v=m.__slideVideoInfo;if(this.outer.attr("data-lg-slide-type",this.getSlideType(m)),this.setDownloadValue(e),v){var x=this.mediaContainerPosition,b=x.top,M=x.bottom,C=Na.getSize(this.items[e],this.outer,b+M,v&&this.settings.videoMaxSize);this.resizeVideoSlide(e,C)}if(this.LGel.trigger(Ti.beforeSlide,{prevIndex:l,index:e,fromTouch:!!t,fromThumb:!!i}),this.lgBusy=!0,clearTimeout(this.hideBarTimeout),this.arrowDisable(e),a||(e<l?a="prev":e>l&&(a="next")),!t)this.makeSlideAnimation(a,h,p);else{this.outer.find(".lg-item").removeClass("lg-prev-slide lg-current lg-next-slide");var E=void 0,w=void 0;u>2?(E=e-1,w=e+1,(e===0&&l===u-1||e===u-1&&l===0)&&(w=0,E=u-1)):(E=0,w=1),a==="prev"?this.getSlideItem(w).addClass("lg-next-slide"):this.getSlideItem(E).addClass("lg-prev-slide"),h.addClass("lg-current")}this.lGalleryOn?setTimeout(function(){r.loadContent(e,!0),r.settings.appendSubHtmlTo!==".lg-item"&&r.addHtml(e)},this.settings.speed+50+(t?0:this.settings.slideDelay)):this.loadContent(e,!0),setTimeout(function(){r.lgBusy=!1,p.removeClass("lg-slide-progress"),r.LGel.trigger(Ti.afterSlide,{prevIndex:l,index:e,fromTouch:t,fromThumb:i})},(this.lGalleryOn?this.settings.speed+100:100)+(t?0:this.settings.slideDelay))}this.index=e}},n.prototype.updateCurrentCounter=function(e){this.getElementById("lg-counter-current").html(e+1+"")},n.prototype.updateCounterTotal=function(){this.getElementById("lg-counter-all").html(this.galleryItems.length+"")},n.prototype.getSlideType=function(e){return e.__slideVideoInfo?"video":e.iframe?"iframe":"image"},n.prototype.touchMove=function(e,t,i){var a=t.pageX-e.pageX,r=t.pageY-e.pageY,l=!1;if(this.swipeDirection?l=!0:Math.abs(a)>15?(this.swipeDirection="horizontal",l=!0):Math.abs(r)>15&&(this.swipeDirection="vertical",l=!0),!!l){var u=this.getSlideItem(this.index);if(this.swipeDirection==="horizontal"){i?.preventDefault(),this.outer.addClass("lg-dragging"),this.setTranslate(u,a,0);var h=u.get().offsetWidth,p=h*15/100,m=p-Math.abs(a*10/100);this.setTranslate(this.outer.find(".lg-prev-slide").first(),-h+a-m,0),this.setTranslate(this.outer.find(".lg-next-slide").first(),h+a+m,0)}else if(this.swipeDirection==="vertical"&&this.settings.swipeToClose){i?.preventDefault(),this.$container.addClass("lg-dragging-vertical");var v=1-Math.abs(r)/window.innerHeight;this.$backdrop.css("opacity",v);var x=1-Math.abs(r)/(window.innerWidth*2);this.setTranslate(u,0,r,x,x),Math.abs(r)>100&&this.outer.addClass("lg-hide-items").removeClass("lg-components-open")}}},n.prototype.touchEnd=function(e,t,i){var a=this,r;this.settings.mode!=="lg-slide"&&this.outer.addClass("lg-slide"),setTimeout(function(){a.$container.removeClass("lg-dragging-vertical"),a.outer.removeClass("lg-dragging lg-hide-items").addClass("lg-components-open");var l=!0;if(a.swipeDirection==="horizontal"){r=e.pageX-t.pageX;var u=Math.abs(e.pageX-t.pageX);r<0&&u>a.settings.swipeThreshold?(a.goToNextSlide(!0),l=!1):r>0&&u>a.settings.swipeThreshold&&(a.goToPrevSlide(!0),l=!1)}else if(a.swipeDirection==="vertical")if(r=Math.abs(e.pageY-t.pageY),a.settings.closable&&a.settings.swipeToClose&&r>100){a.closeGallery();return}else a.$backdrop.css("opacity",1);if(a.outer.find(".lg-item").removeAttr("style"),l&&Math.abs(e.pageX-t.pageX)<5){var h=en(i.target);a.isPosterElement(h)&&a.LGel.trigger(Ti.posterClick)}a.swipeDirection=void 0}),setTimeout(function(){!a.outer.hasClass("lg-dragging")&&a.settings.mode!=="lg-slide"&&a.outer.removeClass("lg-slide")},this.settings.speed+100)},n.prototype.enableSwipe=function(){var e=this,t={},i={},a=!1,r=!1;this.settings.enableSwipe&&(this.$inner.on("touchstart.lg",function(l){e.dragOrSwipeEnabled=!0;var u=e.getSlideItem(e.index);(en(l.target).hasClass("lg-item")||u.get().contains(l.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&l.touches.length===1&&(r=!0,e.touchAction="swipe",e.manageSwipeClass(),t={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY})}),this.$inner.on("touchmove.lg",function(l){r&&e.touchAction==="swipe"&&l.touches.length===1&&(i={pageX:l.touches[0].pageX,pageY:l.touches[0].pageY},e.touchMove(t,i,l),a=!0)}),this.$inner.on("touchend.lg",function(l){if(e.touchAction==="swipe"){if(a)a=!1,e.touchEnd(i,t,l);else if(r){var u=en(l.target);e.isPosterElement(u)&&e.LGel.trigger(Ti.posterClick)}e.touchAction=void 0,r=!1}}))},n.prototype.enableDrag=function(){var e=this,t={},i={},a=!1,r=!1;this.settings.enableDrag&&(this.outer.on("mousedown.lg",function(l){e.dragOrSwipeEnabled=!0;var u=e.getSlideItem(e.index);(en(l.target).hasClass("lg-item")||u.get().contains(l.target))&&!e.outer.hasClass("lg-zoomed")&&!e.lgBusy&&(l.preventDefault(),e.lgBusy||(e.manageSwipeClass(),t={pageX:l.pageX,pageY:l.pageY},a=!0,e.outer.get().scrollLeft+=1,e.outer.get().scrollLeft-=1,e.outer.removeClass("lg-grab").addClass("lg-grabbing"),e.LGel.trigger(Ti.dragStart)))}),en(window).on("mousemove.lg.global"+this.lgId,function(l){a&&e.lgOpened&&(r=!0,i={pageX:l.pageX,pageY:l.pageY},e.touchMove(t,i),e.LGel.trigger(Ti.dragMove))}),en(window).on("mouseup.lg.global"+this.lgId,function(l){if(e.lgOpened){var u=en(l.target);r?(r=!1,e.touchEnd(i,t,l),e.LGel.trigger(Ti.dragEnd)):e.isPosterElement(u)&&e.LGel.trigger(Ti.posterClick),a&&(a=!1,e.outer.removeClass("lg-grabbing").addClass("lg-grab"))}}))},n.prototype.triggerPosterClick=function(){var e=this;this.$inner.on("click.lg",function(t){!e.dragOrSwipeEnabled&&e.isPosterElement(en(t.target))&&e.LGel.trigger(Ti.posterClick)})},n.prototype.manageSwipeClass=function(){var e=this.index+1,t=this.index-1;this.settings.loop&&this.galleryItems.length>2&&(this.index===0?t=this.galleryItems.length-1:this.index===this.galleryItems.length-1&&(e=0)),this.outer.find(".lg-item").removeClass("lg-next-slide lg-prev-slide"),t>-1&&this.getSlideItem(t).addClass("lg-prev-slide"),this.getSlideItem(e).addClass("lg-next-slide")},n.prototype.goToNextSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index+1<this.galleryItems.length?(this.index++,this.LGel.trigger(Ti.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):i?(this.index=0,this.LGel.trigger(Ti.beforeNextSlide,{index:this.index}),this.slide(this.index,!!e,!1,"next")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-right-end"),setTimeout(function(){t.outer.removeClass("lg-right-end")},400)))},n.prototype.goToPrevSlide=function(e){var t=this,i=this.settings.loop;e&&this.galleryItems.length<3&&(i=!1),this.lgBusy||(this.index>0?(this.index--,this.LGel.trigger(Ti.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):i?(this.index=this.galleryItems.length-1,this.LGel.trigger(Ti.beforePrevSlide,{index:this.index,fromTouch:e}),this.slide(this.index,!!e,!1,"prev")):this.settings.slideEndAnimation&&!e&&(this.outer.addClass("lg-left-end"),setTimeout(function(){t.outer.removeClass("lg-left-end")},400)))},n.prototype.keyPress=function(){var e=this;en(window).on("keydown.lg.global"+this.lgId,function(t){e.lgOpened&&e.settings.escKey===!0&&t.keyCode===27&&(t.preventDefault(),e.settings.allowMediaOverlap&&e.outer.hasClass("lg-can-toggle")&&e.outer.hasClass("lg-components-open")?e.outer.removeClass("lg-components-open"):e.closeGallery()),e.lgOpened&&e.galleryItems.length>1&&(t.keyCode===37&&(t.preventDefault(),e.goToPrevSlide()),t.keyCode===39&&(t.preventDefault(),e.goToNextSlide()))})},n.prototype.arrow=function(){var e=this;this.getElementById("lg-prev").on("click.lg",function(){e.goToPrevSlide()}),this.getElementById("lg-next").on("click.lg",function(){e.goToNextSlide()})},n.prototype.arrowDisable=function(e){if(!this.settings.loop&&this.settings.hideControlOnEnd){var t=this.getElementById("lg-prev"),i=this.getElementById("lg-next");e+1===this.galleryItems.length?i.attr("disabled","disabled").addClass("disabled"):i.removeAttr("disabled").removeClass("disabled"),e===0?t.attr("disabled","disabled").addClass("disabled"):t.removeAttr("disabled").removeClass("disabled")}},n.prototype.setTranslate=function(e,t,i,a,r){a===void 0&&(a=1),r===void 0&&(r=1),e.css("transform","translate3d("+t+"px, "+i+"px, 0px) scale3d("+a+", "+r+", 1)")},n.prototype.mousewheel=function(){var e=this,t=0;this.outer.on("wheel.lg",function(i){if(!(!i.deltaY||e.galleryItems.length<2)){i.preventDefault();var a=new Date().getTime();a-t<1e3||(t=a,i.deltaY>0?e.goToNextSlide():i.deltaY<0&&e.goToPrevSlide())}})},n.prototype.isSlideElement=function(e){return e.hasClass("lg-outer")||e.hasClass("lg-item")||e.hasClass("lg-img-wrap")||e.hasClass("lg-img-rotate")},n.prototype.isPosterElement=function(e){var t=this.getSlideItem(this.index).find(".lg-video-play-button").get();return e.hasClass("lg-video-poster")||e.hasClass("lg-video-play-button")||t&&t.contains(e.get())},n.prototype.toggleMaximize=function(){var e=this;this.getElementById("lg-maximize").on("click.lg",function(){e.$container.toggleClass("lg-inline"),e.refreshOnResize()})},n.prototype.invalidateItems=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e],i=en(t);i.off("click.lgcustom-item-"+i.attr("data-lg-id"))}},n.prototype.trapFocus=function(){var e=this;this.$container.get().focus({preventScroll:!0}),en(window).on("keydown.lg.global"+this.lgId,function(t){if(e.lgOpened){var i=t.key==="Tab"||t.keyCode===9;if(i){var a=Na.getFocusableElements(e.$container.get()),r=a[0],l=a[a.length-1];t.shiftKey?document.activeElement===r&&(l.focus(),t.preventDefault()):document.activeElement===l&&(r.focus(),t.preventDefault())}}})},n.prototype.manageCloseGallery=function(){var e=this;if(this.settings.closable){var t=!1;this.getElementById("lg-close").on("click.lg",function(){e.closeGallery()}),this.settings.closeOnTap&&(this.outer.on("mousedown.lg",function(i){var a=en(i.target);e.isSlideElement(a)?t=!0:t=!1}),this.outer.on("mousemove.lg",function(){t=!1}),this.outer.on("mouseup.lg",function(i){var a=en(i.target);e.isSlideElement(a)&&t&&(e.outer.hasClass("lg-dragging")||e.closeGallery())}))}},n.prototype.closeGallery=function(e){var t=this;if(!this.lgOpened||!this.settings.closable&&!e)return 0;this.LGel.trigger(Ti.beforeClose),this.settings.resetScrollPosition&&!this.settings.hideScrollbar&&en(window).scrollTop(this.prevScrollTop);var i=this.items[this.index],a;if(this.zoomFromOrigin&&i){var r=this.mediaContainerPosition,l=r.top,u=r.bottom,h=this.galleryItems[this.index],p=h.__slideVideoInfo,m=h.poster,v=Na.getSize(i,this.outer,l+u,p&&m&&this.settings.videoMaxSize);a=Na.getTransform(i,this.outer,l,u,v)}this.zoomFromOrigin&&a?(this.outer.addClass("lg-closing lg-zoom-from-image"),this.getSlideItem(this.index).addClass("lg-start-end-progress").css("transition-duration",this.settings.startAnimationDuration+"ms").css("transform",a)):(this.outer.addClass("lg-hide-items"),this.outer.removeClass("lg-zoom-from-image")),this.destroyModules(),this.lGalleryOn=!1,this.isDummyImageRemoved=!1,this.zoomFromOrigin=this.settings.zoomFromOrigin,clearTimeout(this.hideBarTimeout),this.hideBarTimeout=!1,en("html").removeClass("lg-on"),this.outer.removeClass("lg-visible lg-components-open"),this.$backdrop.removeClass("in").css("opacity",0);var x=this.zoomFromOrigin&&a?Math.max(this.settings.startAnimationDuration,this.settings.backdropDuration):this.settings.backdropDuration;return this.$container.removeClass("lg-show-in"),setTimeout(function(){t.zoomFromOrigin&&a&&t.outer.removeClass("lg-zoom-from-image"),t.$container.removeClass("lg-show"),t.resetScrollBar(),t.$backdrop.removeAttr("style").css("transition-duration",t.settings.backdropDuration+"ms"),t.outer.removeClass("lg-closing "+t.settings.startClass),t.getSlideItem(t.index).removeClass("lg-start-end-progress"),t.$inner.empty(),t.lgOpened&&t.LGel.trigger(Ti.afterClose,{instance:t}),t.$container.get()&&t.$container.get().blur(),t.lgOpened=!1},x+100),x+100},n.prototype.initModules=function(){this.plugins.forEach(function(e){try{e.init()}catch{console.warn("lightGallery:- make sure lightGallery module is properly initiated")}})},n.prototype.destroyModules=function(e){this.plugins.forEach(function(t){try{e?t.destroy():t.closeGallery&&t.closeGallery()}catch{console.warn("lightGallery:- make sure lightGallery module is properly destroyed")}})},n.prototype.refresh=function(e){this.settings.dynamic||this.invalidateItems(),e?this.galleryItems=e:this.galleryItems=this.getItems(),this.updateControls(),this.openGalleryOnItemClick(),this.LGel.trigger(Ti.updateSlides)},n.prototype.updateControls=function(){this.addSlideVideoInfo(this.galleryItems),this.updateCounterTotal(),this.manageSingleSlideClassName()},n.prototype.destroyGallery=function(){this.destroyModules(!0),this.settings.dynamic||this.invalidateItems(),en(window).off(".lg.global"+this.lgId),this.LGel.off(".lg"),this.$container.remove()},n.prototype.destroy=function(){var e=this.closeGallery(!0);return e?setTimeout(this.destroyGallery.bind(this),e):this.destroyGallery(),e},n}();function XF(n,e){return new jF(n,e)}var Ji={onAfterAppendSlide:"lgAfterAppendSlide",onInit:"lgInit",onHasVideo:"lgHasVideo",onContainerResize:"lgContainerResize",onAfterAppendSubHtml:"lgAfterAppendSubHtml",onBeforeOpen:"lgBeforeOpen",onAfterOpen:"lgAfterOpen",onSlideItemLoad:"lgSlideItemLoad",onBeforeSlide:"lgBeforeSlide",onAfterSlide:"lgAfterSlide",onPosterClick:"lgPosterClick",onDragStart:"lgDragStart",onDragMove:"lgDragMove",onDragEnd:"lgDragEnd",onBeforeNextSlide:"lgBeforeNextSlide",onBeforePrevSlide:"lgBeforePrevSlide",onBeforeClose:"lgBeforeClose",onAfterClose:"lgAfterClose",onRotateLeft:"lgRotateLeft",onRotateRight:"lgRotateRight",onFlipHorizontal:"lgFlipHorizontal",onFlipVertical:"lgFlipVertical"},WF=function(n){var e=n.children,t=n.elementClassNames,i=n.onAfterAppendSlide,a=n.onInit,r=n.onHasVideo,l=n.onContainerResize,u=n.onAfterAppendSubHtml,h=n.onBeforeOpen,p=n.onAfterOpen,m=n.onSlideItemLoad,v=n.onBeforeSlide,x=n.onAfterSlide,b=n.onPosterClick,M=n.onDragStart,C=n.onDragMove,E=n.onDragEnd,w=n.onBeforeNextSlide,R=n.onBeforePrevSlide,D=n.onBeforeClose,O=n.onAfterClose,P=n.onRotateLeft,U=n.onRotateRight,V=n.onFlipHorizontal,H=n.onFlipVertical,I=zF(n,["children","elementClassNames","onAfterAppendSlide","onInit","onHasVideo","onContainerResize","onAfterAppendSubHtml","onBeforeOpen","onAfterOpen","onSlideItemLoad","onBeforeSlide","onAfterSlide","onPosterClick","onDragStart","onDragMove","onDragEnd","onBeforeNextSlide","onBeforePrevSlide","onBeforeClose","onAfterClose","onRotateLeft","onRotateRight","onFlipHorizontal","onFlipVertical"]),L=ne.useRef(null),q=ne.useCallback(function(){i&&L&&L.current&&L.current.addEventListener(Ji.onAfterAppendSlide,function(J){i(J.detail)}),a&&L&&L.current&&L.current.addEventListener(Ji.onInit,function(J){a(J.detail)}),r&&L&&L.current&&L.current.addEventListener(Ji.onHasVideo,function(J){r(J.detail)}),l&&L&&L.current&&L.current.addEventListener(Ji.onContainerResize,function(J){l(J.detail)}),u&&L&&L.current&&L.current.addEventListener(Ji.onAfterAppendSubHtml,function(J){u(J.detail)}),h&&L&&L.current&&L.current.addEventListener(Ji.onBeforeOpen,function(J){h(J.detail)}),p&&L&&L.current&&L.current.addEventListener(Ji.onAfterOpen,function(J){p(J.detail)}),m&&L&&L.current&&L.current.addEventListener(Ji.onSlideItemLoad,function(J){m(J.detail)}),v&&L&&L.current&&L.current.addEventListener(Ji.onBeforeSlide,function(J){v(J.detail)}),x&&L&&L.current&&L.current.addEventListener(Ji.onAfterSlide,function(J){x(J.detail)}),b&&L&&L.current&&L.current.addEventListener(Ji.onPosterClick,function(J){b(J.detail)}),M&&L&&L.current&&L.current.addEventListener(Ji.onDragStart,function(J){M(J.detail)}),C&&L&&L.current&&L.current.addEventListener(Ji.onDragMove,function(J){C(J.detail)}),E&&L&&L.current&&L.current.addEventListener(Ji.onDragEnd,function(J){E(J.detail)}),w&&L&&L.current&&L.current.addEventListener(Ji.onBeforeNextSlide,function(J){w(J.detail)}),R&&L&&L.current&&L.current.addEventListener(Ji.onBeforePrevSlide,function(J){R(J.detail)}),D&&L&&L.current&&L.current.addEventListener(Ji.onBeforeClose,function(J){D(J.detail)}),O&&L&&L.current&&L.current.addEventListener(Ji.onAfterClose,function(J){O(J.detail)}),P&&L&&L.current&&L.current.addEventListener(Ji.onRotateLeft,function(J){P(J.detail)}),U&&L&&L.current&&L.current.addEventListener(Ji.onRotateRight,function(J){U(J.detail)}),V&&L&&L.current&&L.current.addEventListener(Ji.onFlipHorizontal,function(J){V(J.detail)}),H&&L&&L.current&&L.current.addEventListener(Ji.onFlipVertical,function(J){H(J.detail)})},[i,u,O,P,U,V,H,p,x,D,w,h,R,v,l,E,C,M,r,a,b,m]);return ne.useEffect(function(){q();var J=XF(L.current,I);return function(){J.destroy()}},[q,I]),ne.createElement("div",{className:"lg-react-element "+(t||""),ref:L},e)};/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ih=function(){return Ih=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Ih.apply(this,arguments)},qF={autoplayFirstVideo:!0,youTubePlayerParams:!1,vimeoPlayerParams:!1,wistiaPlayerParams:!1,gotoNextSlideOnVideoEnd:!0,autoplayVideoOnSlide:!1,videojs:!1,videojsTheme:"",videojsOptions:{}},B0={hasVideo:"lgHasVideo",slideItemLoad:"lgSlideItemLoad",beforeSlide:"lgBeforeSlide",afterSlide:"lgAfterSlide",posterClick:"lgPosterClick"},$M=function(n){return Object.keys(n).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(n[e])}).join("&")},YF=function(n){var e=n.slice(1).split("&").map(function(t){return t.split("=")}).reduce(function(t,i){var a=i.map(decodeURIComponent),r=a[0],l=a[1];return t[r]=l,t},{});return e},ZF=function(n,e){if(!n.youtube)return"";var t=n.youtube[2]?YF(n.youtube[2]):"",i={wmode:"opaque",autoplay:0,mute:1,enablejsapi:1},a=e||{},r=Ih(Ih(Ih({},i),a),t),l="?"+$M(r);return l},KF=function(n){return n.includes("youtube-nocookie.com")},QF=function(n,e){if(!e||!e.vimeo)return"";var t=e.vimeo[2]||"",i=Object.assign({},{autoplay:0,muted:1},n),a=i&&Object.keys(i).length!==0?$M(i):"",r=e.vimeo[0].split("/").pop()||"",l=r.split("?")[0]||"",u=l.split("#")[0],h=e.vimeo[1]!==u;h&&(t=t.replace("/"+u,"")),t=t[0]=="?"?"&"+t.slice(1):t||"";var p=h?"h="+u:"";a=p?"&"+a:a;var m="?"+p+a+t;return m},JF=function(){function n(e){return this.core=e,this.settings=Ih(Ih({},qF),this.core.settings),this}return n.prototype.init=function(){var e=this;this.core.LGel.on(B0.hasVideo+".video",this.onHasVideo.bind(this)),this.core.LGel.on(B0.posterClick+".video",function(){var t=e.core.getSlideItem(e.core.index);e.loadVideoOnPosterClick(t)}),this.core.LGel.on(B0.slideItemLoad+".video",this.onSlideItemLoad.bind(this)),this.core.LGel.on(B0.beforeSlide+".video",this.onBeforeSlide.bind(this)),this.core.LGel.on(B0.afterSlide+".video",this.onAfterSlide.bind(this))},n.prototype.onSlideItemLoad=function(e){var t=this,i=e.detail,a=i.isFirstSlide,r=i.index;this.settings.autoplayFirstVideo&&a&&r===this.core.index&&setTimeout(function(){t.loadAndPlayVideo(r)},200),!a&&this.settings.autoplayVideoOnSlide&&r===this.core.index&&this.loadAndPlayVideo(r)},n.prototype.onHasVideo=function(e){var t=e.detail,i=t.index,a=t.src,r=t.html5Video,l=t.hasPoster;l||(this.appendVideos(this.core.getSlideItem(i),{src:a,addClass:"lg-object",index:i,html5Video:r}),this.gotoNextSlideOnVideoEnd(a,i))},n.prototype.onBeforeSlide=function(e){if(this.core.lGalleryOn){var t=e.detail.prevIndex;this.pauseVideo(t)}},n.prototype.onAfterSlide=function(e){var t=this,i=e.detail,a=i.index,r=i.prevIndex,l=this.core.getSlideItem(a);this.settings.autoplayVideoOnSlide&&a!==r&&l.hasClass("lg-complete")&&setTimeout(function(){t.loadAndPlayVideo(a)},100)},n.prototype.loadAndPlayVideo=function(e){var t=this.core.getSlideItem(e),i=this.core.galleryItems[e];i.poster?this.loadVideoOnPosterClick(t,!0):this.playVideo(e)},n.prototype.playVideo=function(e){this.controlVideo(e,"play")},n.prototype.pauseVideo=function(e){this.controlVideo(e,"pause")},n.prototype.getVideoHtml=function(e,t,i,a){var r="",l=this.core.galleryItems[i].__slideVideoInfo||{},u=this.core.galleryItems[i],h=u.title||u.alt;h=h?'title="'+h+'"':"";var p=`allowtransparency="true"
            frameborder="0"
            scrolling="no"
            allowfullscreen
            mozallowfullscreen
            webkitallowfullscreen
            oallowfullscreen
            msallowfullscreen`;if(l.youtube){var m="lg-youtube"+i,v=ZF(l,this.settings.youTubePlayerParams),x=KF(e),b=x?"//www.youtube-nocookie.com/":"//www.youtube.com/";r='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-youtube '+t+'" '+h+' src="'+b+"embed/"+(l.youtube[1]+v)+'" '+p+"></iframe>"}else if(l.vimeo){var m="lg-vimeo"+i,M=QF(this.settings.vimeoPlayerParams,l);r='<iframe allow="autoplay" id='+m+' class="lg-video-object lg-vimeo '+t+'" '+h+' src="//player.vimeo.com/video/'+(l.vimeo[1]+M)+'" '+p+"></iframe>"}else if(l.wistia){var C="lg-wistia"+i,M=$M(this.settings.wistiaPlayerParams);M=M?"?"+M:"",r='<iframe allow="autoplay" id="'+C+'" src="//fast.wistia.net/embed/iframe/'+(l.wistia[4]+M)+'" '+h+' class="wistia_embed lg-video-object lg-wistia '+t+'" name="wistia_embed" '+p+"></iframe>"}else if(l.html5){for(var E="",w=0;w<a.source.length;w++){var R=a.source[w].type,D=R?'type="'+R+'"':"";E+='<source src="'+a.source[w].src+'" '+D+">"}if(a.tracks)for(var O=function(V){var H="",I=a.tracks[V];Object.keys(I||{}).forEach(function(L){H+=L+'="'+I[L]+'" '}),E+="<track "+H+">"},w=0;w<a.tracks.length;w++)O(w);var P="",U=a.attributes||{};Object.keys(U||{}).forEach(function(V){P+=V+'="'+U[V]+'" '}),r='<video class="lg-video-object lg-html5 '+(this.settings.videojs&&this.settings.videojsTheme?this.settings.videojsTheme+" ":"")+" "+(this.settings.videojs?" video-js":"")+'" '+P+`>
                `+E+`
                Your browser does not support HTML5 video.
            </video>`}return r},n.prototype.appendVideos=function(e,t){var i,a=this.getVideoHtml(t.src,t.addClass,t.index,t.html5Video);e.find(".lg-video-cont").append(a);var r=e.find(".lg-video-object").first();if(t.html5Video&&r.on("mousedown.lg.video",function(l){l.stopPropagation()}),this.settings.videojs&&(!((i=this.core.galleryItems[t.index].__slideVideoInfo)===null||i===void 0)&&i.html5))try{return videojs(r.get(),this.settings.videojsOptions)}catch{console.error("lightGallery:- Make sure you have included videojs")}},n.prototype.gotoNextSlideOnVideoEnd=function(e,t){var i=this,a=this.core.getSlideItem(t).find(".lg-video-object").first(),r=this.core.galleryItems[t].__slideVideoInfo||{};if(this.settings.gotoNextSlideOnVideoEnd){if(r.html5)a.on("ended",function(){i.core.goToNextSlide()});else if(r.vimeo)try{new Vimeo.Player(a.get()).on("ended",function(){i.core.goToNextSlide()})}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(r.wistia)try{window._wq=window._wq||[],window._wq.push({id:a.attr("id"),onReady:function(l){l.bind("end",function(){i.core.goToNextSlide()})}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},n.prototype.controlVideo=function(e,t){var i=this.core.getSlideItem(e).find(".lg-video-object").first(),a=this.core.galleryItems[e].__slideVideoInfo||{};if(i.get()){if(a.youtube)try{i.get().contentWindow.postMessage('{"event":"command","func":"'+t+'Video","args":""}',"*")}catch(r){console.error("lightGallery:- "+r)}else if(a.vimeo)try{new Vimeo.Player(i.get())[t]()}catch{console.error("lightGallery:- Make sure you have included //github.com/vimeo/player.js")}else if(a.html5)if(this.settings.videojs)try{videojs(i.get())[t]()}catch{console.error("lightGallery:- Make sure you have included videojs")}else i.get()[t]();else if(a.wistia)try{window._wq=window._wq||[],window._wq.push({id:i.attr("id"),onReady:function(r){r[t]()}})}catch{console.error("lightGallery:- Make sure you have included //fast.wistia.com/assets/external/E-v1.js")}}},n.prototype.loadVideoOnPosterClick=function(e,t){var i=this;if(e.hasClass("lg-video-loaded"))t&&this.playVideo(this.core.index);else if(e.hasClass("lg-has-video"))this.playVideo(this.core.index);else{e.addClass("lg-has-video");var a=void 0,r=this.core.galleryItems[this.core.index].src,l=this.core.galleryItems[this.core.index].video;l&&(a=typeof l=="string"?JSON.parse(l):l);var u=this.appendVideos(e,{src:r,addClass:"",index:this.core.index,html5Video:a});this.gotoNextSlideOnVideoEnd(r,this.core.index);var h=e.find(".lg-object").first().get();e.find(".lg-video-cont").first().append(h),e.addClass("lg-video-loading"),u&&u.ready(function(){u.on("loadedmetadata",function(){i.onVideoLoadAfterPosterClick(e,i.core.index)})}),e.find(".lg-video-object").first().on("load.lg error.lg loadedmetadata.lg",function(){setTimeout(function(){i.onVideoLoadAfterPosterClick(e,i.core.index)},50)})}},n.prototype.onVideoLoadAfterPosterClick=function(e,t){e.addClass("lg-video-loaded"),this.playVideo(t)},n.prototype.destroy=function(){this.core.LGel.off(".lg.video"),this.core.LGel.off(".video")},n}();/*!
 * lightgallery | 2.9.0 | October 1st 2025
 * http://www.lightgalleryjs.com/
 * Copyright (c) 2020 Sachin Neravath;
 * @license GPLv3
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Db=function(){return Db=Object.assign||function(e){for(var t,i=1,a=arguments.length;i<a;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Db.apply(this,arguments)},$F={scale:1,zoom:!0,infiniteZoom:!0,actualSize:!0,showZoomInOutIcons:!1,actualSizeIcons:{zoomIn:"lg-zoom-in",zoomOut:"lg-zoom-out"},enableZoomAfter:300,zoomPluginStrings:{zoomIn:"Zoom in",zoomOut:"Zoom out",viewActualSize:"View actual size"}},bc={containerResize:"lgContainerResize",beforeOpen:"lgBeforeOpen",afterOpen:"lgAfterOpen",slideItemLoad:"lgSlideItemLoad",afterSlide:"lgAfterSlide",rotateLeft:"lgRotateLeft",rotateRight:"lgRotateRight",flipHorizontal:"lgFlipHorizontal",flipVertical:"lgFlipVertical"},kS=500,eH=function(){function n(e,t){return this.core=e,this.$LG=t,this.settings=Db(Db({},$F),this.core.settings),this}return n.prototype.buildTemplates=function(){var e=this.settings.showZoomInOutIcons?'<button id="'+this.core.getIdName("lg-zoom-in")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomIn+'" class="lg-zoom-in lg-icon"></button><button id="'+this.core.getIdName("lg-zoom-out")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.zoomOut+'" class="lg-zoom-out lg-icon"></button>':"";this.settings.actualSize&&(e+='<button id="'+this.core.getIdName("lg-actual-size")+'" type="button" aria-label="'+this.settings.zoomPluginStrings.viewActualSize+'" class="'+this.settings.actualSizeIcons.zoomIn+' lg-icon"></button>'),this.core.outer.addClass("lg-use-transition-for-zoom"),this.core.$toolbar.first().append(e)},n.prototype.enableZoom=function(e){var t=this,i=this.settings.enableZoomAfter+e.detail.delay;this.$LG("body").first().hasClass("lg-from-hash")&&e.detail.delay?i=0:this.$LG("body").first().removeClass("lg-from-hash"),this.zoomableTimeout=setTimeout(function(){t.isImageSlide(t.core.index)&&(t.core.getSlideItem(e.detail.index).addClass("lg-zoomable"),e.detail.index===t.core.index&&t.setZoomEssentials())},i+30)},n.prototype.enableZoomOnSlideItemLoad=function(){this.core.LGel.on(bc.slideItemLoad+".zoom",this.enableZoom.bind(this))},n.prototype.getDragCords=function(e){return{x:e.pageX,y:e.pageY}},n.prototype.getSwipeCords=function(e){var t=e.touches[0].pageX,i=e.touches[0].pageY;return{x:t,y:i}},n.prototype.getDragAllowedAxises=function(e,t){if(!this.containerRect)return{allowX:!1,allowY:!1};var i=this.core.getSlideItem(this.core.index).find(".lg-image").first().get(),a=0,r=0,l=i.getBoundingClientRect();e?(a=i.offsetHeight*e,r=i.offsetWidth*e):t?(a=l.height+t*l.height,r=l.width+t*l.width):(a=l.height,r=l.width);var u=a>this.containerRect.height,h=r>this.containerRect.width;return{allowX:h,allowY:u}},n.prototype.setZoomEssentials=function(){this.containerRect=this.core.$content.get().getBoundingClientRect()},n.prototype.zoomImage=function(e,t,i,a){if(!(!this.containerRect||Math.abs(t)<=0)){var r=this.containerRect.width/2+this.containerRect.left,l=this.containerRect.height/2+this.containerRect.top+this.scrollTop,u,h;e===1&&(this.positionChanged=!1);var p=this.getDragAllowedAxises(0,t),m=p.allowY,v=p.allowX;this.positionChanged&&(u=this.left/(this.scale-t),h=this.top/(this.scale-t),this.pageX=r-u,this.pageY=l-h,this.positionChanged=!1);var x=this.getPossibleSwipeDragCords(t),b,M,C=r-this.pageX,E=l-this.pageY;if(e-t>1){var w=(e-t)/Math.abs(t);C=(t<0?-C:C)+this.left*(w+(t<0?-1:1)),E=(t<0?-E:E)+this.top*(w+(t<0?-1:1)),b=C/w,M=E/w}else{var w=(e-t)*t;b=C*w,M=E*w}i&&(v?this.isBeyondPossibleLeft(b,x.minX)?b=x.minX:this.isBeyondPossibleRight(b,x.maxX)&&(b=x.maxX):e>1&&(b<x.minX?b=x.minX:b>x.maxX&&(b=x.maxX)),m?this.isBeyondPossibleTop(M,x.minY)?M=x.minY:this.isBeyondPossibleBottom(M,x.maxY)&&(M=x.maxY):e>1&&(M<x.minY?M=x.minY:M>x.maxY&&(M=x.maxY))),this.setZoomStyles({x:b,y:M,scale:e}),this.left=b,this.top=M,a&&this.setZoomImageSize()}},n.prototype.resetImageTranslate=function(e){if(this.isImageSlide(e)){var t=this.core.getSlideItem(e).find(".lg-image").first();this.imageReset=!1,t.removeClass("reset-transition reset-transition-y reset-transition-x"),this.core.outer.removeClass("lg-actual-size"),t.css("width","auto").css("height","auto"),setTimeout(function(){t.removeClass("no-transition")},10)}},n.prototype.setZoomImageSize=function(){var e=this,t=this.core.getSlideItem(this.core.index).find(".lg-image").first();setTimeout(function(){var i=e.getCurrentImageActualSizeScale();e.scale>=i&&(t.addClass("no-transition"),e.imageReset=!0)},kS),setTimeout(function(){var i=e.getCurrentImageActualSizeScale();if(e.scale>=i){var a=e.getDragAllowedAxises(e.scale);t.css("width",t.get().naturalWidth+"px").css("height",t.get().naturalHeight+"px"),e.core.outer.addClass("lg-actual-size"),a.allowX&&a.allowY?t.addClass("reset-transition"):a.allowX&&!a.allowY?t.addClass("reset-transition-x"):!a.allowX&&a.allowY&&t.addClass("reset-transition-y")}},kS+50)},n.prototype.setZoomStyles=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),i=this.core.getSlideItem(this.core.index).find(".lg-image").first(),a=this.core.outer.find(".lg-current .lg-dummy-img").first();this.scale=e.scale,i.css("transform","scale3d("+e.scale+", "+e.scale+", 1)"),a.css("transform","scale3d("+e.scale+", "+e.scale+", 1)");var r="translate3d("+e.x+"px, "+e.y+"px, 0)";t.css("transform",r)},n.prototype.setActualSize=function(e,t){var i=this;if(!this.zoomInProgress){this.zoomInProgress=!0;var a=this.core.galleryItems[this.core.index];this.resetImageTranslate(e),setTimeout(function(){if(!(!a.src||i.core.outer.hasClass("lg-first-slide-loading"))){var r=i.getCurrentImageActualSizeScale(),l=i.scale;i.core.outer.hasClass("lg-zoomed")?i.scale=1:i.scale=i.getScale(r),i.setPageCords(t),i.beginZoom(i.scale),i.zoomImage(i.scale,i.scale-l,!0,!0)}},50),setTimeout(function(){i.core.outer.removeClass("lg-grabbing").addClass("lg-grab")},60),setTimeout(function(){i.zoomInProgress=!1},kS+110)}},n.prototype.getNaturalWidth=function(e){var t=this.core.getSlideItem(e).find(".lg-image").first(),i=this.core.galleryItems[e].width;return i?parseFloat(i):t.get().naturalWidth},n.prototype.getActualSizeScale=function(e,t){var i,a;return e>=t?(i=e/t,a=i||2):a=1,a},n.prototype.getCurrentImageActualSizeScale=function(){var e=this.core.getSlideItem(this.core.index).find(".lg-image").first(),t=e.get().offsetWidth,i=this.getNaturalWidth(this.core.index)||t;return this.getActualSizeScale(i,t)},n.prototype.getPageCords=function(e){var t={};if(e)t.x=e.pageX||e.touches[0].pageX,t.y=e.pageY||e.touches[0].pageY;else{var i=this.core.$content.get().getBoundingClientRect();t.x=i.width/2+i.left,t.y=i.height/2+this.scrollTop+i.top}return t},n.prototype.setPageCords=function(e){var t=this.getPageCords(e);this.pageX=t.x,this.pageY=t.y},n.prototype.manageActualPixelClassNames=function(){var e=this.core.getElementById("lg-actual-size");e.removeClass(this.settings.actualSizeIcons.zoomIn).addClass(this.settings.actualSizeIcons.zoomOut)},n.prototype.beginZoom=function(e){return this.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e>1?(this.core.outer.addClass("lg-zoomed"),this.manageActualPixelClassNames()):this.resetZoom(),e>1},n.prototype.getScale=function(e){var t=this.getCurrentImageActualSizeScale();return e<1?e=1:e>t&&(e=t),e},n.prototype.init=function(){var e=this;if(this.settings.zoom){this.buildTemplates(),this.enableZoomOnSlideItemLoad();var t=null;this.core.outer.on("dblclick.lg",function(i){e.$LG(i.target).hasClass("lg-image")&&e.setActualSize(e.core.index,i)}),this.core.outer.on("touchstart.lg",function(i){var a=e.$LG(i.target);i.touches.length===1&&a.hasClass("lg-image")&&(t?(clearTimeout(t),t=null,i.preventDefault(),e.setActualSize(e.core.index,i)):t=setTimeout(function(){t=null},300))}),this.core.LGel.on(bc.containerResize+".zoom "+bc.rotateRight+".zoom "+bc.rotateLeft+".zoom "+bc.flipHorizontal+".zoom "+bc.flipVertical+".zoom",function(){if(!(!e.core.lgOpened||!e.isImageSlide(e.core.index)||e.core.touchAction)){var i=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();e.top=0,e.left=0,e.setZoomEssentials(),e.setZoomSwipeStyles(i,{x:0,y:0}),e.positionChanged=!0}}),this.$LG(window).on("scroll.lg.zoom.global"+this.core.lgId,function(){e.core.lgOpened&&(e.scrollTop=e.$LG(window).scrollTop())}),this.core.getElementById("lg-zoom-out").on("click.lg",function(){if(e.isImageSlide(e.core.index)){var i=0;e.imageReset&&(e.resetImageTranslate(e.core.index),i=50),setTimeout(function(){var a=e.scale-e.settings.scale;a<1&&(a=1),e.beginZoom(a),e.zoomImage(a,-e.settings.scale,!0,!e.settings.infiniteZoom)},i)}}),this.core.getElementById("lg-zoom-in").on("click.lg",function(){e.zoomIn()}),this.core.getElementById("lg-actual-size").on("click.lg",function(){e.setActualSize(e.core.index)}),this.core.LGel.on(bc.beforeOpen+".zoom",function(){e.core.outer.find(".lg-item").removeClass("lg-zoomable")}),this.core.LGel.on(bc.afterOpen+".zoom",function(){e.scrollTop=e.$LG(window).scrollTop(),e.pageX=e.core.outer.width()/2,e.pageY=e.core.outer.height()/2+e.scrollTop,e.scale=1}),this.core.LGel.on(bc.afterSlide+".zoom",function(i){var a=i.detail.prevIndex;e.scale=1,e.positionChanged=!1,e.zoomInProgress=!1,e.resetZoom(a),e.resetImageTranslate(a),e.isImageSlide(e.core.index)&&e.setZoomEssentials()}),this.zoomDrag(),this.pinchZoom(),this.zoomSwipe(),this.zoomableTimeout=!1,this.positionChanged=!1,this.zoomInProgress=!1}},n.prototype.zoomIn=function(){if(this.isImageSlide(this.core.index)){var e=this.scale+this.settings.scale;this.settings.infiniteZoom||(e=this.getScale(e)),this.beginZoom(e),this.zoomImage(e,Math.min(this.settings.scale,e-this.scale),!0,!this.settings.infiniteZoom)}},n.prototype.resetZoom=function(e){this.core.outer.removeClass("lg-zoomed lg-zoom-drag-transition");var t=this.core.getElementById("lg-actual-size"),i=this.core.getSlideItem(e!==void 0?e:this.core.index);t.removeClass(this.settings.actualSizeIcons.zoomOut).addClass(this.settings.actualSizeIcons.zoomIn),i.find(".lg-img-wrap").first().removeAttr("style"),i.find(".lg-image").first().removeAttr("style"),this.scale=1,this.left=0,this.top=0,this.setPageCords()},n.prototype.getTouchDistance=function(e){return Math.sqrt((e.touches[0].pageX-e.touches[1].pageX)*(e.touches[0].pageX-e.touches[1].pageX)+(e.touches[0].pageY-e.touches[1].pageY)*(e.touches[0].pageY-e.touches[1].pageY))},n.prototype.pinchZoom=function(){var e=this,t=0,i=!1,a=1,r=0,l=this.core.getSlideItem(this.core.index);this.core.outer.on("touchstart.lg",function(u){if(l=e.core.getSlideItem(e.core.index),!!e.isImageSlide(e.core.index)&&u.touches.length===2){if(u.preventDefault(),e.core.outer.hasClass("lg-first-slide-loading"))return;a=e.scale||1,e.core.outer.removeClass("lg-zoom-drag-transition lg-zoom-dragging"),e.setPageCords(u),e.resetImageTranslate(e.core.index),e.core.touchAction="pinch",t=e.getTouchDistance(u)}}),this.core.$inner.on("touchmove.lg",function(u){if(u.touches.length===2&&e.core.touchAction==="pinch"&&(e.$LG(u.target).hasClass("lg-item")||l.get().contains(u.target))){u.preventDefault();var h=e.getTouchDistance(u),p=t-h;if(!i&&Math.abs(p)>5&&(i=!0),i){r=e.scale;var m=Math.max(1,a+-p*.02);e.scale=Math.round((m+Number.EPSILON)*100)/100;var v=e.scale-r;e.zoomImage(e.scale,Math.round((v+Number.EPSILON)*100)/100,!1,!1)}}}),this.core.$inner.on("touchend.lg",function(u){if(e.core.touchAction==="pinch"&&(e.$LG(u.target).hasClass("lg-item")||l.get().contains(u.target))){if(i=!1,t=0,e.scale<=1)e.resetZoom();else{var h=e.getCurrentImageActualSizeScale();if(e.scale>=h){var p=h-e.scale;p===0&&(p=.01),e.zoomImage(h,p,!1,!0)}e.manageActualPixelClassNames(),e.core.outer.addClass("lg-zoomed")}e.core.touchAction=void 0}})},n.prototype.touchendZoom=function(e,t,i,a,r){var l=t.x-e.x,u=t.y-e.y,h=Math.abs(l)/r+1,p=Math.abs(u)/r+1;h>2&&(h+=1),p>2&&(p+=1),l=l*h,u=u*p;var m=this.core.getSlideItem(this.core.index).find(".lg-img-wrap").first(),v={};v.x=this.left+l,v.y=this.top+u;var x=this.getPossibleSwipeDragCords();(Math.abs(l)>15||Math.abs(u)>15)&&(a&&(this.isBeyondPossibleTop(v.y,x.minY)?v.y=x.minY:this.isBeyondPossibleBottom(v.y,x.maxY)&&(v.y=x.maxY)),i&&(this.isBeyondPossibleLeft(v.x,x.minX)?v.x=x.minX:this.isBeyondPossibleRight(v.x,x.maxX)&&(v.x=x.maxX)),a?this.top=v.y:v.y=this.top,i?this.left=v.x:v.x=this.left,this.setZoomSwipeStyles(m,v),this.positionChanged=!0)},n.prototype.getZoomSwipeCords=function(e,t,i,a,r){var l={};if(a){if(l.y=this.top+(t.y-e.y),this.isBeyondPossibleTop(l.y,r.minY)){var u=r.minY-l.y;l.y=r.minY-u/6}else if(this.isBeyondPossibleBottom(l.y,r.maxY)){var h=l.y-r.maxY;l.y=r.maxY+h/6}}else l.y=this.top;if(i){if(l.x=this.left+(t.x-e.x),this.isBeyondPossibleLeft(l.x,r.minX)){var p=r.minX-l.x;l.x=r.minX-p/6}else if(this.isBeyondPossibleRight(l.x,r.maxX)){var m=l.x-r.maxX;l.x=r.maxX+m/6}}else l.x=this.left;return l},n.prototype.isBeyondPossibleLeft=function(e,t){return e>=t},n.prototype.isBeyondPossibleRight=function(e,t){return e<=t},n.prototype.isBeyondPossibleTop=function(e,t){return e>=t},n.prototype.isBeyondPossibleBottom=function(e,t){return e<=t},n.prototype.isImageSlide=function(e){var t=this.core.galleryItems[e];return this.core.getSlideType(t)==="image"},n.prototype.getPossibleSwipeDragCords=function(e){var t=this.core.getSlideItem(this.core.index).find(".lg-image").first(),i=this.core.mediaContainerPosition.bottom,a=t.get().getBoundingClientRect(),r=a.height,l=a.width;e&&(r=r+e*r,l=l+e*l);var u=(r-this.containerRect.height)/2,h=(this.containerRect.height-r)/2+i,p=(l-this.containerRect.width)/2,m=(this.containerRect.width-l)/2,v={minY:u,maxY:h,minX:p,maxX:m};return v},n.prototype.setZoomSwipeStyles=function(e,t){e.css("transform","translate3d("+t.x+"px, "+t.y+"px, 0)")},n.prototype.zoomSwipe=function(){var e=this,t={},i={},a=!1,r=!1,l=!1,u=new Date,h=new Date,p,m,v=this.core.getSlideItem(this.core.index);this.core.$inner.on("touchstart.lg",function(x){if(e.isImageSlide(e.core.index)&&(v=e.core.getSlideItem(e.core.index),(e.$LG(x.target).hasClass("lg-item")||v.get().contains(x.target))&&x.touches.length===1&&e.core.outer.hasClass("lg-zoomed"))){x.preventDefault(),u=new Date,e.core.touchAction="zoomSwipe",m=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var b=e.getDragAllowedAxises(0);l=b.allowY,r=b.allowX,(r||l)&&(t=e.getSwipeCords(x)),p=e.getPossibleSwipeDragCords(),e.core.outer.addClass("lg-zoom-dragging lg-zoom-drag-transition")}}),this.core.$inner.on("touchmove.lg",function(x){if(x.touches.length===1&&e.core.touchAction==="zoomSwipe"&&(e.$LG(x.target).hasClass("lg-item")||v.get().contains(x.target))){x.preventDefault(),e.core.touchAction="zoomSwipe",i=e.getSwipeCords(x);var b=e.getZoomSwipeCords(t,i,r,l,p);(Math.abs(i.x-t.x)>15||Math.abs(i.y-t.y)>15)&&(a=!0,e.setZoomSwipeStyles(m,b))}}),this.core.$inner.on("touchend.lg",function(x){if(e.core.touchAction==="zoomSwipe"&&(e.$LG(x.target).hasClass("lg-item")||v.get().contains(x.target))){if(x.preventDefault(),e.core.touchAction=void 0,e.core.outer.removeClass("lg-zoom-dragging"),!a)return;a=!1,h=new Date;var b=h.valueOf()-u.valueOf();e.touchendZoom(t,i,r,l,b)}})},n.prototype.zoomDrag=function(){var e=this,t={},i={},a=!1,r=!1,l=!1,u=!1,h,p,m,v;this.core.outer.on("mousedown.lg.zoom",function(x){if(e.isImageSlide(e.core.index)){var b=e.core.getSlideItem(e.core.index);if(e.$LG(x.target).hasClass("lg-item")||b.get().contains(x.target)){h=new Date,v=e.core.getSlideItem(e.core.index).find(".lg-img-wrap").first();var M=e.getDragAllowedAxises(0);u=M.allowY,l=M.allowX,e.core.outer.hasClass("lg-zoomed")&&e.$LG(x.target).hasClass("lg-object")&&(l||u)&&(x.preventDefault(),t=e.getDragCords(x),m=e.getPossibleSwipeDragCords(),a=!0,e.core.outer.removeClass("lg-grab").addClass("lg-grabbing lg-zoom-drag-transition lg-zoom-dragging"))}}}),this.$LG(window).on("mousemove.lg.zoom.global"+this.core.lgId,function(x){if(a){r=!0,i=e.getDragCords(x);var b=e.getZoomSwipeCords(t,i,l,u,m);e.setZoomSwipeStyles(v,b)}}),this.$LG(window).on("mouseup.lg.zoom.global"+this.core.lgId,function(x){if(a){if(p=new Date,a=!1,e.core.outer.removeClass("lg-zoom-dragging"),r&&(t.x!==i.x||t.y!==i.y)){i=e.getDragCords(x);var b=p.valueOf()-h.valueOf();e.touchendZoom(t,i,l,u,b)}r=!1}e.core.outer.removeClass("lg-grabbing").addClass("lg-grab")})},n.prototype.closeGallery=function(){this.resetZoom(),this.zoomInProgress=!1},n.prototype.destroy=function(){this.$LG(window).off(".lg.zoom.global"+this.core.lgId),this.core.LGel.off(".lg.zoom"),this.core.LGel.off(".zoom"),clearTimeout(this.zoomableTimeout),this.zoomableTimeout=!1},n}();const tH=[{src:"./vid/VID-20251015-WA0013.mp4",thumb:"./vid/VID-20251015-WA0013.mp4",title:"Video 1"},{src:"./vid/VID-20251015-WA0014.mp4",thumb:"./vid/VID-20251015-WA0014.mp4",title:"Video 2"},{src:"./vid/VID-20251015-WA0021.mp4",thumb:"./vid/VID-20251015-WA0021.mp4",title:"Video 3"},{src:"./vid/WhatsApp Video 2025-10-15 at 16.56.26_3a05fde7.mp4",thumb:"./vid/WhatsApp Video 2025-10-15 at 16.56.26_3a05fde7.mp4",title:"Video 4"},{src:"./vid/WhatsApp Video 2025-10-15 at 17.14.48_1e4fb5fe.mp4",thumb:"./vid/WhatsApp Video 2025-10-15 at 17.14.48_1e4fb5fe.mp4",title:"Video 5"},{src:"./vid/WhatsApp Video 2025-10-15 at 17.14.56_59ca9b6e.mp4",thumb:"./vid/WhatsApp Video 2025-10-15 at 17.14.56_59ca9b6e.mp4",title:"Video 6"}];function nH(){const[n,e]=ne.useState(null);return B.jsxs("section",{className:"w-full py-14 bg-white dark:bg-gray-900 transition-colors duration-500",children:[B.jsx("h2",{className:"text-4xl font-bold text-center mb-10 tracking-tight text-gray-900 dark:text-white",children:"Video Highlights"}),B.jsx("div",{className:"grid gap-6 grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 px-4 md:px-12 lg:px-24",children:tH.map((t,i)=>B.jsxs("div",{onClick:()=>e(t),className:"group relative overflow-hidden rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer hover:scale-[1.03]",children:[t.thumb.endsWith(".mp4")?B.jsx("video",{src:t.thumb,muted:!0,loop:!0,autoPlay:!0,playsInline:!0,className:"w-full h-44 sm:h-52 object-cover opacity-80 group-hover:opacity-100 transition-all duration-500"}):B.jsx("img",{src:t.thumb,alt:t.title,className:"w-full h-44 sm:h-52 object-cover opacity-80 group-hover:opacity-100 transition-all duration-500"}),B.jsx("div",{className:"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition duration-500 flex items-center justify-center",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-indigo-300 opacity-90 group-hover:opacity-100 transition duration-500",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.25l13.5 6.75-13.5 6.75V5.25z"})})}),B.jsx("div",{className:"absolute bottom-0 bg-gradient-to-t from-black/80 to-transparent p-3 text-sm text-center w-full text-white font-medium",children:t.title})]},i))}),n&&B.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center backdrop-blur-md",onClick:()=>e(null),children:B.jsxs("div",{onClick:t=>t.stopPropagation(),className:"relative max-w-5xl w-full px-4 sm:px-8",children:[B.jsx("video",{src:n.src,controls:!0,autoPlay:!0,className:"w-full rounded-xl shadow-2xl aspect-video"}),B.jsx("button",{onClick:()=>e(null),className:"absolute -top-12 right-4 sm:right-8 p-2 text-white bg-indigo-600 rounded-full hover:bg-indigo-700 transition duration-300 shadow-lg","aria-label":"Close video player",children:B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-6 h-6",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})]})}const iH=[{src:"./img/accounts1.jpg",thumb:"./img/accounts1.jpg",subHtml:"<h4>Accounts Office 1</h4>"},{src:"./img/accounts2.jpg",thumb:"./img/accounts2.jpg",subHtml:"<h4>Accounts Office 2</h4>"},{src:"./img/accounts3.jpg",thumb:"./img/accounts3.jpg",subHtml:"<h4>Accounts Office 3</h4>"},{src:"./img/campus1.jpg",thumb:"./img/campus1.jpg",subHtml:"<h4>Campus View 1</h4>"},{src:"./img/campus2.jpg",thumb:"./img/campus2.jpg",subHtml:"<h4>Campus View 2</h4>"},{src:"./img/campus3.jpg",thumb:"./img/campus3.jpg",subHtml:"<h4>Campus View 3</h4>"},{src:"./img/campus4.jpg",thumb:"./img/campus4.jpg",subHtml:"<h4>Campus View 4</h4>"},{src:"./img/campus5.jpg",thumb:"./img/campus5.jpg",subHtml:"<h4>Campus View 5</h4>"},{src:"./img/campus100.jpg",thumb:"./img/campus100.jpg",subHtml:"<h4>Campus View 6</h4>"},{src:"./img/campus101.jpg",thumb:"./img/campus101.jpg",subHtml:"<h4>Campus View 7</h4>"},{src:"./img/canteen1.jpg",thumb:"./img/canteen1.jpg",subHtml:"<h4>Canteen 1</h4>"},{src:"./img/canteen2.jpg",thumb:"./img/canteen2.jpg",subHtml:"<h4>Canteen 2</h4>"},{src:"./img/canteen3.jpg",thumb:"./img/canteen3.jpg",subHtml:"<h4>Canteen 3</h4>"},{src:"./img/canteen4.jpg",thumb:"./img/canteen4.jpg",subHtml:"<h4>Canteen 4</h4>"},{src:"./img/chairmanOffice1.jpg",thumb:"./img/chairmanOffice1.jpg",subHtml:"<h4>Chairman Office 1</h4>"},{src:"./img/chairmanOffice2.jpg",thumb:"./img/chairmanOffice2.jpg",subHtml:"<h4>Chairman Office 2</h4>"},{src:"./img/classroom1.jpg",thumb:"./img/classroom1.jpg",subHtml:"<h4>Classroom 1</h4>"},{src:"./img/classroom2.jpg",thumb:"./img/classroom2.jpg",subHtml:"<h4>Classroom 2</h4>"},{src:"./img/classroom3.jpg",thumb:"./img/classroom3.jpg",subHtml:"<h4>Classroom 3</h4>"},{src:"./img/classroom4.jpg",thumb:"./img/classroom4.jpg",subHtml:"<h4>Classroom 4</h4>"},{src:"./img/classroom5.jpg",thumb:"./img/classroom5.jpg",subHtml:"<h4>Classroom 5</h4>"},{src:"./img/classroom6.jpg",thumb:"./img/classroom6.jpg",subHtml:"<h4>Classroom 6</h4>"},{src:"./img/classroom7.jpg",thumb:"./img/classroom7.jpg",subHtml:"<h4>Classroom 7</h4>"},{src:"./img/classroom8.jpg",thumb:"./img/classroom8.jpg",subHtml:"<h4>Classroom 8</h4>"},{src:"./img/classroom9.jpg",thumb:"./img/classroom9.jpg",subHtml:"<h4>Classroom 9</h4>"},{src:"./img/classroom10.jpg",thumb:"./img/classroom10.jpg",subHtml:"<h4>Classroom 10</h4>"},{src:"./img/classroom11.jpg",thumb:"./img/classroom11.jpg",subHtml:"<h4>Classroom 11</h4>"},{src:"./img/classroom12.jpg",thumb:"./img/classroom12.jpg",subHtml:"<h4>Classroom 12</h4>"},{src:"./img/hostelOffice1.jpg",thumb:"./img/hostelOffice1.jpg",subHtml:"<h4>Hostel Office 1</h4>"},{src:"./img/hostelOffice2.jpg",thumb:"./img/hostelOffice2.jpg",subHtml:"<h4>Hostel Office 2</h4>"},{src:"./img/lab1.jpg",thumb:"./img/lab1.jpg",subHtml:"<h4>Lab 1</h4>"},{src:"./img/lab2.jpg",thumb:"./img/lab2.jpg",subHtml:"<h4>Lab 2</h4>"},{src:"./img/lab3.jpg",thumb:"./img/lab3.jpg",subHtml:"<h4>Lab 3</h4>"},{src:"./img/lab4.jpg",thumb:"./img/lab4.jpg",subHtml:"<h4>Lab 4</h4>"},{src:"./img/students1.jpg",thumb:"./img/students1.jpg",subHtml:"<h4>Students 1</h4>"},{src:"./img/students2.jpg",thumb:"./img/students2.jpg",subHtml:"<h4>Students 2</h4>"},{src:"./img/new/IMG-20251015-WA0002.jpg",thumb:"./img/new/IMG-20251015-WA0002.jpg",subHtml:"<h4>Photo 2</h4>"},{src:"./img/new/IMG-20251015-WA0003.jpg",thumb:"./img/new/IMG-20251015-WA0003.jpg",subHtml:"<h4>Photo 3</h4>"},{src:"./img/new/IMG-20251015-WA0004.jpg",thumb:"./img/new/IMG-20251015-WA0004.jpg",subHtml:"<h4>Photo 4</h4>"},{src:"./img/new/IMG-20251015-WA0005.jpg",thumb:"./img/new/IMG-20251015-WA0005.jpg",subHtml:"<h4>Photo 5</h4>"},{src:"./img/new/IMG-20251015-WA0006.jpg",thumb:"./img/new/IMG-20251015-WA0006.jpg",subHtml:"<h4>Photo 6</h4>"},{src:"./img/new/IMG-20251015-WA0007.jpg",thumb:"./img/new/IMG-20251015-WA0007.jpg",subHtml:"<h4>Photo 7</h4>"},{src:"./img/new/IMG-20251015-WA0008.jpg",thumb:"./img/new/IMG-20251015-WA0008.jpg",subHtml:"<h4>Photo 8</h4>"},{src:"./img/new/IMG-20251015-WA0009.jpg",thumb:"./img/new/IMG-20251015-WA0009.jpg",subHtml:"<h4>Photo 9</h4>"},{src:"./img/new/IMG-20251015-WA0010.jpg",thumb:"./img/new/IMG-20251015-WA0010.jpg",subHtml:"<h4>Photo 10</h4>"},{src:"./img/new/IMG-20251015-WA0011.jpg",thumb:"./img/new/IMG-20251015-WA0011.jpg",subHtml:"<h4>Photo 11</h4>"},{src:"./img/new/IMG-20251015-WA0012.jpg",thumb:"./img/new/IMG-20251015-WA0012.jpg",subHtml:"<h4>Photo 12</h4>"},{src:"./img/new/IMG-20251015-WA0013.jpg",thumb:"./img/new/IMG-20251015-WA0013.jpg",subHtml:"<h4>Photo 13</h4>"},{src:"./img/new/IMG-20251015-WA0014.jpg",thumb:"./img/new/IMG-20251015-WA0014.jpg",subHtml:"<h4>Photo 14</h4>"},{src:"./img/new/IMG-20251015-WA0015.jpg",thumb:"./img/new/IMG-20251015-WA0015.jpg",subHtml:"<h4>Photo 15</h4>"},{src:"./img/new/IMG-20251015-WA0016.jpg",thumb:"./img/new/IMG-20251015-WA0016.jpg",subHtml:"<h4>Photo 16</h4>"},{src:"./img/new/IMG-20251015-WA0017.jpg",thumb:"./img/new/IMG-20251015-WA0017.jpg",subHtml:"<h4>Photo 17</h4>"},{src:"./img/new/IMG-20251015-WA0018.jpg",thumb:"./img/new/IMG-20251015-WA0018.jpg",subHtml:"<h4>Photo 18</h4>"},{src:"./img/new/IMG-20251015-WA0019.jpg",thumb:"./img/new/IMG-20251015-WA0019.jpg",subHtml:"<h4>Photo 19</h4>"},{src:"./img/new/IMG-20251015-WA0020.jpg",thumb:"./img/new/IMG-20251015-WA0020.jpg",subHtml:"<h4>Photo 20</h4>"},{src:"./img/new/IMG-20251015-WA0021.jpg",thumb:"./img/new/IMG-20251015-WA0021.jpg",subHtml:"<h4>Photo 21</h4>"},{src:"./img/new/IMG-20251015-WA0023.jpg",thumb:"./img/new/IMG-20251015-WA0023.jpg",subHtml:"<h4>Photo 22</h4>"},{src:"./img/new/IMG-20251015-WA0024.jpg",thumb:"./img/new/IMG-20251015-WA0024.jpg",subHtml:"<h4>Photo 23</h4>"},{src:"./img/new/IMG-20251015-WA0025.jpg",thumb:"./img/new/IMG-20251015-WA0025.jpg",subHtml:"<h4>Photo 24</h4>"},{src:"./img/new/IMG-20251015-WA0026.jpg",thumb:"./img/new/IMG-20251015-WA0026.jpg",subHtml:"<h4>Photo 25</h4>"},{src:"./img/new/IMG-20251015-WA0027.jpg",thumb:"./img/new/IMG-20251015-WA0027.jpg",subHtml:"<h4>Photo 26</h4>"},{src:"./img/new/IMG-20251015-WA0028.jpg",thumb:"./img/new/IMG-20251015-WA0028.jpg",subHtml:"<h4>Photo 27</h4>"},{src:"./img/new/IMG-20251015-WA0029.jpg",thumb:"./img/new/IMG-20251015-WA0029.jpg",subHtml:"<h4>Photo 28</h4>"},{src:"./img/new/IMG-20251015-WA0030.jpg",thumb:"./img/new/IMG-20251015-WA0030.jpg",subHtml:"<h4>Photo 29</h4>"},{src:"./img/new/IMG-20251015-WA0031.jpg",thumb:"./img/new/IMG-20251015-WA0031.jpg",subHtml:"<h4>Photo 30</h4>"},{src:"./img/new/IMG-20251015-WA0032.jpg",thumb:"./img/new/IMG-20251015-WA0032.jpg",subHtml:"<h4>Photo 31</h4>"},{src:"./img/new/IMG-20251015-WA0033.jpg",thumb:"./img/new/IMG-20251015-WA0033.jpg",subHtml:"<h4>Photo 32</h4>"},{src:"./img/new/IMG-20251015-WA0034.jpg",thumb:"./img/new/IMG-20251015-WA0034.jpg",subHtml:"<h4>Photo 33</h4>"},{src:"./img/new/IMG-20251015-WA0035.jpg",thumb:"./img/new/IMG-20251015-WA0035.jpg",subHtml:"<h4>Photo 34</h4>"},{src:"./img/new/IMG-20251015-WA0036.jpg",thumb:"./img/new/IMG-20251015-WA0036.jpg",subHtml:"<h4>Photo 35</h4>"},{src:"./img/new/IMG-20251015-WA0037.jpg",thumb:"./img/new/IMG-20251015-WA0037.jpg",subHtml:"<h4>Photo 36</h4>"},{src:"./img/new/IMG-20251015-WA0038.jpg",thumb:"./img/new/IMG-20251015-WA0038.jpg",subHtml:"<h4>Photo 37</h4>"},{src:"./img/new/IMG-20251015-WA0039.jpg",thumb:"./img/new/IMG-20251015-WA0039.jpg",subHtml:"<h4>Photo 38</h4>"},{src:"./img/new/IMG-20251015-WA0040.jpg",thumb:"./img/new/IMG-20251015-WA0040.jpg",subHtml:"<h4>Photo 39</h4>"},{src:"./img/new/IMG-20251015-WA0041.jpg",thumb:"./img/new/IMG-20251015-WA0041.jpg",subHtml:"<h4>Photo 40</h4>"},{src:"./img/new/IMG-20251015-WA0042.jpg",thumb:"./img/new/IMG-20251015-WA0042.jpg",subHtml:"<h4>Photo 41</h4>"},{src:"./img/new/IMG-20251015-WA0043.jpg",thumb:"./img/new/IMG-20251015-WA0043.jpg",subHtml:"<h4>Photo 42</h4>"},{src:"./img/new/IMG-20251015-WA0044.jpg",thumb:"./img/new/IMG-20251015-WA0044.jpg",subHtml:"<h4>Photo 43</h4>"},{src:"./img/new/IMG-20251015-WA0045.jpg",thumb:"./img/new/IMG-20251015-WA0045.jpg",subHtml:"<h4>Photo 44</h4>"},{src:"./img/new/IMG-20251015-WA0046.jpg",thumb:"./img/new/IMG-20251015-WA0046.jpg",subHtml:"<h4>Photo 45</h4>"},{src:"./img/new/IMG-20251016-WA0012.jpg",thumb:"./img/new/IMG-20251016-WA0012.jpg",subHtml:"<h4>Photo 46</h4>"},{src:"./img/new/IMG-20251016-WA0013.jpg",thumb:"./img/new/IMG-20251016-WA0013.jpg",subHtml:"<h4>Photo 47</h4>"},{src:"./img/new/IMG-20251016-WA0014.jpg",thumb:"./img/new/IMG-20251016-WA0014.jpg",subHtml:"<h4>Photo 48</h4>"}];function aH(){const n=()=>{console.log("lightGallery has been initialized")};return B.jsxs("div",{className:"py-16 px-4 bg-white dark:bg-gray-900 min-h-screen",children:[B.jsxs("div",{className:"text-center mb-12",children:[B.jsxs("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white sm:text-4xl",children:["Our ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Gallery"})]}),B.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-300 sm:mt-4",children:"Explore life at Tetrahedron through our photo and video collection"})]}),B.jsx(WF,{onInit:n,speed:500,plugins:[eH,JF],elementClassNames:"columns-1 sm:columns-2 md:columns-3 gap-4 space-y-4",children:iH.map((e,t)=>e.type==="video"?B.jsxs("a",{"data-lg-size":"1280-720","data-sub-html":e.subHtml,"data-poster":e.thumb,"data-src":e.src,"data-video":`{"source": [{"src":"${e.src}","type":"video/mp4"}], "attributes": {"controls": true, "preload": false}}`,className:"relative block overflow-hidden rounded-2xl shadow-lg cursor-pointer group",children:[B.jsx("img",{src:e.thumb,alt:e.subHtml.replace(/<.*?>/g,""),className:"w-full rounded-2xl object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),B.jsx("div",{className:"absolute inset-0 bg-black/30 group-hover:bg-black/10 transition-all duration-300"}),B.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:B.jsx("svg",{className:"w-14 h-14 text-white/90 group-hover:text-white transition-colors duration-300",fill:"currentColor",viewBox:"0 0 24 24",children:B.jsx("path",{d:"M6 3l12 9-12 9V3z"})})})]},t):B.jsxs("a",{"data-src":e.src,"data-sub-html":e.subHtml,className:"relative block overflow-hidden rounded-2xl shadow-lg cursor-pointer group",children:[B.jsx("img",{src:e.thumb,alt:e.subHtml.replace(/<.*?>/g,""),className:"w-full rounded-2xl object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),B.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-black/0 transition-all duration-300"})]},t))}),B.jsx(nH,{})]})}/*!
* sweetalert2 v11.22.3
* Released under the MIT License.
*/function RN(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function sH(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function XA(n,e){return n.get(RN(n,e))}function rH(n,e,t){sH(n,e),e.set(n,t)}function oH(n,e,t){return n.set(RN(n,e),t),t}const lH=100,Kt={},cH=()=>{Kt.previousActiveElement instanceof HTMLElement?(Kt.previousActiveElement.focus(),Kt.previousActiveElement=null):document.body&&document.body.focus()},uH=n=>new Promise(e=>{if(!n)return e();const t=window.scrollX,i=window.scrollY;Kt.restoreFocusTimeout=setTimeout(()=>{cH(),e()},lH),window.scrollTo(t,i)}),DN="swal2-",fH=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],He=fH.reduce((n,e)=>(n[e]=DN+e,n),{}),hH=["success","warning","info","question","error"],Nb=hH.reduce((n,e)=>(n[e]=DN+e,n),{}),NN="SweetAlert2:",eE=n=>n.charAt(0).toUpperCase()+n.slice(1),Ws=n=>{console.warn(`${NN} ${typeof n=="object"?n.join(" "):n}`)},Xh=n=>{console.error(`${NN} ${n}`)},WA=[],dH=n=>{WA.includes(n)||(WA.push(n),Ws(n))},LN=(n,e=null)=>{dH(`"${n}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},q1=n=>typeof n=="function"?n():n,tE=n=>n&&typeof n.toPromise=="function",av=n=>tE(n)?n.toPromise():Promise.resolve(n),nE=n=>n&&Promise.resolve(n)===n,Zs=()=>document.body.querySelector(`.${He.container}`),sv=n=>{const e=Zs();return e?e.querySelector(n):null},zr=n=>sv(`.${n}`),Jn=()=>zr(He.popup),hm=()=>zr(He.icon),pH=()=>zr(He["icon-content"]),ON=()=>zr(He.title),iE=()=>zr(He["html-container"]),UN=()=>zr(He.image),aE=()=>zr(He["progress-steps"]),Y1=()=>zr(He["validation-message"]),jl=()=>sv(`.${He.actions} .${He.confirm}`),dm=()=>sv(`.${He.actions} .${He.cancel}`),Wh=()=>sv(`.${He.actions} .${He.deny}`),mH=()=>zr(He["input-label"]),pm=()=>sv(`.${He.loader}`),rv=()=>zr(He.actions),IN=()=>zr(He.footer),Z1=()=>zr(He["timer-progress-bar"]),sE=()=>zr(He.close),gH=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,rE=()=>{const n=Jn();if(!n)return[];const e=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),t=Array.from(e).sort((r,l)=>{const u=parseInt(r.getAttribute("tabindex")||"0"),h=parseInt(l.getAttribute("tabindex")||"0");return u>h?1:u<h?-1:0}),i=n.querySelectorAll(gH),a=Array.from(i).filter(r=>r.getAttribute("tabindex")!=="-1");return[...new Set(t.concat(a))].filter(r=>gr(r))},oE=()=>Ic(document.body,He.shown)&&!Ic(document.body,He["toast-shown"])&&!Ic(document.body,He["no-backdrop"]),K1=()=>{const n=Jn();return n?Ic(n,He.toast):!1},vH=()=>{const n=Jn();return n?n.hasAttribute("data-loading"):!1},Vr=(n,e)=>{if(n.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),a=i.querySelector("head");a&&Array.from(a.childNodes).forEach(l=>{n.appendChild(l)});const r=i.querySelector("body");r&&Array.from(r.childNodes).forEach(l=>{l instanceof HTMLVideoElement||l instanceof HTMLAudioElement?n.appendChild(l.cloneNode(!0)):n.appendChild(l)})}},Ic=(n,e)=>{if(!e)return!1;const t=e.split(/\s+/);for(let i=0;i<t.length;i++)if(!n.classList.contains(t[i]))return!1;return!0},yH=(n,e)=>{Array.from(n.classList).forEach(t=>{!Object.values(He).includes(t)&&!Object.values(Nb).includes(t)&&!Object.values(e.showClass||{}).includes(t)&&n.classList.remove(t)})},Pr=(n,e,t)=>{if(yH(n,e),!e.customClass)return;const i=e.customClass[t];if(i){if(typeof i!="string"&&!i.forEach){Ws(`Invalid type of customClass.${t}! Expected string or iterable object, got "${typeof i}"`);return}ei(n,i)}},Q1=(n,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return n.querySelector(`.${He.popup} > .${He[e]}`);case"checkbox":return n.querySelector(`.${He.popup} > .${He.checkbox} input`);case"radio":return n.querySelector(`.${He.popup} > .${He.radio} input:checked`)||n.querySelector(`.${He.popup} > .${He.radio} input:first-child`);case"range":return n.querySelector(`.${He.popup} > .${He.range} input`);default:return n.querySelector(`.${He.popup} > .${He.input}`)}},PN=n=>{if(n.focus(),n.type!=="file"){const e=n.value;n.value="",n.value=e}},BN=(n,e,t)=>{!n||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(n)?n.forEach(a=>{t?a.classList.add(i):a.classList.remove(i)}):t?n.classList.add(i):n.classList.remove(i)}))},ei=(n,e)=>{BN(n,e,!0)},fo=(n,e)=>{BN(n,e,!1)},Zu=(n,e)=>{const t=Array.from(n.children);for(let i=0;i<t.length;i++){const a=t[i];if(a instanceof HTMLElement&&Ic(a,e))return a}},Ph=(n,e,t)=>{t===`${parseInt(t)}`&&(t=parseInt(t)),t||parseInt(t)===0?n.style.setProperty(e,typeof t=="number"?`${t}px`:t):n.style.removeProperty(e)},ja=(n,e="flex")=>{n&&(n.style.display=e)},_s=n=>{n&&(n.style.display="none")},lE=(n,e="block")=>{n&&new MutationObserver(()=>{ov(n,n.innerHTML,e)}).observe(n,{childList:!0,subtree:!0})},qA=(n,e,t,i)=>{const a=n.querySelector(e);a&&a.style.setProperty(t,i)},ov=(n,e,t="flex")=>{e?ja(n,t):_s(n)},gr=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),xH=()=>!gr(jl())&&!gr(Wh())&&!gr(dm()),O2=n=>n.scrollHeight>n.clientHeight,bH=(n,e)=>{let t=n;for(;t&&t!==e;){if(O2(t))return!0;t=t.parentElement}return!1},zN=n=>{const e=window.getComputedStyle(n),t=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return t>0||i>0},cE=(n,e=!1)=>{const t=Z1();t&&gr(t)&&(e&&(t.style.transition="none",t.style.width="100%"),setTimeout(()=>{t.style.transition=`width ${n/1e3}s linear`,t.style.width="0%"},10))},_H=()=>{const n=Z1();if(!n)return;const e=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const t=parseInt(window.getComputedStyle(n).width),i=e/t*100;n.style.width=`${i}%`},SH=()=>typeof window>"u"||typeof document>"u",wH=`
 <div aria-labelledby="${He.title}" aria-describedby="${He["html-container"]}" class="${He.popup}" tabindex="-1">
   <button type="button" class="${He.close}"></button>
   <ul class="${He["progress-steps"]}"></ul>
   <div class="${He.icon}"></div>
   <img class="${He.image}" />
   <h2 class="${He.title}" id="${He.title}"></h2>
   <div class="${He["html-container"]}" id="${He["html-container"]}"></div>
   <input class="${He.input}" id="${He.input}" />
   <input type="file" class="${He.file}" />
   <div class="${He.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${He.select}" id="${He.select}"></select>
   <div class="${He.radio}"></div>
   <label class="${He.checkbox}">
     <input type="checkbox" id="${He.checkbox}" />
     <span class="${He.label}"></span>
   </label>
   <textarea class="${He.textarea}" id="${He.textarea}"></textarea>
   <div class="${He["validation-message"]}" id="${He["validation-message"]}"></div>
   <div class="${He.actions}">
     <div class="${He.loader}"></div>
     <button type="button" class="${He.confirm}"></button>
     <button type="button" class="${He.deny}"></button>
     <button type="button" class="${He.cancel}"></button>
   </div>
   <div class="${He.footer}"></div>
   <div class="${He["timer-progress-bar-container"]}">
     <div class="${He["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),MH=()=>{const n=Zs();return n?(n.remove(),fo([document.documentElement,document.body],[He["no-backdrop"],He["toast-shown"],He["has-column"]]),!0):!1},ah=()=>{Kt.currentInstance.resetValidationMessage()},EH=()=>{const n=Jn(),e=Zu(n,He.input),t=Zu(n,He.file),i=n.querySelector(`.${He.range} input`),a=n.querySelector(`.${He.range} output`),r=Zu(n,He.select),l=n.querySelector(`.${He.checkbox} input`),u=Zu(n,He.textarea);e.oninput=ah,t.onchange=ah,r.onchange=ah,l.onchange=ah,u.oninput=ah,i.oninput=()=>{ah(),a.value=i.value},i.onchange=()=>{ah(),a.value=i.value}},TH=n=>typeof n=="string"?document.querySelector(n):n,AH=n=>{const e=Jn();e.setAttribute("role",n.toast?"alert":"dialog"),e.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||e.setAttribute("aria-modal","true")},CH=n=>{window.getComputedStyle(n).direction==="rtl"&&ei(Zs(),He.rtl)},RH=n=>{const e=MH();if(SH()){Xh("SweetAlert2 requires document to initialize");return}const t=document.createElement("div");t.className=He.container,e&&ei(t,He["no-transition"]),Vr(t,wH),t.dataset.swal2Theme=n.theme;const i=TH(n.target);i.appendChild(t),n.topLayer&&(t.setAttribute("popover",""),t.showPopover()),AH(n),CH(i),EH()},uE=(n,e)=>{n instanceof HTMLElement?e.appendChild(n):typeof n=="object"?DH(n,e):n&&Vr(e,n)},DH=(n,e)=>{n.jquery?NH(e,n):Vr(e,n.toString())},NH=(n,e)=>{if(n.textContent="",0 in e)for(let t=0;t in e;t++)n.appendChild(e[t].cloneNode(!0));else n.appendChild(e.cloneNode(!0))},LH=(n,e)=>{const t=rv(),i=pm();!t||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?_s(t):ja(t),Pr(t,e,"actions"),OH(t,i,e),Vr(i,e.loaderHtml||""),Pr(i,e,"loader"))};function OH(n,e,t){const i=jl(),a=Wh(),r=dm();!i||!a||!r||(jS(i,"confirm",t),jS(a,"deny",t),jS(r,"cancel",t),UH(i,a,r,t),t.reverseButtons&&(t.toast?(n.insertBefore(r,i),n.insertBefore(a,i)):(n.insertBefore(r,e),n.insertBefore(a,e),n.insertBefore(i,e))))}function UH(n,e,t,i){if(!i.buttonsStyling){fo([n,e,t],He.styled);return}ei([n,e,t],He.styled),i.confirmButtonColor&&n.style.setProperty("--swal2-confirm-button-background-color",i.confirmButtonColor),i.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",i.denyButtonColor),i.cancelButtonColor&&t.style.setProperty("--swal2-cancel-button-background-color",i.cancelButtonColor),GS(n),GS(e),GS(t)}function GS(n){const e=window.getComputedStyle(n);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const t=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");n.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${t}`))}function jS(n,e,t){const i=eE(e);ov(n,t[`show${i}Button`],"inline-block"),Vr(n,t[`${e}ButtonText`]||""),n.setAttribute("aria-label",t[`${e}ButtonAriaLabel`]||""),n.className=He[e],Pr(n,t,`${e}Button`)}const IH=(n,e)=>{const t=sE();t&&(Vr(t,e.closeButtonHtml||""),Pr(t,e,"closeButton"),ov(t,e.showCloseButton),t.setAttribute("aria-label",e.closeButtonAriaLabel||""))},PH=(n,e)=>{const t=Zs();t&&(BH(t,e.backdrop),zH(t,e.position),VH(t,e.grow),Pr(t,e,"container"))};function BH(n,e){typeof e=="string"?n.style.background=e:e||ei([document.documentElement,document.body],He["no-backdrop"])}function zH(n,e){e&&(e in He?ei(n,He[e]):(Ws('The "position" parameter is not valid, defaulting to "center"'),ei(n,He.center)))}function VH(n,e){e&&ei(n,He[`grow-${e}`])}var wi={innerParams:new WeakMap,domCache:new WeakMap};const FH=["input","file","range","select","radio","checkbox","textarea"],HH=(n,e)=>{const t=Jn();if(!t)return;const i=wi.innerParams.get(n),a=!i||e.input!==i.input;FH.forEach(r=>{const l=Zu(t,He[r]);l&&(jH(r,e.inputAttributes),l.className=He[r],a&&_s(l))}),e.input&&(a&&kH(e),XH(e))},kH=n=>{if(!n.input)return;if(!ua[n.input]){Xh(`Unexpected type of input! Expected ${Object.keys(ua).join(" | ")}, got "${n.input}"`);return}const e=VN(n.input);if(!e)return;const t=ua[n.input](e,n);ja(e),n.inputAutoFocus&&setTimeout(()=>{PN(t)})},GH=n=>{for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;["id","type","value","style"].includes(t)||n.removeAttribute(t)}},jH=(n,e)=>{const t=Jn();if(!t)return;const i=Q1(t,n);if(i){GH(i);for(const a in e)i.setAttribute(a,e[a])}},XH=n=>{if(!n.input)return;const e=VN(n.input);e&&Pr(e,n,"input")},fE=(n,e)=>{!n.placeholder&&e.inputPlaceholder&&(n.placeholder=e.inputPlaceholder)},lv=(n,e,t)=>{if(t.inputLabel){const i=document.createElement("label"),a=He["input-label"];i.setAttribute("for",n.id),i.className=a,typeof t.customClass=="object"&&ei(i,t.customClass.inputLabel),i.innerText=t.inputLabel,e.insertAdjacentElement("beforebegin",i)}},VN=n=>{const e=Jn();if(e)return Zu(e,He[n]||He.input)},Lb=(n,e)=>{["string","number"].includes(typeof e)?n.value=`${e}`:nE(e)||Ws(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},ua={};ua.text=ua.email=ua.password=ua.number=ua.tel=ua.url=ua.search=ua.date=ua["datetime-local"]=ua.time=ua.week=ua.month=(n,e)=>(Lb(n,e.inputValue),lv(n,n,e),fE(n,e),n.type=e.input,n);ua.file=(n,e)=>(lv(n,n,e),fE(n,e),n);ua.range=(n,e)=>{const t=n.querySelector("input"),i=n.querySelector("output");return Lb(t,e.inputValue),t.type=e.input,Lb(i,e.inputValue),lv(t,n,e),n};ua.select=(n,e)=>{if(n.textContent="",e.inputPlaceholder){const t=document.createElement("option");Vr(t,e.inputPlaceholder),t.value="",t.disabled=!0,t.selected=!0,n.appendChild(t)}return lv(n,n,e),n};ua.radio=n=>(n.textContent="",n);ua.checkbox=(n,e)=>{const t=Q1(Jn(),"checkbox");t.value="1",t.checked=!!e.inputValue;const i=n.querySelector("span");return Vr(i,e.inputPlaceholder||e.inputLabel),t};ua.textarea=(n,e)=>{Lb(n,e.inputValue),fE(n,e),lv(n,n,e);const t=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Jn()).width),a=()=>{if(!document.body.contains(n))return;const r=n.offsetWidth+t(n);r>i?Jn().style.width=`${r}px`:Ph(Jn(),"width",e.width)};new MutationObserver(a).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const WH=(n,e)=>{const t=iE();t&&(lE(t),Pr(t,e,"htmlContainer"),e.html?(uE(e.html,t),ja(t,"block")):e.text?(t.textContent=e.text,ja(t,"block")):_s(t),HH(n,e))},qH=(n,e)=>{const t=IN();t&&(lE(t),ov(t,e.footer,"block"),e.footer&&uE(e.footer,t),Pr(t,e,"footer"))},YH=(n,e)=>{const t=wi.innerParams.get(n),i=hm();if(!i)return;if(t&&e.icon===t.icon){ZA(i,e),YA(i,e);return}if(!e.icon&&!e.iconHtml){_s(i);return}if(e.icon&&Object.keys(Nb).indexOf(e.icon)===-1){Xh(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),_s(i);return}ja(i),ZA(i,e),YA(i,e),ei(i,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",FN)},YA=(n,e)=>{for(const[t,i]of Object.entries(Nb))e.icon!==t&&fo(n,i);ei(n,e.icon&&Nb[e.icon]),QH(n,e),FN(),Pr(n,e,"icon")},FN=()=>{const n=Jn();if(!n)return;const e=window.getComputedStyle(n).getPropertyValue("background-color"),t=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<t.length;i++)t[i].style.backgroundColor=e},ZH=n=>`
  ${n.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${n.animation?'<div class="swal2-success-fix"></div>':""}
  ${n.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,KH=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ZA=(n,e)=>{if(!e.icon&&!e.iconHtml)return;let t=n.innerHTML,i="";e.iconHtml?i=KA(e.iconHtml):e.icon==="success"?(i=ZH(e),t=t.replace(/ style=".*?"/g,"")):e.icon==="error"?i=KH:e.icon&&(i=KA({question:"?",warning:"!",info:"i"}[e.icon])),t.trim()!==i.trim()&&Vr(n,i)},QH=(n,e)=>{if(e.iconColor){n.style.color=e.iconColor,n.style.borderColor=e.iconColor;for(const t of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])qA(n,t,"background-color",e.iconColor);qA(n,".swal2-success-ring","border-color",e.iconColor)}},KA=n=>`<div class="${He["icon-content"]}">${n}</div>`,JH=(n,e)=>{const t=UN();if(t){if(!e.imageUrl){_s(t);return}ja(t,""),t.setAttribute("src",e.imageUrl),t.setAttribute("alt",e.imageAlt||""),Ph(t,"width",e.imageWidth),Ph(t,"height",e.imageHeight),t.className=He.image,Pr(t,e,"image")}};let hE=!1,HN=0,kN=0,GN=0,jN=0;const $H=n=>{n.addEventListener("mousedown",Ob),document.body.addEventListener("mousemove",Ub),n.addEventListener("mouseup",Ib),n.addEventListener("touchstart",Ob),document.body.addEventListener("touchmove",Ub),n.addEventListener("touchend",Ib)},e9=n=>{n.removeEventListener("mousedown",Ob),document.body.removeEventListener("mousemove",Ub),n.removeEventListener("mouseup",Ib),n.removeEventListener("touchstart",Ob),document.body.removeEventListener("touchmove",Ub),n.removeEventListener("touchend",Ib)},Ob=n=>{const e=Jn();if(n.target===e||hm().contains(n.target)){hE=!0;const t=XN(n);HN=t.clientX,kN=t.clientY,GN=parseInt(e.style.insetInlineStart)||0,jN=parseInt(e.style.insetBlockStart)||0,ei(e,"swal2-dragging")}},Ub=n=>{const e=Jn();if(hE){let{clientX:t,clientY:i}=XN(n);e.style.insetInlineStart=`${GN+(t-HN)}px`,e.style.insetBlockStart=`${jN+(i-kN)}px`}},Ib=()=>{const n=Jn();hE=!1,fo(n,"swal2-dragging")},XN=n=>{let e=0,t=0;return n.type.startsWith("mouse")?(e=n.clientX,t=n.clientY):n.type.startsWith("touch")&&(e=n.touches[0].clientX,t=n.touches[0].clientY),{clientX:e,clientY:t}},t9=(n,e)=>{const t=Zs(),i=Jn();if(!(!t||!i)){if(e.toast){Ph(t,"width",e.width),i.style.width="100%";const a=pm();a&&i.insertBefore(a,hm())}else Ph(i,"width",e.width);Ph(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),_s(Y1()),n9(i,e),e.draggable&&!e.toast?(ei(i,He.draggable),$H(i)):(fo(i,He.draggable),e9(i))}},n9=(n,e)=>{const t=e.showClass||{};n.className=`${He.popup} ${gr(n)?t.popup:""}`,e.toast?(ei([document.documentElement,document.body],He["toast-shown"]),ei(n,He.toast)):ei(n,He.modal),Pr(n,e,"popup"),typeof e.customClass=="string"&&ei(n,e.customClass),e.icon&&ei(n,He[`icon-${e.icon}`])},i9=(n,e)=>{const t=aE();if(!t)return;const{progressSteps:i,currentProgressStep:a}=e;if(!i||i.length===0||a===void 0){_s(t);return}ja(t),t.textContent="",a>=i.length&&Ws("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((r,l)=>{const u=a9(r);if(t.appendChild(u),l===a&&ei(u,He["active-progress-step"]),l!==i.length-1){const h=s9(e);t.appendChild(h)}})},a9=n=>{const e=document.createElement("li");return ei(e,He["progress-step"]),Vr(e,n),e},s9=n=>{const e=document.createElement("li");return ei(e,He["progress-step-line"]),n.progressStepsDistance&&Ph(e,"width",n.progressStepsDistance),e},r9=(n,e)=>{const t=ON();t&&(lE(t),ov(t,e.title||e.titleText,"block"),e.title&&uE(e.title,t),e.titleText&&(t.innerText=e.titleText),Pr(t,e,"title"))},WN=(n,e)=>{t9(n,e),PH(n,e),i9(n,e),YH(n,e),JH(n,e),r9(n,e),IH(n,e),WH(n,e),LH(n,e),qH(n,e);const t=Jn();typeof e.didRender=="function"&&t&&e.didRender(t),Kt.eventEmitter.emit("didRender",t)},o9=()=>gr(Jn()),qN=()=>{var n;return(n=jl())===null||n===void 0?void 0:n.click()},l9=()=>{var n;return(n=Wh())===null||n===void 0?void 0:n.click()},c9=()=>{var n;return(n=dm())===null||n===void 0?void 0:n.click()},mm=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),YN=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},u9=(n,e,t)=>{YN(n),e.toast||(n.keydownHandler=i=>h9(e,i,t),n.keydownTarget=e.keydownListenerCapture?window:Jn(),n.keydownListenerCapture=e.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},U2=(n,e)=>{var t;const i=rE();if(i.length){n=n+e,n===-2&&(n=i.length-1),n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(t=Jn())===null||t===void 0||t.focus()},ZN=["ArrowRight","ArrowDown"],f9=["ArrowLeft","ArrowUp"],h9=(n,e,t)=>{n&&(e.isComposing||e.keyCode===229||(n.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?d9(e,n):e.key==="Tab"?p9(e):[...ZN,...f9].includes(e.key)?m9(e.key):e.key==="Escape"&&g9(e,n,t)))},d9=(n,e)=>{if(!q1(e.allowEnterKey))return;const t=Q1(Jn(),e.input);if(n.target&&t&&n.target instanceof HTMLElement&&n.target.outerHTML===t.outerHTML){if(["textarea","file"].includes(e.input))return;qN(),n.preventDefault()}},p9=n=>{const e=n.target,t=rE();let i=-1;for(let a=0;a<t.length;a++)if(e===t[a]){i=a;break}n.shiftKey?U2(i,-1):U2(i,1),n.stopPropagation(),n.preventDefault()},m9=n=>{const e=rv(),t=jl(),i=Wh(),a=dm();if(!e||!t||!i||!a)return;const r=[t,i,a];if(document.activeElement instanceof HTMLElement&&!r.includes(document.activeElement))return;const l=ZN.includes(n)?"nextElementSibling":"previousElementSibling";let u=document.activeElement;if(u){for(let h=0;h<e.children.length;h++){if(u=u[l],!u)return;if(u instanceof HTMLButtonElement&&gr(u))break}u instanceof HTMLButtonElement&&u.focus()}},g9=(n,e,t)=>{n.preventDefault(),q1(e.allowEscapeKey)&&t(mm.esc)};var Gp={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const v9=()=>{const n=Zs();Array.from(document.body.children).forEach(t=>{t.contains(n)||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")||""),t.setAttribute("aria-hidden","true"))})},KN=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},QN=typeof window<"u"&&!!window.GestureEvent,y9=()=>{if(QN&&!Ic(document.body,He.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,ei(document.body,He.iosfix),x9()}},x9=()=>{const n=Zs();if(!n)return;let e;n.ontouchstart=t=>{e=b9(t)},n.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}},b9=n=>{const e=n.target,t=Zs(),i=iE();return!t||!i||_9(n)||S9(n)?!1:e===t||!O2(t)&&e instanceof HTMLElement&&!bH(e,i)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(O2(i)&&i.contains(e))},_9=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",S9=n=>n.touches&&n.touches.length>1,w9=()=>{if(Ic(document.body,He.iosfix)){const n=parseInt(document.body.style.top,10);fo(document.body,He.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},M9=()=>{const n=document.createElement("div");n.className=He["scrollbar-measure"],document.body.appendChild(n);const e=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),e};let Lp=null;const E9=n=>{Lp===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(Lp=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Lp+M9()}px`)},T9=()=>{Lp!==null&&(document.body.style.paddingRight=`${Lp}px`,Lp=null)};function JN(n,e,t,i){K1()?QA(n,i):(uH(t).then(()=>QA(n,i)),YN(Kt)),QN?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),oE()&&(T9(),w9(),KN()),A9()}function A9(){fo([document.documentElement,document.body],[He.shown,He["height-auto"],He["no-backdrop"],He["toast-shown"]])}function Ku(n){n=R9(n);const e=Gp.swalPromiseResolve.get(this),t=C9(this);this.isAwaitingPromise?n.isDismissed||(cv(this),e(n)):t&&e(n)}const C9=n=>{const e=Jn();if(!e)return!1;const t=wi.innerParams.get(n);if(!t||Ic(e,t.hideClass.popup))return!1;fo(e,t.showClass.popup),ei(e,t.hideClass.popup);const i=Zs();return fo(i,t.showClass.backdrop),ei(i,t.hideClass.backdrop),D9(n,e,t),!0};function $N(n){const e=Gp.swalPromiseReject.get(this);cv(this),e&&e(n)}const cv=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,wi.innerParams.get(n)||n._destroy())},R9=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),D9=(n,e,t)=>{var i;const a=Zs(),r=zN(e);typeof t.willClose=="function"&&t.willClose(e),(i=Kt.eventEmitter)===null||i===void 0||i.emit("willClose",e),r?N9(n,e,a,t.returnFocus,t.didClose):JN(n,a,t.returnFocus,t.didClose)},N9=(n,e,t,i,a)=>{Kt.swalCloseEventFinishedCallback=JN.bind(null,n,t,i,a);const r=function(l){if(l.target===e){var u;(u=Kt.swalCloseEventFinishedCallback)===null||u===void 0||u.call(Kt),delete Kt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",r),e.removeEventListener("transitionend",r)}};e.addEventListener("animationend",r),e.addEventListener("transitionend",r)},QA=(n,e)=>{setTimeout(()=>{var t;typeof e=="function"&&e.bind(n.params)(),(t=Kt.eventEmitter)===null||t===void 0||t.emit("didClose"),n._destroy&&n._destroy()})},jp=n=>{let e=Jn();if(e||new Ng,e=Jn(),!e)return;const t=pm();K1()?_s(hm()):L9(e,n),ja(t),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},L9=(n,e)=>{const t=rv(),i=pm();!t||!i||(!e&&gr(jl())&&(e=jl()),ja(t),e&&(_s(e),i.setAttribute("data-button-to-replace",e.className),t.insertBefore(i,e)),ei([n,t],He.loading))},O9=(n,e)=>{e.input==="select"||e.input==="radio"?z9(n,e):["text","email","number","tel","textarea"].some(t=>t===e.input)&&(tE(e.inputValue)||nE(e.inputValue))&&(jp(jl()),V9(n,e))},U9=(n,e)=>{const t=n.getInput();if(!t)return null;switch(e.input){case"checkbox":return I9(t);case"radio":return P9(t);case"file":return B9(t);default:return e.inputAutoTrim?t.value.trim():t.value}},I9=n=>n.checked?1:0,P9=n=>n.checked?n.value:null,B9=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,z9=(n,e)=>{const t=Jn();if(!t)return;const i=a=>{e.input==="select"?F9(t,Pb(a),e):e.input==="radio"&&H9(t,Pb(a),e)};tE(e.inputOptions)||nE(e.inputOptions)?(jp(jl()),av(e.inputOptions).then(a=>{n.hideLoading(),i(a)})):typeof e.inputOptions=="object"?i(e.inputOptions):Xh(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},V9=(n,e)=>{const t=n.getInput();t&&(_s(t),av(e.inputValue).then(i=>{t.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,ja(t),t.focus(),n.hideLoading()}).catch(i=>{Xh(`Error in inputValue promise: ${i}`),t.value="",ja(t),t.focus(),n.hideLoading()}))};function F9(n,e,t){const i=Zu(n,He.select);if(!i)return;const a=(r,l,u)=>{const h=document.createElement("option");h.value=u,Vr(h,l),h.selected=eL(u,t.inputValue),r.appendChild(h)};e.forEach(r=>{const l=r[0],u=r[1];if(Array.isArray(u)){const h=document.createElement("optgroup");h.label=l,h.disabled=!1,i.appendChild(h),u.forEach(p=>a(h,p[1],p[0]))}else a(i,u,l)}),i.focus()}function H9(n,e,t){const i=Zu(n,He.radio);if(!i)return;e.forEach(r=>{const l=r[0],u=r[1],h=document.createElement("input"),p=document.createElement("label");h.type="radio",h.name=He.radio,h.value=l,eL(l,t.inputValue)&&(h.checked=!0);const m=document.createElement("span");Vr(m,u),m.className=He.label,p.appendChild(h),p.appendChild(m),i.appendChild(p)});const a=i.querySelectorAll("input");a.length&&a[0].focus()}const Pb=n=>{const e=[];return n instanceof Map?n.forEach((t,i)=>{let a=t;typeof a=="object"&&(a=Pb(a)),e.push([i,a])}):Object.keys(n).forEach(t=>{let i=n[t];typeof i=="object"&&(i=Pb(i)),e.push([t,i])}),e},eL=(n,e)=>!!e&&e.toString()===n.toString(),k9=n=>{const e=wi.innerParams.get(n);n.disableButtons(),e.input?tL(n,"confirm"):pE(n,!0)},G9=n=>{const e=wi.innerParams.get(n);n.disableButtons(),e.returnInputValueOnDeny?tL(n,"deny"):dE(n,!1)},j9=(n,e)=>{n.disableButtons(),e(mm.cancel)},tL=(n,e)=>{const t=wi.innerParams.get(n);if(!t.input){Xh(`The "input" parameter is needed to be set when using returnInputValueOn${eE(e)}`);return}const i=n.getInput(),a=U9(n,t);t.inputValidator?X9(n,a,e):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(t.validationMessage||i.validationMessage)):e==="deny"?dE(n,a):pE(n,a)},X9=(n,e,t)=>{const i=wi.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>av(i.inputValidator(e,i.validationMessage))).then(r=>{n.enableButtons(),n.enableInput(),r?n.showValidationMessage(r):t==="deny"?dE(n,e):pE(n,e)})},dE=(n,e)=>{const t=wi.innerParams.get(n||void 0);t.showLoaderOnDeny&&jp(Wh()),t.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>av(t.preDeny(e,t.validationMessage))).then(a=>{a===!1?(n.hideLoading(),cv(n)):n.close({isDenied:!0,value:typeof a>"u"?e:a})}).catch(a=>nL(n||void 0,a))):n.close({isDenied:!0,value:e})},JA=(n,e)=>{n.close({isConfirmed:!0,value:e})},nL=(n,e)=>{n.rejectPromise(e)},pE=(n,e)=>{const t=wi.innerParams.get(n||void 0);t.showLoaderOnConfirm&&jp(),t.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>av(t.preConfirm(e,t.validationMessage))).then(a=>{gr(Y1())||a===!1?(n.hideLoading(),cv(n)):JA(n,typeof a>"u"?e:a)}).catch(a=>nL(n||void 0,a))):JA(n,e)};function Bb(){const n=wi.innerParams.get(this);if(!n)return;const e=wi.domCache.get(this);_s(e.loader),K1()?n.icon&&ja(hm()):W9(e),fo([e.popup,e.actions],He.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const W9=n=>{const e=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));e.length?ja(e[0],"inline-block"):xH()&&_s(n.actions)};function iL(){const n=wi.innerParams.get(this),e=wi.domCache.get(this);return e?Q1(e.popup,n.input):null}function aL(n,e,t){const i=wi.domCache.get(n);e.forEach(a=>{i[a].disabled=t})}function sL(n,e){const t=Jn();if(!(!t||!n))if(n.type==="radio"){const i=t.querySelectorAll(`[name="${He.radio}"]`);for(let a=0;a<i.length;a++)i[a].disabled=e}else n.disabled=e}function rL(){aL(this,["confirmButton","denyButton","cancelButton"],!1)}function oL(){aL(this,["confirmButton","denyButton","cancelButton"],!0)}function lL(){sL(this.getInput(),!1)}function cL(){sL(this.getInput(),!0)}function uL(n){const e=wi.domCache.get(this),t=wi.innerParams.get(this);Vr(e.validationMessage,n),e.validationMessage.className=He["validation-message"],t.customClass&&t.customClass.validationMessage&&ei(e.validationMessage,t.customClass.validationMessage),ja(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",He["validation-message"]),PN(i),ei(i,He.inputerror))}function fL(){const n=wi.domCache.get(this);n.validationMessage&&_s(n.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),fo(e,He.inputerror))}const Op={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},q9=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Y9={allowEnterKey:void 0},Z9=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],hL=n=>Object.prototype.hasOwnProperty.call(Op,n),dL=n=>q9.indexOf(n)!==-1,pL=n=>Y9[n],K9=n=>{hL(n)||Ws(`Unknown parameter "${n}"`)},Q9=n=>{Z9.includes(n)&&Ws(`The parameter "${n}" is incompatible with toasts`)},J9=n=>{const e=pL(n);e&&LN(n,e)},mL=n=>{n.backdrop===!1&&n.allowOutsideClick&&Ws('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),n.theme&&!["light","dark","auto","minimal","borderless","embed-iframe","bulma","bulma-light","bulma-dark"].includes(n.theme)&&Ws(`Invalid theme "${n.theme}"`);for(const e in n)K9(e),n.toast&&Q9(e),J9(e)};function gL(n){const e=Zs(),t=Jn(),i=wi.innerParams.get(this);if(!t||Ic(t,i.hideClass.popup)){Ws("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const a=$9(n),r=Object.assign({},i,a);mL(r),e.dataset.swal2Theme=r.theme,WN(this,r),wi.innerParams.set(this,r),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const $9=n=>{const e={};return Object.keys(n).forEach(t=>{dL(t)?e[t]=n[t]:Ws(`Invalid parameter to update: ${t}`)}),e};function vL(){const n=wi.domCache.get(this),e=wi.innerParams.get(this);if(!e){yL(this);return}n.popup&&Kt.swalCloseEventFinishedCallback&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Kt.eventEmitter.emit("didDestroy"),e7(this)}const e7=n=>{yL(n),delete n.params,delete Kt.keydownHandler,delete Kt.keydownTarget,delete Kt.currentInstance},yL=n=>{n.isAwaitingPromise?(XS(wi,n),n.isAwaitingPromise=!0):(XS(Gp,n),XS(wi,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},XS=(n,e)=>{for(const t in n)n[t].delete(e)};var t7=Object.freeze({__proto__:null,_destroy:vL,close:Ku,closeModal:Ku,closePopup:Ku,closeToast:Ku,disableButtons:oL,disableInput:cL,disableLoading:Bb,enableButtons:rL,enableInput:lL,getInput:iL,handleAwaitingPromise:cv,hideLoading:Bb,rejectPromise:$N,resetValidationMessage:fL,showValidationMessage:uL,update:gL});const n7=(n,e,t)=>{n.toast?i7(n,e,t):(s7(e),r7(e),o7(n,e,t))},i7=(n,e,t)=>{e.popup.onclick=()=>{n&&(a7(n)||n.timer||n.input)||t(mm.close)}},a7=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let zb=!1;const s7=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(e){n.container.onmouseup=()=>{},e.target===n.container&&(zb=!0)}}},r7=n=>{n.container.onmousedown=e=>{e.target===n.container&&e.preventDefault(),n.popup.onmouseup=function(t){n.popup.onmouseup=()=>{},(t.target===n.popup||t.target instanceof HTMLElement&&n.popup.contains(t.target))&&(zb=!0)}}},o7=(n,e,t)=>{e.container.onclick=i=>{if(zb){zb=!1;return}i.target===e.container&&q1(n.allowOutsideClick)&&t(mm.backdrop)}},l7=n=>typeof n=="object"&&n.jquery,$A=n=>n instanceof Element||l7(n),c7=n=>{const e={};return typeof n[0]=="object"&&!$A(n[0])?Object.assign(e,n[0]):["title","html","icon"].forEach((t,i)=>{const a=n[i];typeof a=="string"||$A(a)?e[t]=a:a!==void 0&&Xh(`Unexpected type of ${t}! Expected "string" or "Element", got ${typeof a}`)}),e};function u7(...n){return new this(...n)}function f7(n){class e extends this{_main(i,a){return super._main(i,Object.assign({},n,a))}}return e}const h7=()=>Kt.timeout&&Kt.timeout.getTimerLeft(),xL=()=>{if(Kt.timeout)return _H(),Kt.timeout.stop()},bL=()=>{if(Kt.timeout){const n=Kt.timeout.start();return cE(n),n}},d7=()=>{const n=Kt.timeout;return n&&(n.running?xL():bL())},p7=n=>{if(Kt.timeout){const e=Kt.timeout.increase(n);return cE(e,!0),e}},m7=()=>!!(Kt.timeout&&Kt.timeout.isRunning());let eC=!1;const I2={};function g7(n="data-swal-template"){I2[n]=this,eC||(document.body.addEventListener("click",v7),eC=!0)}const v7=n=>{for(let e=n.target;e&&e!==document;e=e.parentNode)for(const t in I2){const i=e.getAttribute(t);if(i){I2[t].fire({template:i});return}}};class y7{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,t){const i=this._getHandlersByEventName(e);i.includes(t)||i.push(t)}once(e,t){const i=(...a)=>{this.removeListener(e,i),t.apply(this,a)};this.on(e,i)}emit(e,...t){this._getHandlersByEventName(e).forEach(i=>{try{i.apply(this,t)}catch(a){console.error(a)}})}removeListener(e,t){const i=this._getHandlersByEventName(e),a=i.indexOf(t);a>-1&&i.splice(a,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Kt.eventEmitter=new y7;const x7=(n,e)=>{Kt.eventEmitter.on(n,e)},b7=(n,e)=>{Kt.eventEmitter.once(n,e)},_7=(n,e)=>{if(!n){Kt.eventEmitter.reset();return}e?Kt.eventEmitter.removeListener(n,e):Kt.eventEmitter.removeAllListeners(n)};var S7=Object.freeze({__proto__:null,argsToParams:c7,bindClickHandler:g7,clickCancel:c9,clickConfirm:qN,clickDeny:l9,enableLoading:jp,fire:u7,getActions:rv,getCancelButton:dm,getCloseButton:sE,getConfirmButton:jl,getContainer:Zs,getDenyButton:Wh,getFocusableElements:rE,getFooter:IN,getHtmlContainer:iE,getIcon:hm,getIconContent:pH,getImage:UN,getInputLabel:mH,getLoader:pm,getPopup:Jn,getProgressSteps:aE,getTimerLeft:h7,getTimerProgressBar:Z1,getTitle:ON,getValidationMessage:Y1,increaseTimer:p7,isDeprecatedParameter:pL,isLoading:vH,isTimerRunning:m7,isUpdatableParameter:dL,isValidParameter:hL,isVisible:o9,mixin:f7,off:_7,on:x7,once:b7,resumeTimer:bL,showLoading:jp,stopTimer:xL,toggleTimer:d7});let w7=class{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}};const _L=["swal-title","swal-html","swal-footer"],M7=n=>{const e=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!e)return{};const t=e.content;return L7(t),Object.assign(E7(t),T7(t),A7(t),C7(t),R7(t),D7(t),N7(t,_L))},E7=n=>{const e={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{Fh(i,["name","value"]);const a=i.getAttribute("name"),r=i.getAttribute("value");!a||!r||(typeof Op[a]=="boolean"?e[a]=r!=="false":typeof Op[a]=="object"?e[a]=JSON.parse(r):e[a]=r)}),e},T7=n=>{const e={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const a=i.getAttribute("name"),r=i.getAttribute("value");!a||!r||(e[a]=new Function(`return ${r}`)())}),e},A7=n=>{const e={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{Fh(i,["type","color","aria-label"]);const a=i.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(e[`${a}ButtonText`]=i.innerHTML,e[`show${eE(a)}Button`]=!0,i.hasAttribute("color")&&(e[`${a}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${a}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},C7=n=>{const e={},t=n.querySelector("swal-image");return t&&(Fh(t,["src","width","height","alt"]),t.hasAttribute("src")&&(e.imageUrl=t.getAttribute("src")||void 0),t.hasAttribute("width")&&(e.imageWidth=t.getAttribute("width")||void 0),t.hasAttribute("height")&&(e.imageHeight=t.getAttribute("height")||void 0),t.hasAttribute("alt")&&(e.imageAlt=t.getAttribute("alt")||void 0)),e},R7=n=>{const e={},t=n.querySelector("swal-icon");return t&&(Fh(t,["type","color"]),t.hasAttribute("type")&&(e.icon=t.getAttribute("type")),t.hasAttribute("color")&&(e.iconColor=t.getAttribute("color")),e.iconHtml=t.innerHTML),e},D7=n=>{const e={},t=n.querySelector("swal-input");t&&(Fh(t,["type","label","placeholder","value"]),e.input=t.getAttribute("type")||"text",t.hasAttribute("label")&&(e.inputLabel=t.getAttribute("label")),t.hasAttribute("placeholder")&&(e.inputPlaceholder=t.getAttribute("placeholder")),t.hasAttribute("value")&&(e.inputValue=t.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(a=>{Fh(a,["value"]);const r=a.getAttribute("value");if(!r)return;const l=a.innerHTML;e.inputOptions[r]=l})),e},N7=(n,e)=>{const t={};for(const i in e){const a=e[i],r=n.querySelector(a);r&&(Fh(r,[]),t[a.replace(/^swal-/,"")]=r.innerHTML.trim())}return t},L7=n=>{const e=_L.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(t=>{const i=t.tagName.toLowerCase();e.includes(i)||Ws(`Unrecognized element <${i}>`)})},Fh=(n,e)=>{Array.from(n.attributes).forEach(t=>{e.indexOf(t.name)===-1&&Ws([`Unrecognized attribute "${t.name}" on <${n.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},SL=10,O7=n=>{const e=Zs(),t=Jn();typeof n.willOpen=="function"&&n.willOpen(t),Kt.eventEmitter.emit("willOpen",t);const a=window.getComputedStyle(document.body).overflowY;P7(e,t,n),setTimeout(()=>{U7(e,t)},SL),oE()&&(I7(e,n.scrollbarPadding,a),v9()),!K1()&&!Kt.previousActiveElement&&(Kt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(t)),Kt.eventEmitter.emit("didOpen",t),fo(e,He["no-transition"])},Vb=n=>{const e=Jn();if(n.target!==e)return;const t=Zs();e.removeEventListener("animationend",Vb),e.removeEventListener("transitionend",Vb),t.style.overflowY="auto"},U7=(n,e)=>{zN(e)?(n.style.overflowY="hidden",e.addEventListener("animationend",Vb),e.addEventListener("transitionend",Vb)):n.style.overflowY="auto"},I7=(n,e,t)=>{y9(),e&&t!=="hidden"&&E9(t),setTimeout(()=>{n.scrollTop=0})},P7=(n,e,t)=>{ei(n,t.showClass.backdrop),t.animation?(e.style.setProperty("opacity","0","important"),ja(e,"grid"),setTimeout(()=>{ei(e,t.showClass.popup),e.style.removeProperty("opacity")},SL)):ja(e,"grid"),ei([document.documentElement,document.body],He.shown),t.heightAuto&&t.backdrop&&!t.toast&&ei([document.documentElement,document.body],He["height-auto"])};var tC={email:(n,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(n,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function B7(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=tC.email),n.input==="url"&&(n.inputValidator=tC.url))}function z7(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(Ws('Target parameter is not valid, defaulting to "body"'),n.target="body")}function V7(n){B7(n),n.showLoaderOnConfirm&&!n.preConfirm&&Ws(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),z7(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),RH(n)}let Ul;var rx=new WeakMap;class da{constructor(...e){if(rH(this,rx,void 0),typeof window>"u")return;Ul=this;const t=Object.freeze(this.constructor.argsToParams(e));this.params=t,this.isAwaitingPromise=!1,oH(rx,this,this._main(Ul.params))}_main(e,t={}){if(mL(Object.assign({},t,e)),Kt.currentInstance){const r=Gp.swalPromiseResolve.get(Kt.currentInstance),{isAwaitingPromise:l}=Kt.currentInstance;Kt.currentInstance._destroy(),l||r({isDismissed:!0}),oE()&&KN()}Kt.currentInstance=Ul;const i=H7(e,t);V7(i),Object.freeze(i),Kt.timeout&&(Kt.timeout.stop(),delete Kt.timeout),clearTimeout(Kt.restoreFocusTimeout);const a=k7(Ul);return WN(Ul,i),wi.innerParams.set(Ul,i),F7(Ul,a,i)}then(e){return XA(rx,this).then(e)}finally(e){return XA(rx,this).finally(e)}}const F7=(n,e,t)=>new Promise((i,a)=>{const r=l=>{n.close({isDismissed:!0,dismiss:l})};Gp.swalPromiseResolve.set(n,i),Gp.swalPromiseReject.set(n,a),e.confirmButton.onclick=()=>{k9(n)},e.denyButton.onclick=()=>{G9(n)},e.cancelButton.onclick=()=>{j9(n,r)},e.closeButton.onclick=()=>{r(mm.close)},n7(t,e,r),u9(Kt,t,r),O9(n,t),O7(t),G7(Kt,t,r),j7(e,t),setTimeout(()=>{e.container.scrollTop=0})}),H7=(n,e)=>{const t=M7(n),i=Object.assign({},Op,e,t,n);return i.showClass=Object.assign({},Op.showClass,i.showClass),i.hideClass=Object.assign({},Op.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},k7=n=>{const e={popup:Jn(),container:Zs(),actions:rv(),confirmButton:jl(),denyButton:Wh(),cancelButton:dm(),loader:pm(),closeButton:sE(),validationMessage:Y1(),progressSteps:aE()};return wi.domCache.set(n,e),e},G7=(n,e,t)=>{const i=Z1();_s(i),e.timer&&(n.timeout=new w7(()=>{t("timer"),delete n.timeout},e.timer),e.timerProgressBar&&(ja(i),Pr(i,e,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&cE(e.timer)})))},j7=(n,e)=>{if(!e.toast){if(!q1(e.allowEnterKey)){LN("allowEnterKey"),q7();return}X7(n)||W7(n,e)||U2(-1,1)}},X7=n=>{const e=Array.from(n.popup.querySelectorAll("[autofocus]"));for(const t of e)if(t instanceof HTMLElement&&gr(t))return t.focus(),!0;return!1},W7=(n,e)=>e.focusDeny&&gr(n.denyButton)?(n.denyButton.focus(),!0):e.focusCancel&&gr(n.cancelButton)?(n.cancelButton.focus(),!0):e.focusConfirm&&gr(n.confirmButton)?(n.confirmButton.focus(),!0):!1,q7=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,e=localStorage.getItem("swal-initiation");e?(n.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const t=document.createElement("audio");t.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",t.loop=!0,document.body.appendChild(t),setTimeout(()=>{t.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}da.prototype.disableButtons=oL;da.prototype.enableButtons=rL;da.prototype.getInput=iL;da.prototype.disableInput=cL;da.prototype.enableInput=lL;da.prototype.hideLoading=Bb;da.prototype.disableLoading=Bb;da.prototype.showValidationMessage=uL;da.prototype.resetValidationMessage=fL;da.prototype.close=Ku;da.prototype.closePopup=Ku;da.prototype.closeModal=Ku;da.prototype.closeToast=Ku;da.prototype.rejectPromise=$N;da.prototype.update=gL;da.prototype._destroy=vL;Object.assign(da,S7);Object.keys(t7).forEach(n=>{da[n]=function(...e){return Ul&&Ul[n]?Ul[n](...e):null}});da.DismissReason=mm;da.version="11.22.3";const Ng=da;Ng.default=Ng;typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.1s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px $swal2-outline-color;--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const Y7=()=>{const n=async e=>{e.preventDefault();const t=e.target,i=new FormData(t);i.append("accessKey","sf_71ieh8ndm403kc9c1l7khbfm");try{await fetch("https://api.staticforms.xyz/submit",{method:"POST",body:i}),Ng.fire({icon:"success",title:"Wow...",text:"Message sent successfully!"}),t.reset()}catch(a){Ng.fire({icon:"error",title:"Oops...",text:"Something went wrong!"}),console.error(a)}};return B.jsx("div",{className:"pt-16 bg-white dark:bg-gray-900 font-sans min-h-screen",children:B.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[B.jsxs("div",{className:"text-center mb-10",children:[B.jsxs("h2",{className:"text-3xl sm:text-4xl font-extrabold text-gray-900 dark:text-white",children:["Contact ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Us"})]}),B.jsx("p",{className:"mt-3 max-w-2xl mx-auto text-xl text-gray-500 dark:text-gray-300",children:"We'd love to hear from you. Reach out for admissions, queries or feedback."})]}),B.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-8",children:[B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl shadow p-6 md:p-8",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Get In Touch"}),B.jsxs("div",{className:"space-y-8",children:[B.jsxs("div",{className:"flex items-start gap-4",children:[B.jsx("div",{className:"flex-shrink-0",children:B.jsxs("svg",{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Address"}),B.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"H234+H88 Tangi, Odisha"}),B.jsx("div",{className:"mt-4",children:B.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3735.6893689315225!2d85.99573007378208!3d20.55988680372037!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a196c0e3c53f1c9%3A0x297acb1a709adc68!2sTetrahedron%20College!5e0!3m2!1sen!2sin!4v1753408339096!5m2!1sen!2sin",width:"100%",height:"180",style:{border:0},allowFullScreen:"",loading:"lazy",className:"rounded-lg shadow",title:"Tetrahedron College Location"})})]})]}),B.jsxs("div",{className:"flex items-start gap-4",children:[B.jsx("div",{className:"flex-shrink-0",children:B.jsx("svg",{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Phone"}),B.jsx("a",{className:"mt-1 text-gray-600 dark:text-gray-300 block",href:"tel:+917008222977",children:"7008222977"})]})]}),B.jsxs("div",{className:"flex items-start gap-4",children:[B.jsx("div",{className:"flex-shrink-0",children:B.jsx("svg",{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Email"}),B.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"info@tetrahedrontangi.com"})]})]}),B.jsxs("div",{className:"flex items-start gap-4",children:[B.jsx("div",{className:"flex-shrink-0",children:B.jsx("svg",{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:B.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),B.jsxs("div",{children:[B.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Office Hours"}),B.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-300",children:"Open 24 hours (Residential College)"})]})]})]})]}),B.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-xl shadow p-6 md:p-8",children:[B.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Send Us a Message"}),B.jsxs("form",{className:"space-y-6",onSubmit:n,children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),B.jsx("input",{type:"text",name:"name",id:"name",autoComplete:"name",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),B.jsx("input",{type:"email",name:"email",id:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),B.jsx("input",{type:"text",name:"phone",id:"phone",autoComplete:"phone",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subject"}),B.jsx("input",{type:"text",name:"subject",id:"subject",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),B.jsx("textarea",{name:"message",id:"message",rows:"5",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white resize-none"})]}),B.jsx("div",{children:B.jsx("button",{type:"submit",className:"w-full inline-flex justify-center py-2 px-6 border border-transparent shadow-sm text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 dark:bg-indigo-500 dark:hover:bg-indigo-600 transition duration-150 ease-in-out",children:"Send Message"})})]})]})]})]})})};function Z7(){const{pathname:n}=Gc();return ne.useEffect(()=>{window.scrollTo(0,0)},[n]),null}const K7=()=>B.jsx("div",{className:"pt-16 bg-white dark:bg-gray-900",children:B.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-2 py-2",children:B.jsx("div",{className:"py-2 px-2 sm:px-6 lg:px-10",children:B.jsxs(gn.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"flex flex-col lg:flex-row items-center lg:items-start lg:space-x-12 bg-gradient-to-br from-indigo-50 via-white to-indigo-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-8 rounded-2xl shadow-2xl",children:[B.jsxs("div",{className:"flex-shrink-0 mb-8 lg:mb-0 lg:w-1/3 flex flex-col items-center lg:items-start px-2 md:px-10",children:[B.jsx(gn.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.7,delay:.2,ease:"easeOut"},className:"w-40 h-40 sm:w-48 sm:h-48 rounded-full object-cover mx-auto lg:mx-0 shadow-xl border-4 border-indigo-500 dark:border-indigo-400",src:"./img/chairman.jpg",alt:"Tridev Sir - Chairman, Tetrahedron Group of Institutions"}),B.jsxs(gn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.4},className:"text-center lg:text-left mt-4",children:[B.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Trideb Behera"}),B.jsx("p",{className:"text-indigo-600 dark:text-indigo-400 text-lg sm:text-xl font-semibold",children:"Chairman"}),B.jsx("p",{className:"text-gray-500 dark:text-gray-300 text-md sm:text-lg",children:"Tetrahedron Group of Institutions"})]})]}),B.jsxs("div",{className:"lg:flex-grow lg:w-2/3 w-full",children:[B.jsxs(gn.h2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-6 text-center lg:text-left",children:["Chairman's ",B.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:"Message"})]}),B.jsx(gn.p,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.4},className:"mt-4 text-lg leading-relaxed text-gray-700 dark:text-gray-200 italic",children:'"Welcome to the Tetrahedron Group of Institutions, where we believe that every student holds the potential to rise, shine, and shape a brighter tomorrow.'}),B.jsxs(gn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.5},className:"mt-6 space-y-6 text-gray-700 dark:text-gray-200",children:[B.jsx("p",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100",children:"To Students:"}),B.jsx("p",{children:"This is your turning point. +2 Science is not just a courseit's the foundation of your future. Whether you're preparing for NEET, JEE, or your board exams, we are here to train your mind, shape your discipline, and sharpen your competitive edge. Remember, success doesnt come by chanceit comes by choice and consistent effort. Walk in with a dream and walk out with adirection"}),B.jsx("p",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100",children:"To Parents:"}),B.jsx("p",{children:"Thank you for partnering with us in shaping your childsfuture. We understand the emotional and academic support your child needs during these crucial two years. Thats why weve created a structured environment that balances rigorous academics with mental wellbeing. We believe in transparent communication, personal mentoring, and result-oriented teaching that you can rely on."}),B.jsx("p",{className:"font-semibold text-xl text-gray-800 dark:text-gray-100",children:"To the People of Odisha:"}),B.jsx("p",{children:"Our vision is to transform Odisha into a premier center for science education and national competitiveachievement. With advanced teaching methods, integrated coaching, and a team of dedicated educators, we are building not just a college, but a movement of academic excellence."}),B.jsx("p",{className:"italic text-gray-600 dark:text-gray-300",children:"Let Tetrahedron be your child's launchpad to a brighter tomorrow. Together, let's prepare a generation that not only qualifies but leads."}),B.jsx("p",{className:"text-right text-gray-800 dark:text-gray-100 font-medium",children:"Warm regards,"}),B.jsx("p",{className:"text-right text-gray-800 dark:text-gray-100 font-medium",children:"Trideb Behera"}),B.jsxs("p",{className:"text-right text-gray-500 dark:text-gray-300",children:["Chairman",B.jsx("br",{}),"Tetrahedron Group of Institutions"]})]})]})]})})})});var WS={exports:{}},_c={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nC;function Q7(){return nC||(nC=1,_c.ConcurrentRoot=1,_c.ContinuousEventPriority=8,_c.DefaultEventPriority=32,_c.DiscreteEventPriority=2,_c.IdleEventPriority=268435456,_c.LegacyRoot=0,_c.NoEventPriority=0),_c}var iC;function J7(){return iC||(iC=1,WS.exports=Q7()),WS.exports}var db=J7();/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const uv="181",bh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_h={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},wL=0,P2=1,ML=2,$7=3,EL=0,J1=1,ug=2,jo=3,Hc=0,Xs=1,Wo=2,Zo=0,Bh=1,B2=2,z2=3,V2=4,TL=5,Yu=100,AL=101,CL=102,RL=103,DL=104,NL=200,LL=201,OL=202,UL=203,Fb=204,Hb=205,IL=206,PL=207,BL=208,zL=209,VL=210,FL=211,HL=212,kL=213,GL=214,kb=0,Gb=1,jb=2,Hh=3,Xb=4,Wb=5,qb=6,Yb=7,fv=0,jL=1,XL=2,kl=0,WL=1,qL=2,YL=3,mE=4,ZL=5,KL=6,QL=7,F2="attached",JL="detached",af=300,Xl=301,sf=302,Xp=303,Lg=304,gm=306,Og=1e3,ta=1001,Ug=1002,is=1003,gE=1004,ek=1004,Rp=1005,tk=1005,ti=1006,fg=1007,nk=1007,Bl=1008,H2=1008,qs=1009,$1=1010,e_=1011,Wp=1012,hv=1013,Wl=1014,Wi=1015,La=1016,t_=1017,n_=1018,qp=1020,vE=35902,yE=35899,xE=1021,bE=1022,ha=1023,Yp=1026,Zp=1027,dv=1028,pv=1029,i_=1030,a_=1031,ik=1032,s_=1033,hg=33776,dg=33777,pg=33778,mg=33779,Zb=35840,Kb=35841,Qb=35842,Jb=35843,$b=36196,e1=37492,t1=37496,n1=37808,i1=37809,a1=37810,s1=37811,r1=37812,o1=37813,l1=37814,c1=37815,u1=37816,f1=37817,h1=37818,d1=37819,p1=37820,m1=37821,g1=36492,v1=36494,y1=36495,x1=36283,b1=36284,_1=36285,S1=36286,$L=2200,eO=2201,tO=2202,Ig=2300,w1=2301,pb=2302,Ah=2400,Ch=2401,Pg=2402,r_=2500,_E=2501,ak=0,sk=1,rk=2,nO=3200,iO=3201,ok=3202,lk=3203,cf=0,aO=1,Lc="",ts="srgb",Ko="srgb-linear",Bg="linear",ui="srgb",ck=0,Sh=7680,uk=7681,fk=7682,hk=7683,dk=34055,pk=34056,mk=5386,gk=512,vk=513,yk=514,xk=515,bk=516,_k=517,Sk=518,k2=519,sO=512,rO=513,oO=514,SE=515,lO=516,cO=517,uO=518,fO=519,zg=35044,wk=35048,Mk=35040,Ek=35045,Tk=35049,Ak=35041,Ck=35046,Rk=35050,Dk=35042,Nk="100",G2="300 es",Or=2e3,Kp=2001,Lk={COMPUTE:"compute",RENDER:"render"},Ok={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Uk={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function hO(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const Ik={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Dp(n,e){return new Ik[n](e)}function Vg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function dO(){const n=Vg("canvas");return n.style.display="block",n}const aC={};let rf=null;function Pk(n){rf=n}function Bk(){return rf}function Fg(...n){const e="THREE."+n.shift();rf?rf("log",e,...n):console.log(e,...n)}function At(...n){const e="THREE."+n.shift();rf?rf("warn",e,...n):console.warn(e,...n)}function hn(...n){const e="THREE."+n.shift();rf?rf("error",e,...n):console.error(e,...n)}function Qp(...n){const e=n.join(" ");e in aC||(aC[e]=!0,At(...n))}function zk(n,e,t){return new Promise(function(i,a){function r(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(r,t);break;default:i()}}setTimeout(r,t)})}let Yl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const a=i[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}};const ps=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let sC=1234567;const zh=Math.PI/180,Jp=180/Math.PI;function Ur(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ps[n&255]+ps[n>>8&255]+ps[n>>16&255]+ps[n>>24&255]+"-"+ps[e&255]+ps[e>>8&255]+"-"+ps[e>>16&15|64]+ps[e>>24&255]+"-"+ps[t&63|128]+ps[t>>8&255]+"-"+ps[t>>16&255]+ps[t>>24&255]+ps[i&255]+ps[i>>8&255]+ps[i>>16&255]+ps[i>>24&255]).toLowerCase()}function rn(n,e,t){return Math.max(e,Math.min(t,n))}function wE(n,e){return(n%e+e)%e}function Vk(n,e,t,i,a){return i+(n-e)*(a-i)/(t-e)}function Fk(n,e,t){return n!==e?(t-n)/(e-n):0}function gg(n,e,t){return(1-t)*n+t*e}function Hk(n,e,t,i){return gg(n,e,1-Math.exp(-t*i))}function kk(n,e=1){return e-Math.abs(wE(n,e*2)-e)}function Gk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function jk(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Xk(n,e){return n+Math.floor(Math.random()*(e-n+1))}function Wk(n,e){return n+Math.random()*(e-n)}function qk(n){return n*(.5-Math.random())}function Yk(n){n!==void 0&&(sC=n);let e=sC+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Zk(n){return n*zh}function Kk(n){return n*Jp}function Qk(n){return(n&n-1)===0&&n!==0}function Jk(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function $k(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function eG(n,e,t,i,a){const r=Math.cos,l=Math.sin,u=r(t/2),h=l(t/2),p=r((e+i)/2),m=l((e+i)/2),v=r((e-i)/2),x=l((e-i)/2),b=r((i-e)/2),M=l((i-e)/2);switch(a){case"XYX":n.set(u*m,h*v,h*x,u*p);break;case"YZY":n.set(h*x,u*m,h*v,u*p);break;case"ZXZ":n.set(h*v,h*x,u*m,u*p);break;case"XZX":n.set(u*m,h*M,h*b,u*p);break;case"YXY":n.set(h*b,u*m,h*M,u*p);break;case"ZYZ":n.set(h*M,h*b,u*m,u*p);break;default:At("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Gs(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Tn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const tG={DEG2RAD:zh,RAD2DEG:Jp,generateUUID:Ur,clamp:rn,euclideanModulo:wE,mapLinear:Vk,inverseLerp:Fk,lerp:gg,damp:Hk,pingpong:kk,smoothstep:Gk,smootherstep:jk,randInt:Xk,randFloat:Wk,randFloatSpread:qk,seededRandom:Yk,degToRad:Zk,radToDeg:Kk,isPowerOfTwo:Qk,ceilPowerOfTwo:Jk,floorPowerOfTwo:$k,setQuaternionFromProperEuler:eG,normalize:Tn,denormalize:Gs};class qe{constructor(e=0,t=0){qe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,a=e.elements;return this.x=a[0]*t+a[3]*i+a[6],this.y=a[1]*t+a[4]*i+a[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),a=Math.sin(t),r=this.x-e.x,l=this.y-e.y;return this.x=r*i-l*a+e.x,this.y=r*a+l*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xs{constructor(e=0,t=0,i=0,a=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=a}static slerpFlat(e,t,i,a,r,l,u){let h=i[a+0],p=i[a+1],m=i[a+2],v=i[a+3],x=r[l+0],b=r[l+1],M=r[l+2],C=r[l+3];if(u<=0){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=v;return}if(u>=1){e[t+0]=x,e[t+1]=b,e[t+2]=M,e[t+3]=C;return}if(v!==C||h!==x||p!==b||m!==M){let E=h*x+p*b+m*M+v*C;E<0&&(x=-x,b=-b,M=-M,C=-C,E=-E);let w=1-u;if(E<.9995){const R=Math.acos(E),D=Math.sin(R);w=Math.sin(w*R)/D,u=Math.sin(u*R)/D,h=h*w+x*u,p=p*w+b*u,m=m*w+M*u,v=v*w+C*u}else{h=h*w+x*u,p=p*w+b*u,m=m*w+M*u,v=v*w+C*u;const R=1/Math.sqrt(h*h+p*p+m*m+v*v);h*=R,p*=R,m*=R,v*=R}}e[t]=h,e[t+1]=p,e[t+2]=m,e[t+3]=v}static multiplyQuaternionsFlat(e,t,i,a,r,l){const u=i[a],h=i[a+1],p=i[a+2],m=i[a+3],v=r[l],x=r[l+1],b=r[l+2],M=r[l+3];return e[t]=u*M+m*v+h*b-p*x,e[t+1]=h*M+m*x+p*v-u*b,e[t+2]=p*M+m*b+u*x-h*v,e[t+3]=m*M-u*v-h*x-p*b,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,a){return this._x=e,this._y=t,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,a=e._y,r=e._z,l=e._order,u=Math.cos,h=Math.sin,p=u(i/2),m=u(a/2),v=u(r/2),x=h(i/2),b=h(a/2),M=h(r/2);switch(l){case"XYZ":this._x=x*m*v+p*b*M,this._y=p*b*v-x*m*M,this._z=p*m*M+x*b*v,this._w=p*m*v-x*b*M;break;case"YXZ":this._x=x*m*v+p*b*M,this._y=p*b*v-x*m*M,this._z=p*m*M-x*b*v,this._w=p*m*v+x*b*M;break;case"ZXY":this._x=x*m*v-p*b*M,this._y=p*b*v+x*m*M,this._z=p*m*M+x*b*v,this._w=p*m*v-x*b*M;break;case"ZYX":this._x=x*m*v-p*b*M,this._y=p*b*v+x*m*M,this._z=p*m*M-x*b*v,this._w=p*m*v+x*b*M;break;case"YZX":this._x=x*m*v+p*b*M,this._y=p*b*v+x*m*M,this._z=p*m*M-x*b*v,this._w=p*m*v-x*b*M;break;case"XZY":this._x=x*m*v-p*b*M,this._y=p*b*v-x*m*M,this._z=p*m*M+x*b*v,this._w=p*m*v+x*b*M;break;default:At("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,a=Math.sin(i);return this._x=e.x*a,this._y=e.y*a,this._z=e.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],a=t[4],r=t[8],l=t[1],u=t[5],h=t[9],p=t[2],m=t[6],v=t[10],x=i+u+v;if(x>0){const b=.5/Math.sqrt(x+1);this._w=.25/b,this._x=(m-h)*b,this._y=(r-p)*b,this._z=(l-a)*b}else if(i>u&&i>v){const b=2*Math.sqrt(1+i-u-v);this._w=(m-h)/b,this._x=.25*b,this._y=(a+l)/b,this._z=(r+p)/b}else if(u>v){const b=2*Math.sqrt(1+u-i-v);this._w=(r-p)/b,this._x=(a+l)/b,this._y=.25*b,this._z=(h+m)/b}else{const b=2*Math.sqrt(1+v-i-u);this._w=(l-a)/b,this._x=(r+p)/b,this._y=(h+m)/b,this._z=.25*b}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const a=Math.min(1,t/i);return this.slerp(e,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,a=e._y,r=e._z,l=e._w,u=t._x,h=t._y,p=t._z,m=t._w;return this._x=i*m+l*u+a*p-r*h,this._y=a*m+l*h+r*u-i*p,this._z=r*m+l*p+i*h-a*u,this._w=l*m-i*u-a*h-r*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let i=e._x,a=e._y,r=e._z,l=e._w,u=this.dot(e);u<0&&(i=-i,a=-a,r=-r,l=-l,u=-u);let h=1-t;if(u<.9995){const p=Math.acos(u),m=Math.sin(p);h=Math.sin(h*p)/m,t=Math.sin(t*p)/m,this._x=this._x*h+i*t,this._y=this._y*h+a*t,this._z=this._z*h+r*t,this._w=this._w*h+l*t,this._onChangeCallback()}else this._x=this._x*h+i*t,this._y=this._y*h+a*t,this._z=this._z*h+r*t,this._w=this._w*h+l*t,this.normalize();return this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),r=Math.sqrt(i);return this.set(a*Math.sin(e),a*Math.cos(e),r*Math.sin(t),r*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,t=0,i=0){te.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(rC.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(rC.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*a,this.y=r[1]*t+r[4]*i+r[7]*a,this.z=r[2]*t+r[5]*i+r[8]*a,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=e.elements,l=1/(r[3]*t+r[7]*i+r[11]*a+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*a+r[12])*l,this.y=(r[1]*t+r[5]*i+r[9]*a+r[13])*l,this.z=(r[2]*t+r[6]*i+r[10]*a+r[14])*l,this}applyQuaternion(e){const t=this.x,i=this.y,a=this.z,r=e.x,l=e.y,u=e.z,h=e.w,p=2*(l*a-u*i),m=2*(u*t-r*a),v=2*(r*i-l*t);return this.x=t+h*p+l*v-u*m,this.y=i+h*m+u*p-r*v,this.z=a+h*v+r*m-l*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,a=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*a,this.y=r[1]*t+r[5]*i+r[9]*a,this.z=r[2]*t+r[6]*i+r[10]*a,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this.z=rn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this.z=rn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,a=e.y,r=e.z,l=t.x,u=t.y,h=t.z;return this.x=a*h-r*u,this.y=r*l-i*h,this.z=i*u-a*l,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return qS.copy(this).projectOnVector(e),this.sub(qS)}reflect(e){return this.sub(qS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(rn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,a=this.z-e.z;return t*t+i*i+a*a}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const a=Math.sin(t)*e;return this.x=a*Math.sin(i),this.y=Math.cos(t)*e,this.z=a*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),a=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=a,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const qS=new te,rC=new xs;class Sn{constructor(e,t,i,a,r,l,u,h,p){Sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,h,p)}set(e,t,i,a,r,l,u,h,p){const m=this.elements;return m[0]=e,m[1]=a,m[2]=u,m[3]=t,m[4]=r,m[5]=h,m[6]=i,m[7]=l,m[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[3],h=i[6],p=i[1],m=i[4],v=i[7],x=i[2],b=i[5],M=i[8],C=a[0],E=a[3],w=a[6],R=a[1],D=a[4],O=a[7],P=a[2],U=a[5],V=a[8];return r[0]=l*C+u*R+h*P,r[3]=l*E+u*D+h*U,r[6]=l*w+u*O+h*V,r[1]=p*C+m*R+v*P,r[4]=p*E+m*D+v*U,r[7]=p*w+m*O+v*V,r[2]=x*C+b*R+M*P,r[5]=x*E+b*D+M*U,r[8]=x*w+b*O+M*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],p=e[7],m=e[8];return t*l*m-t*u*p-i*r*m+i*u*h+a*r*p-a*l*h}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],p=e[7],m=e[8],v=m*l-u*p,x=u*h-m*r,b=p*r-l*h,M=t*v+i*x+a*b;if(M===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/M;return e[0]=v*C,e[1]=(a*p-m*i)*C,e[2]=(u*i-a*l)*C,e[3]=x*C,e[4]=(m*t-a*h)*C,e[5]=(a*r-u*t)*C,e[6]=b*C,e[7]=(i*h-p*t)*C,e[8]=(l*t-i*r)*C,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,a,r,l,u){const h=Math.cos(r),p=Math.sin(r);return this.set(i*h,i*p,-i*(h*l+p*u)+l+e,-a*p,a*h,-a*(-p*l+h*u)+u+t,0,0,1),this}scale(e,t){return this.premultiply(YS.makeScale(e,t)),this}rotate(e){return this.premultiply(YS.makeRotation(-e)),this}translate(e,t){return this.premultiply(YS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<9;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YS=new Sn,oC=new Sn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),lC=new Sn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function nG(){const n={enabled:!0,workingColorSpace:Ko,spaces:{},convert:function(a,r,l){return this.enabled===!1||r===l||!r||!l||(this.spaces[r].transfer===ui&&(a.r=Pc(a.r),a.g=Pc(a.g),a.b=Pc(a.b)),this.spaces[r].primaries!==this.spaces[l].primaries&&(a.applyMatrix3(this.spaces[r].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ui&&(a.r=Up(a.r),a.g=Up(a.g),a.b=Up(a.b))),a},workingToColorSpace:function(a,r){return this.convert(a,this.workingColorSpace,r)},colorSpaceToWorking:function(a,r){return this.convert(a,r,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===Lc?Bg:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,r=this.workingColorSpace){return a.fromArray(this.spaces[r].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,r,l){return a.copy(this.spaces[r].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,r){return Qp("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,r)},toWorkingColorSpace:function(a,r){return Qp("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,r)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ko]:{primaries:e,whitePoint:i,transfer:Bg,toXYZ:oC,fromXYZ:lC,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:ts},outputColorSpaceConfig:{drawingBufferColorSpace:ts}},[ts]:{primaries:e,whitePoint:i,transfer:ui,toXYZ:oC,fromXYZ:lC,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:ts}}}),n}const kn=nG();function Pc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Up(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let $d;class pO{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{$d===void 0&&($d=Vg("canvas")),$d.width=e.width,$d.height=e.height;const a=$d.getContext("2d");e instanceof ImageData?a.putImageData(e,0,0):a.drawImage(e,0,0,e.width,e.height),i=$d}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Vg("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const a=i.getImageData(0,0,e.width,e.height),r=a.data;for(let l=0;l<r.length;l++)r[l]=Pc(r[l]/255)*255;return i.putImageData(a,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Pc(t[i]/255)*255):t[i]=Pc(t[i]);return{data:t,width:e.width,height:e.height}}else return At("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let iG=0;class Qu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:iG++}),this.uuid=Ur(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let r;if(Array.isArray(a)){r=[];for(let l=0,u=a.length;l<u;l++)a[l].isDataTexture?r.push(ZS(a[l].image)):r.push(ZS(a[l]))}else r=ZS(a);i.url=r}return t||(e.images[this.uuid]=i),i}}function ZS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?pO.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(At("Texture: Unable to serialize Texture."),{})}let aG=0;const KS=new te;class vi extends Yl{constructor(e=vi.DEFAULT_IMAGE,t=vi.DEFAULT_MAPPING,i=ta,a=ta,r=ti,l=Bl,u=ha,h=qs,p=vi.DEFAULT_ANISOTROPY,m=Lc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:aG++}),this.uuid=Ur(),this.name="",this.source=new Qu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=r,this.minFilter=l,this.anisotropy=p,this.format=u,this.internalFormat=null,this.type=h,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=m,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(KS).x}get height(){return this.source.getSize(KS).y}get depth(){return this.source.getSize(KS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){At(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){At(`Texture.setValues(): property '${t}' does not exist.`);continue}a&&i&&a.isVector2&&i.isVector2||a&&i&&a.isVector3&&i.isVector3||a&&i&&a.isMatrix3&&i.isMatrix3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==af)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Og:e.x=e.x-Math.floor(e.x);break;case ta:e.x=e.x<0?0:1;break;case Ug:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Og:e.y=e.y-Math.floor(e.y);break;case ta:e.y=e.y<0?0:1;break;case Ug:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}vi.DEFAULT_IMAGE=null;vi.DEFAULT_MAPPING=af;vi.DEFAULT_ANISOTROPY=1;class Wn{constructor(e=0,t=0,i=0,a=1){Wn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=a}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,a){return this.x=e,this.y=t,this.z=i,this.w=a,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,a=this.z,r=this.w,l=e.elements;return this.x=l[0]*t+l[4]*i+l[8]*a+l[12]*r,this.y=l[1]*t+l[5]*i+l[9]*a+l[13]*r,this.z=l[2]*t+l[6]*i+l[10]*a+l[14]*r,this.w=l[3]*t+l[7]*i+l[11]*a+l[15]*r,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,a,r;const h=e.elements,p=h[0],m=h[4],v=h[8],x=h[1],b=h[5],M=h[9],C=h[2],E=h[6],w=h[10];if(Math.abs(m-x)<.01&&Math.abs(v-C)<.01&&Math.abs(M-E)<.01){if(Math.abs(m+x)<.1&&Math.abs(v+C)<.1&&Math.abs(M+E)<.1&&Math.abs(p+b+w-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,O=(b+1)/2,P=(w+1)/2,U=(m+x)/4,V=(v+C)/4,H=(M+E)/4;return D>O&&D>P?D<.01?(i=0,a=.707106781,r=.707106781):(i=Math.sqrt(D),a=U/i,r=V/i):O>P?O<.01?(i=.707106781,a=0,r=.707106781):(a=Math.sqrt(O),i=U/a,r=H/a):P<.01?(i=.707106781,a=.707106781,r=0):(r=Math.sqrt(P),i=V/r,a=H/r),this.set(i,a,r,t),this}let R=Math.sqrt((E-M)*(E-M)+(v-C)*(v-C)+(x-m)*(x-m));return Math.abs(R)<.001&&(R=1),this.x=(E-M)/R,this.y=(v-C)/R,this.z=(x-m)/R,this.w=Math.acos((p+b+w-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this.z=rn(this.z,e.z,t.z),this.w=rn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this.z=rn(this.z,e,t),this.w=rn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(rn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ME extends Yl{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ti,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new Wn(0,0,e,t),this.scissorTest=!1,this.viewport=new Wn(0,0,e,t);const a={width:e,height:t,depth:i.depth},r=new vi(a);this.textures=[];const l=i.count;for(let u=0;u<l;u++)this.textures[u]=r.clone(),this.textures[u].isRenderTargetTexture=!0,this.textures[u].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:ti,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let a=0,r=this.textures.length;a<r;a++)this.textures[a].image.width=e,this.textures[a].image.height=t,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&&(this.textures[a].isArrayTexture=this.textures[a].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const a=Object.assign({},e.textures[t].image);this.textures[t].source=new Qu(a)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ho extends ME{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class o_ extends vi{constructor(e=null,t=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=is,this.minFilter=is,this.wrapR=ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class sG extends ho{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new o_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class l_ extends vi{constructor(e=null,t=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:a},this.magFilter=is,this.minFilter=is,this.wrapR=ta,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rG extends ho{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new l_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class bs{constructor(e=new te(1/0,1/0,1/0),t=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Vo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Vo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Vo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const r=i.getAttribute("position");if(t===!0&&r!==void 0&&e.isInstancedMesh!==!0)for(let l=0,u=r.count;l<u;l++)e.isMesh===!0?e.getVertexPosition(l,Vo):Vo.fromBufferAttribute(r,l),Vo.applyMatrix4(e.matrixWorld),this.expandByPoint(Vo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ox.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),ox.copy(i.boundingBox)),ox.applyMatrix4(e.matrixWorld),this.union(ox)}const a=e.children;for(let r=0,l=a.length;r<l;r++)this.expandByObject(a[r],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Vo),Vo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(z0),lx.subVectors(this.max,z0),ep.subVectors(e.a,z0),tp.subVectors(e.b,z0),np.subVectors(e.c,z0),Bu.subVectors(tp,ep),zu.subVectors(np,tp),sh.subVectors(ep,np);let t=[0,-Bu.z,Bu.y,0,-zu.z,zu.y,0,-sh.z,sh.y,Bu.z,0,-Bu.x,zu.z,0,-zu.x,sh.z,0,-sh.x,-Bu.y,Bu.x,0,-zu.y,zu.x,0,-sh.y,sh.x,0];return!QS(t,ep,tp,np,lx)||(t=[1,0,0,0,1,0,0,0,1],!QS(t,ep,tp,np,lx))?!1:(cx.crossVectors(Bu,zu),t=[cx.x,cx.y,cx.z],QS(t,ep,tp,np,lx))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Vo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Vo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Sc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Sc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Sc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Sc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Sc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Sc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Sc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Sc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Sc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Sc=[new te,new te,new te,new te,new te,new te,new te,new te],Vo=new te,ox=new bs,ep=new te,tp=new te,np=new te,Bu=new te,zu=new te,sh=new te,z0=new te,lx=new te,cx=new te,rh=new te;function QS(n,e,t,i,a){for(let r=0,l=n.length-3;r<=l;r+=3){rh.fromArray(n,r);const u=a.x*Math.abs(rh.x)+a.y*Math.abs(rh.y)+a.z*Math.abs(rh.z),h=e.dot(rh),p=t.dot(rh),m=i.dot(rh);if(Math.max(-Math.max(h,p,m),Math.min(h,p,m))>u)return!1}return!0}const oG=new bs,V0=new te,JS=new te;class as{constructor(e=new te,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):oG.setFromPoints(e).getCenter(i);let a=0;for(let r=0,l=e.length;r<l;r++)a=Math.max(a,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(a),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;V0.subVectors(e,this.center);const t=V0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),a=(i-this.radius)*.5;this.center.addScaledVector(V0,a/i),this.radius+=a}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(JS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(V0.copy(e.center).add(JS)),this.expandByPoint(V0.copy(e.center).sub(JS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const wc=new te,$S=new te,ux=new te,Vu=new te,ew=new te,fx=new te,tw=new te;class qh{constructor(e=new te,t=new te(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,wc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=wc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(wc.copy(this.origin).addScaledVector(this.direction,t),wc.distanceToSquared(e))}distanceSqToSegment(e,t,i,a){$S.copy(e).add(t).multiplyScalar(.5),ux.copy(t).sub(e).normalize(),Vu.copy(this.origin).sub($S);const r=e.distanceTo(t)*.5,l=-this.direction.dot(ux),u=Vu.dot(this.direction),h=-Vu.dot(ux),p=Vu.lengthSq(),m=Math.abs(1-l*l);let v,x,b,M;if(m>0)if(v=l*h-u,x=l*u-h,M=r*m,v>=0)if(x>=-M)if(x<=M){const C=1/m;v*=C,x*=C,b=v*(v+l*x+2*u)+x*(l*v+x+2*h)+p}else x=r,v=Math.max(0,-(l*x+u)),b=-v*v+x*(x+2*h)+p;else x=-r,v=Math.max(0,-(l*x+u)),b=-v*v+x*(x+2*h)+p;else x<=-M?(v=Math.max(0,-(-l*r+u)),x=v>0?-r:Math.min(Math.max(-r,-h),r),b=-v*v+x*(x+2*h)+p):x<=M?(v=0,x=Math.min(Math.max(-r,-h),r),b=x*(x+2*h)+p):(v=Math.max(0,-(l*r+u)),x=v>0?r:Math.min(Math.max(-r,-h),r),b=-v*v+x*(x+2*h)+p);else x=l>0?-r:r,v=Math.max(0,-(l*x+u)),b=-v*v+x*(x+2*h)+p;return i&&i.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy($S).addScaledVector(ux,x),b}intersectSphere(e,t){wc.subVectors(e.center,this.origin);const i=wc.dot(this.direction),a=wc.dot(wc)-i*i,r=e.radius*e.radius;if(a>r)return null;const l=Math.sqrt(r-a),u=i-l,h=i+l;return h<0?null:u<0?this.at(h,t):this.at(u,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,a,r,l,u,h;const p=1/this.direction.x,m=1/this.direction.y,v=1/this.direction.z,x=this.origin;return p>=0?(i=(e.min.x-x.x)*p,a=(e.max.x-x.x)*p):(i=(e.max.x-x.x)*p,a=(e.min.x-x.x)*p),m>=0?(r=(e.min.y-x.y)*m,l=(e.max.y-x.y)*m):(r=(e.max.y-x.y)*m,l=(e.min.y-x.y)*m),i>l||r>a||((r>i||isNaN(i))&&(i=r),(l<a||isNaN(a))&&(a=l),v>=0?(u=(e.min.z-x.z)*v,h=(e.max.z-x.z)*v):(u=(e.max.z-x.z)*v,h=(e.min.z-x.z)*v),i>h||u>a)||((u>i||i!==i)&&(i=u),(h<a||a!==a)&&(a=h),a<0)?null:this.at(i>=0?i:a,t)}intersectsBox(e){return this.intersectBox(e,wc)!==null}intersectTriangle(e,t,i,a,r){ew.subVectors(t,e),fx.subVectors(i,e),tw.crossVectors(ew,fx);let l=this.direction.dot(tw),u;if(l>0){if(a)return null;u=1}else if(l<0)u=-1,l=-l;else return null;Vu.subVectors(this.origin,e);const h=u*this.direction.dot(fx.crossVectors(Vu,fx));if(h<0)return null;const p=u*this.direction.dot(ew.cross(Vu));if(p<0||h+p>l)return null;const m=-u*Vu.dot(tw);return m<0?null:this.at(m/l,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(e,t,i,a,r,l,u,h,p,m,v,x,b,M,C,E){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,a,r,l,u,h,p,m,v,x,b,M,C,E)}set(e,t,i,a,r,l,u,h,p,m,v,x,b,M,C,E){const w=this.elements;return w[0]=e,w[4]=t,w[8]=i,w[12]=a,w[1]=r,w[5]=l,w[9]=u,w[13]=h,w[2]=p,w[6]=m,w[10]=v,w[14]=x,w[3]=b,w[7]=M,w[11]=C,w[15]=E,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,a=1/ip.setFromMatrixColumn(e,0).length(),r=1/ip.setFromMatrixColumn(e,1).length(),l=1/ip.setFromMatrixColumn(e,2).length();return t[0]=i[0]*a,t[1]=i[1]*a,t[2]=i[2]*a,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*l,t[9]=i[9]*l,t[10]=i[10]*l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,a=e.y,r=e.z,l=Math.cos(i),u=Math.sin(i),h=Math.cos(a),p=Math.sin(a),m=Math.cos(r),v=Math.sin(r);if(e.order==="XYZ"){const x=l*m,b=l*v,M=u*m,C=u*v;t[0]=h*m,t[4]=-h*v,t[8]=p,t[1]=b+M*p,t[5]=x-C*p,t[9]=-u*h,t[2]=C-x*p,t[6]=M+b*p,t[10]=l*h}else if(e.order==="YXZ"){const x=h*m,b=h*v,M=p*m,C=p*v;t[0]=x+C*u,t[4]=M*u-b,t[8]=l*p,t[1]=l*v,t[5]=l*m,t[9]=-u,t[2]=b*u-M,t[6]=C+x*u,t[10]=l*h}else if(e.order==="ZXY"){const x=h*m,b=h*v,M=p*m,C=p*v;t[0]=x-C*u,t[4]=-l*v,t[8]=M+b*u,t[1]=b+M*u,t[5]=l*m,t[9]=C-x*u,t[2]=-l*p,t[6]=u,t[10]=l*h}else if(e.order==="ZYX"){const x=l*m,b=l*v,M=u*m,C=u*v;t[0]=h*m,t[4]=M*p-b,t[8]=x*p+C,t[1]=h*v,t[5]=C*p+x,t[9]=b*p-M,t[2]=-p,t[6]=u*h,t[10]=l*h}else if(e.order==="YZX"){const x=l*h,b=l*p,M=u*h,C=u*p;t[0]=h*m,t[4]=C-x*v,t[8]=M*v+b,t[1]=v,t[5]=l*m,t[9]=-u*m,t[2]=-p*m,t[6]=b*v+M,t[10]=x-C*v}else if(e.order==="XZY"){const x=l*h,b=l*p,M=u*h,C=u*p;t[0]=h*m,t[4]=-v,t[8]=p*m,t[1]=x*v+C,t[5]=l*m,t[9]=b*v-M,t[2]=M*v-b,t[6]=u*m,t[10]=C*v+x}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(lG,e,cG)}lookAt(e,t,i){const a=this.elements;return Rr.subVectors(e,t),Rr.lengthSq()===0&&(Rr.z=1),Rr.normalize(),Fu.crossVectors(i,Rr),Fu.lengthSq()===0&&(Math.abs(i.z)===1?Rr.x+=1e-4:Rr.z+=1e-4,Rr.normalize(),Fu.crossVectors(i,Rr)),Fu.normalize(),hx.crossVectors(Rr,Fu),a[0]=Fu.x,a[4]=hx.x,a[8]=Rr.x,a[1]=Fu.y,a[5]=hx.y,a[9]=Rr.y,a[2]=Fu.z,a[6]=hx.z,a[10]=Rr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,a=t.elements,r=this.elements,l=i[0],u=i[4],h=i[8],p=i[12],m=i[1],v=i[5],x=i[9],b=i[13],M=i[2],C=i[6],E=i[10],w=i[14],R=i[3],D=i[7],O=i[11],P=i[15],U=a[0],V=a[4],H=a[8],I=a[12],L=a[1],q=a[5],J=a[9],re=a[13],de=a[2],ve=a[6],G=a[10],K=a[14],$=a[3],pe=a[7],X=a[11],fe=a[15];return r[0]=l*U+u*L+h*de+p*$,r[4]=l*V+u*q+h*ve+p*pe,r[8]=l*H+u*J+h*G+p*X,r[12]=l*I+u*re+h*K+p*fe,r[1]=m*U+v*L+x*de+b*$,r[5]=m*V+v*q+x*ve+b*pe,r[9]=m*H+v*J+x*G+b*X,r[13]=m*I+v*re+x*K+b*fe,r[2]=M*U+C*L+E*de+w*$,r[6]=M*V+C*q+E*ve+w*pe,r[10]=M*H+C*J+E*G+w*X,r[14]=M*I+C*re+E*K+w*fe,r[3]=R*U+D*L+O*de+P*$,r[7]=R*V+D*q+O*ve+P*pe,r[11]=R*H+D*J+O*G+P*X,r[15]=R*I+D*re+O*K+P*fe,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],a=e[8],r=e[12],l=e[1],u=e[5],h=e[9],p=e[13],m=e[2],v=e[6],x=e[10],b=e[14],M=e[3],C=e[7],E=e[11],w=e[15];return M*(+r*h*v-a*p*v-r*u*x+i*p*x+a*u*b-i*h*b)+C*(+t*h*b-t*p*x+r*l*x-a*l*b+a*p*m-r*h*m)+E*(+t*p*v-t*u*b-r*l*v+i*l*b+r*u*m-i*p*m)+w*(-a*u*m-t*h*v+t*u*x+a*l*v-i*l*x+i*h*m)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const a=this.elements;return e.isVector3?(a[12]=e.x,a[13]=e.y,a[14]=e.z):(a[12]=e,a[13]=t,a[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],a=e[2],r=e[3],l=e[4],u=e[5],h=e[6],p=e[7],m=e[8],v=e[9],x=e[10],b=e[11],M=e[12],C=e[13],E=e[14],w=e[15],R=v*E*p-C*x*p+C*h*b-u*E*b-v*h*w+u*x*w,D=M*x*p-m*E*p-M*h*b+l*E*b+m*h*w-l*x*w,O=m*C*p-M*v*p+M*u*b-l*C*b-m*u*w+l*v*w,P=M*v*h-m*C*h-M*u*x+l*C*x+m*u*E-l*v*E,U=t*R+i*D+a*O+r*P;if(U===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/U;return e[0]=R*V,e[1]=(C*x*r-v*E*r-C*a*b+i*E*b+v*a*w-i*x*w)*V,e[2]=(u*E*r-C*h*r+C*a*p-i*E*p-u*a*w+i*h*w)*V,e[3]=(v*h*r-u*x*r-v*a*p+i*x*p+u*a*b-i*h*b)*V,e[4]=D*V,e[5]=(m*E*r-M*x*r+M*a*b-t*E*b-m*a*w+t*x*w)*V,e[6]=(M*h*r-l*E*r-M*a*p+t*E*p+l*a*w-t*h*w)*V,e[7]=(l*x*r-m*h*r+m*a*p-t*x*p-l*a*b+t*h*b)*V,e[8]=O*V,e[9]=(M*v*r-m*C*r-M*i*b+t*C*b+m*i*w-t*v*w)*V,e[10]=(l*C*r-M*u*r+M*i*p-t*C*p-l*i*w+t*u*w)*V,e[11]=(m*u*r-l*v*r-m*i*p+t*v*p+l*i*b-t*u*b)*V,e[12]=P*V,e[13]=(m*C*a-M*v*a+M*i*x-t*C*x-m*i*E+t*v*E)*V,e[14]=(M*u*a-l*C*a-M*i*h+t*C*h+l*i*E-t*u*E)*V,e[15]=(l*v*a-m*u*a+m*i*h-t*v*h-l*i*x+t*u*x)*V,this}scale(e){const t=this.elements,i=e.x,a=e.y,r=e.z;return t[0]*=i,t[4]*=a,t[8]*=r,t[1]*=i,t[5]*=a,t[9]*=r,t[2]*=i,t[6]*=a,t[10]*=r,t[3]*=i,t[7]*=a,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],a=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,a))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),a=Math.sin(t),r=1-i,l=e.x,u=e.y,h=e.z,p=r*l,m=r*u;return this.set(p*l+i,p*u-a*h,p*h+a*u,0,p*u+a*h,m*u+i,m*h-a*l,0,p*h-a*u,m*h+a*l,r*h*h+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,a,r,l){return this.set(1,i,r,0,e,1,l,0,t,a,1,0,0,0,0,1),this}compose(e,t,i){const a=this.elements,r=t._x,l=t._y,u=t._z,h=t._w,p=r+r,m=l+l,v=u+u,x=r*p,b=r*m,M=r*v,C=l*m,E=l*v,w=u*v,R=h*p,D=h*m,O=h*v,P=i.x,U=i.y,V=i.z;return a[0]=(1-(C+w))*P,a[1]=(b+O)*P,a[2]=(M-D)*P,a[3]=0,a[4]=(b-O)*U,a[5]=(1-(x+w))*U,a[6]=(E+R)*U,a[7]=0,a[8]=(M+D)*V,a[9]=(E-R)*V,a[10]=(1-(x+C))*V,a[11]=0,a[12]=e.x,a[13]=e.y,a[14]=e.z,a[15]=1,this}decompose(e,t,i){const a=this.elements;let r=ip.set(a[0],a[1],a[2]).length();const l=ip.set(a[4],a[5],a[6]).length(),u=ip.set(a[8],a[9],a[10]).length();this.determinant()<0&&(r=-r),e.x=a[12],e.y=a[13],e.z=a[14],Fo.copy(this);const p=1/r,m=1/l,v=1/u;return Fo.elements[0]*=p,Fo.elements[1]*=p,Fo.elements[2]*=p,Fo.elements[4]*=m,Fo.elements[5]*=m,Fo.elements[6]*=m,Fo.elements[8]*=v,Fo.elements[9]*=v,Fo.elements[10]*=v,t.setFromRotationMatrix(Fo),i.x=r,i.y=l,i.z=u,this}makePerspective(e,t,i,a,r,l,u=Or,h=!1){const p=this.elements,m=2*r/(t-e),v=2*r/(i-a),x=(t+e)/(t-e),b=(i+a)/(i-a);let M,C;if(h)M=r/(l-r),C=l*r/(l-r);else if(u===Or)M=-(l+r)/(l-r),C=-2*l*r/(l-r);else if(u===Kp)M=-l/(l-r),C=-l*r/(l-r);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=x,p[12]=0,p[1]=0,p[5]=v,p[9]=b,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=C,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,i,a,r,l,u=Or,h=!1){const p=this.elements,m=2/(t-e),v=2/(i-a),x=-(t+e)/(t-e),b=-(i+a)/(i-a);let M,C;if(h)M=1/(l-r),C=l/(l-r);else if(u===Or)M=-2/(l-r),C=-(l+r)/(l-r);else if(u===Kp)M=-1/(l-r),C=-r/(l-r);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+u);return p[0]=m,p[4]=0,p[8]=0,p[12]=x,p[1]=0,p[5]=v,p[9]=0,p[13]=b,p[2]=0,p[6]=0,p[10]=M,p[14]=C,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let a=0;a<16;a++)if(t[a]!==i[a])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const ip=new te,Fo=new cn,lG=new te(0,0,0),cG=new te(1,1,1),Fu=new te,hx=new te,Rr=new te,cC=new cn,uC=new xs;class Br{constructor(e=0,t=0,i=0,a=Br.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=a}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,a=this._order){return this._x=e,this._y=t,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const a=e.elements,r=a[0],l=a[4],u=a[8],h=a[1],p=a[5],m=a[9],v=a[2],x=a[6],b=a[10];switch(t){case"XYZ":this._y=Math.asin(rn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-m,b),this._z=Math.atan2(-l,r)):(this._x=Math.atan2(x,p),this._z=0);break;case"YXZ":this._x=Math.asin(-rn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(u,b),this._z=Math.atan2(h,p)):(this._y=Math.atan2(-v,r),this._z=0);break;case"ZXY":this._x=Math.asin(rn(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(-v,b),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(h,r));break;case"ZYX":this._y=Math.asin(-rn(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(x,b),this._z=Math.atan2(h,r)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(rn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-m,p),this._y=Math.atan2(-v,r)):(this._x=0,this._y=Math.atan2(u,b));break;case"XZY":this._z=Math.asin(-rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(x,p),this._y=Math.atan2(u,r)):(this._x=Math.atan2(-m,b),this._y=0);break;default:At("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return cC.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cC,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return uC.setFromEuler(this),this.setFromQuaternion(uC,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Br.DEFAULT_ORDER="XYZ";class $p{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let uG=0;const fC=new te,ap=new xs,Mc=new cn,dx=new te,F0=new te,fG=new te,hG=new xs,hC=new te(1,0,0),dC=new te(0,1,0),pC=new te(0,0,1),mC={type:"added"},dG={type:"removed"},sp={type:"childadded",child:null},nw={type:"childremoved",child:null};class qn extends Yl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:uG++}),this.uuid=Ur(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=qn.DEFAULT_UP.clone();const e=new te,t=new Br,i=new xs,a=new te(1,1,1);function r(){i.setFromEuler(t,!1)}function l(){t.setFromQuaternion(i,void 0,!1)}t._onChange(r),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new cn},normalMatrix:{value:new Sn}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=qn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $p,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return ap.setFromAxisAngle(e,t),this.quaternion.multiply(ap),this}rotateOnWorldAxis(e,t){return ap.setFromAxisAngle(e,t),this.quaternion.premultiply(ap),this}rotateX(e){return this.rotateOnAxis(hC,e)}rotateY(e){return this.rotateOnAxis(dC,e)}rotateZ(e){return this.rotateOnAxis(pC,e)}translateOnAxis(e,t){return fC.copy(e).applyQuaternion(this.quaternion),this.position.add(fC.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(hC,e)}translateY(e){return this.translateOnAxis(dC,e)}translateZ(e){return this.translateOnAxis(pC,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Mc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?dx.copy(e):dx.set(e,t,i);const a=this.parent;this.updateWorldMatrix(!0,!1),F0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mc.lookAt(F0,dx,this.up):Mc.lookAt(dx,F0,this.up),this.quaternion.setFromRotationMatrix(Mc),a&&(Mc.extractRotation(a.matrixWorld),ap.setFromRotationMatrix(Mc),this.quaternion.premultiply(ap.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(hn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(mC),sp.child=e,this.dispatchEvent(sp),sp.child=null):hn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(dG),nw.child=e,this.dispatchEvent(nw),nw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Mc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Mc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(mC),sp.child=e,this.dispatchEvent(sp),sp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,a=this.children.length;i<a;i++){const l=this.children[i].getObjectByProperty(e,t);if(l!==void 0)return l}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(F0,e,fG),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(F0,hG,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,a=t.length;i<a;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const a=this.children;for(let r=0,l=a.length;r<l;r++)a[r].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(u=>({...u,boundingBox:u.boundingBox?u.boundingBox.toJSON():void 0,boundingSphere:u.boundingSphere?u.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(u=>({...u})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(e),a.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(a.boundingBox=this.boundingBox.toJSON()));function r(u,h){return u[h.uuid]===void 0&&(u[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=r(e.geometries,this.geometry);const u=this.geometry.parameters;if(u!==void 0&&u.shapes!==void 0){const h=u.shapes;if(Array.isArray(h))for(let p=0,m=h.length;p<m;p++){const v=h[p];r(e.shapes,v)}else r(e.shapes,h)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(r(e.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const u=[];for(let h=0,p=this.material.length;h<p;h++)u.push(r(e.materials,this.material[h]));a.material=u}else a.material=r(e.materials,this.material);if(this.children.length>0){a.children=[];for(let u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(e).object)}if(this.animations.length>0){a.animations=[];for(let u=0;u<this.animations.length;u++){const h=this.animations[u];a.animations.push(r(e.animations,h))}}if(t){const u=l(e.geometries),h=l(e.materials),p=l(e.textures),m=l(e.images),v=l(e.shapes),x=l(e.skeletons),b=l(e.animations),M=l(e.nodes);u.length>0&&(i.geometries=u),h.length>0&&(i.materials=h),p.length>0&&(i.textures=p),m.length>0&&(i.images=m),v.length>0&&(i.shapes=v),x.length>0&&(i.skeletons=x),b.length>0&&(i.animations=b),M.length>0&&(i.nodes=M)}return i.object=a,i;function l(u){const h=[];for(const p in u){const m=u[p];delete m.metadata,h.push(m)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const a=e.children[i];this.add(a.clone())}return this}}qn.DEFAULT_UP=new te(0,1,0);qn.DEFAULT_MATRIX_AUTO_UPDATE=!0;qn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ho=new te,Ec=new te,iw=new te,Tc=new te,rp=new te,op=new te,gC=new te,aw=new te,sw=new te,rw=new te,ow=new Wn,lw=new Wn,cw=new Wn;class pr{constructor(e=new te,t=new te,i=new te){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,a){a.subVectors(i,t),Ho.subVectors(e,t),a.cross(Ho);const r=a.lengthSq();return r>0?a.multiplyScalar(1/Math.sqrt(r)):a.set(0,0,0)}static getBarycoord(e,t,i,a,r){Ho.subVectors(a,t),Ec.subVectors(i,t),iw.subVectors(e,t);const l=Ho.dot(Ho),u=Ho.dot(Ec),h=Ho.dot(iw),p=Ec.dot(Ec),m=Ec.dot(iw),v=l*p-u*u;if(v===0)return r.set(0,0,0),null;const x=1/v,b=(p*h-u*m)*x,M=(l*m-u*h)*x;return r.set(1-b-M,M,b)}static containsPoint(e,t,i,a){return this.getBarycoord(e,t,i,a,Tc)===null?!1:Tc.x>=0&&Tc.y>=0&&Tc.x+Tc.y<=1}static getInterpolation(e,t,i,a,r,l,u,h){return this.getBarycoord(e,t,i,a,Tc)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(r,Tc.x),h.addScaledVector(l,Tc.y),h.addScaledVector(u,Tc.z),h)}static getInterpolatedAttribute(e,t,i,a,r,l){return ow.setScalar(0),lw.setScalar(0),cw.setScalar(0),ow.fromBufferAttribute(e,t),lw.fromBufferAttribute(e,i),cw.fromBufferAttribute(e,a),l.setScalar(0),l.addScaledVector(ow,r.x),l.addScaledVector(lw,r.y),l.addScaledVector(cw,r.z),l}static isFrontFacing(e,t,i,a){return Ho.subVectors(i,t),Ec.subVectors(e,t),Ho.cross(Ec).dot(a)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,a){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[a]),this}setFromAttributeAndIndices(e,t,i,a){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,a),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ho.subVectors(this.c,this.b),Ec.subVectors(this.a,this.b),Ho.cross(Ec).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return pr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return pr.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,a,r){return pr.getInterpolation(e,this.a,this.b,this.c,t,i,a,r)}containsPoint(e){return pr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return pr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,a=this.b,r=this.c;let l,u;rp.subVectors(a,i),op.subVectors(r,i),aw.subVectors(e,i);const h=rp.dot(aw),p=op.dot(aw);if(h<=0&&p<=0)return t.copy(i);sw.subVectors(e,a);const m=rp.dot(sw),v=op.dot(sw);if(m>=0&&v<=m)return t.copy(a);const x=h*v-m*p;if(x<=0&&h>=0&&m<=0)return l=h/(h-m),t.copy(i).addScaledVector(rp,l);rw.subVectors(e,r);const b=rp.dot(rw),M=op.dot(rw);if(M>=0&&b<=M)return t.copy(r);const C=b*p-h*M;if(C<=0&&p>=0&&M<=0)return u=p/(p-M),t.copy(i).addScaledVector(op,u);const E=m*M-b*v;if(E<=0&&v-m>=0&&b-M>=0)return gC.subVectors(r,a),u=(v-m)/(v-m+(b-M)),t.copy(a).addScaledVector(gC,u);const w=1/(E+C+x);return l=C*w,u=x*w,t.copy(i).addScaledVector(rp,l).addScaledVector(op,u)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const mO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Hu={h:0,s:0,l:0},px={h:0,s:0,l:0};function uw(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class Lt{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const a=e;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=ts){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,kn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,a=kn.workingColorSpace){return this.r=e,this.g=t,this.b=i,kn.colorSpaceToWorking(this,a),this}setHSL(e,t,i,a=kn.workingColorSpace){if(e=wE(e,1),t=rn(t,0,1),i=rn(i,0,1),t===0)this.r=this.g=this.b=i;else{const r=i<=.5?i*(1+t):i+t-i*t,l=2*i-r;this.r=uw(l,r,e+1/3),this.g=uw(l,r,e),this.b=uw(l,r,e-1/3)}return kn.colorSpaceToWorking(this,a),this}setStyle(e,t=ts){function i(r){r!==void 0&&parseFloat(r)<1&&At("Color: Alpha component of "+e+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(e)){let r;const l=a[1],u=a[2];switch(l){case"rgb":case"rgba":if(r=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(255,parseInt(r[1],10))/255,Math.min(255,parseInt(r[2],10))/255,Math.min(255,parseInt(r[3],10))/255,t);if(r=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setRGB(Math.min(100,parseInt(r[1],10))/100,Math.min(100,parseInt(r[2],10))/100,Math.min(100,parseInt(r[3],10))/100,t);break;case"hsl":case"hsla":if(r=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(u))return i(r[4]),this.setHSL(parseFloat(r[1])/360,parseFloat(r[2])/100,parseFloat(r[3])/100,t);break;default:At("Color: Unknown color model "+e)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(e)){const r=a[1],l=r.length;if(l===3)return this.setRGB(parseInt(r.charAt(0),16)/15,parseInt(r.charAt(1),16)/15,parseInt(r.charAt(2),16)/15,t);if(l===6)return this.setHex(parseInt(r,16),t);At("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=ts){const i=mO[e.toLowerCase()];return i!==void 0?this.setHex(i,t):At("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pc(e.r),this.g=Pc(e.g),this.b=Pc(e.b),this}copyLinearToSRGB(e){return this.r=Up(e.r),this.g=Up(e.g),this.b=Up(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ts){return kn.workingToColorSpace(ms.copy(this),e),Math.round(rn(ms.r*255,0,255))*65536+Math.round(rn(ms.g*255,0,255))*256+Math.round(rn(ms.b*255,0,255))}getHexString(e=ts){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=kn.workingColorSpace){kn.workingToColorSpace(ms.copy(this),t);const i=ms.r,a=ms.g,r=ms.b,l=Math.max(i,a,r),u=Math.min(i,a,r);let h,p;const m=(u+l)/2;if(u===l)h=0,p=0;else{const v=l-u;switch(p=m<=.5?v/(l+u):v/(2-l-u),l){case i:h=(a-r)/v+(a<r?6:0);break;case a:h=(r-i)/v+2;break;case r:h=(i-a)/v+4;break}h/=6}return e.h=h,e.s=p,e.l=m,e}getRGB(e,t=kn.workingColorSpace){return kn.workingToColorSpace(ms.copy(this),t),e.r=ms.r,e.g=ms.g,e.b=ms.b,e}getStyle(e=ts){kn.workingToColorSpace(ms.copy(this),e);const t=ms.r,i=ms.g,a=ms.b;return e!==ts?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(e,t,i){return this.getHSL(Hu),this.setHSL(Hu.h+e,Hu.s+t,Hu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Hu),e.getHSL(px);const i=gg(Hu.h,px.h,t),a=gg(Hu.s,px.s,t),r=gg(Hu.l,px.l,t);return this.setHSL(i,a,r),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,a=this.b,r=e.elements;return this.r=r[0]*t+r[3]*i+r[6]*a,this.g=r[1]*t+r[4]*i+r[7]*a,this.b=r[2]*t+r[5]*i+r[8]*a,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ms=new Lt;Lt.NAMES=mO;let pG=0;class Ss extends Yl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:pG++}),this.uuid=Ur(),this.name="",this.type="Material",this.blending=Bh,this.side=Hc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Fb,this.blendDst=Hb,this.blendEquation=Yu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Lt(0,0,0),this.blendAlpha=0,this.depthFunc=Hh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=k2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Sh,this.stencilZFail=Sh,this.stencilZPass=Sh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){At(`Material: parameter '${t}' has value of undefined.`);continue}const a=this[t];if(a===void 0){At(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(i.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Bh&&(i.blending=this.blending),this.side!==Hc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Fb&&(i.blendSrc=this.blendSrc),this.blendDst!==Hb&&(i.blendDst=this.blendDst),this.blendEquation!==Yu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Hh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==k2&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Sh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Sh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Sh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(r){const l=[];for(const u in r){const h=r[u];delete h.metadata,l.push(h)}return l}if(t){const r=a(e.textures),l=a(e.images);r.length>0&&(i.textures=r),l.length>0&&(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const a=t.length;i=new Array(a);for(let r=0;r!==a;++r)i[r]=t[r].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class jc extends Ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Br,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oc=mG();function mG(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let h=0;h<256;++h){const p=h-127;p<-27?(i[h]=0,i[h|256]=32768,a[h]=24,a[h|256]=24):p<-14?(i[h]=1024>>-p-14,i[h|256]=1024>>-p-14|32768,a[h]=-p-1,a[h|256]=-p-1):p<=15?(i[h]=p+15<<10,i[h|256]=p+15<<10|32768,a[h]=13,a[h|256]=13):p<128?(i[h]=31744,i[h|256]=64512,a[h]=24,a[h|256]=24):(i[h]=31744,i[h|256]=64512,a[h]=13,a[h|256]=13)}const r=new Uint32Array(2048),l=new Uint32Array(64),u=new Uint32Array(64);for(let h=1;h<1024;++h){let p=h<<13,m=0;for(;(p&8388608)===0;)p<<=1,m-=8388608;p&=-8388609,m+=947912704,r[h]=p|m}for(let h=1024;h<2048;++h)r[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)l[h]=h<<23;l[31]=1199570944,l[32]=2147483648;for(let h=33;h<63;++h)l[h]=2147483648+(h-32<<23);l[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(u[h]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:a,mantissaTable:r,exponentTable:l,offsetTable:u}}function dr(n){Math.abs(n)>65504&&At("DataUtils.toHalfFloat(): Value out of range."),n=rn(n,-65504,65504),Oc.floatView[0]=n;const e=Oc.uint32View[0],t=e>>23&511;return Oc.baseTable[t]+((e&8388607)>>Oc.shiftTable[t])}function tg(n){const e=n>>10;return Oc.uint32View[0]=Oc.mantissaTable[Oc.offsetTable[e]+(n&1023)]+Oc.exponentTable[e],Oc.floatView[0]}class Rh{static toHalfFloat(e){return dr(e)}static fromHalfFloat(e){return tg(e)}}const xa=new te,mx=new qe;let gG=0;class yi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:gG++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=zg,this.updateRanges=[],this.gpuType=Wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let a=0,r=this.itemSize;a<r;a++)this.array[e+a]=t.array[i+a];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)mx.fromBufferAttribute(this,t),mx.applyMatrix3(e),this.setXY(t,mx.x,mx.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)xa.fromBufferAttribute(this,t),xa.applyMatrix3(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)xa.fromBufferAttribute(this,t),xa.applyMatrix4(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)xa.fromBufferAttribute(this,t),xa.applyNormalMatrix(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)xa.fromBufferAttribute(this,t),xa.transformDirection(e),this.setXYZ(t,xa.x,xa.y,xa.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Gs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Tn(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Gs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Gs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Gs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Gs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array),r=Tn(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=a,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zg&&(e.usage=this.usage),e}}class vG extends yi{constructor(e,t,i){super(new Int8Array(e),t,i)}}class yG extends yi{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class xG extends yi{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class bG extends yi{constructor(e,t,i){super(new Int16Array(e),t,i)}}class EE extends yi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class _G extends yi{constructor(e,t,i){super(new Int32Array(e),t,i)}}class TE extends yi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class SG extends yi{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=tg(this.array[e*this.itemSize]);return this.normalized&&(t=Gs(t,this.array)),t}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize]=dr(t),this}getY(e){let t=tg(this.array[e*this.itemSize+1]);return this.normalized&&(t=Gs(t,this.array)),t}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+1]=dr(t),this}getZ(e){let t=tg(this.array[e*this.itemSize+2]);return this.normalized&&(t=Gs(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+2]=dr(t),this}getW(e){let t=tg(this.array[e*this.itemSize+3]);return this.normalized&&(t=Gs(t,this.array)),t}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.array[e*this.itemSize+3]=dr(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array)),this.array[e+0]=dr(t),this.array[e+1]=dr(i),this}setXYZ(e,t,i,a){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.array[e+0]=dr(t),this.array[e+1]=dr(i),this.array[e+2]=dr(a),this}setXYZW(e,t,i,a,r){return e*=this.itemSize,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array),r=Tn(r,this.array)),this.array[e+0]=dr(t),this.array[e+1]=dr(i),this.array[e+2]=dr(a),this.array[e+3]=dr(r),this}}class Ht extends yi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let wG=0;const so=new cn,fw=new qn,lp=new te,Dr=new bs,H0=new bs,ka=new te;class wn extends Yl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:wG++}),this.uuid=Ur(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(hO(e)?TE:EE)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const r=new Sn().getNormalMatrix(e);i.applyNormalMatrix(r),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(e),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return so.makeRotationFromQuaternion(e),this.applyMatrix4(so),this}rotateX(e){return so.makeRotationX(e),this.applyMatrix4(so),this}rotateY(e){return so.makeRotationY(e),this.applyMatrix4(so),this}rotateZ(e){return so.makeRotationZ(e),this.applyMatrix4(so),this}translate(e,t,i){return so.makeTranslation(e,t,i),this.applyMatrix4(so),this}scale(e,t,i){return so.makeScale(e,t,i),this.applyMatrix4(so),this}lookAt(e){return fw.lookAt(e),fw.updateMatrix(),this.applyMatrix4(fw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lp).negate(),this.translate(lp.x,lp.y,lp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let a=0,r=e.length;a<r;a++){const l=e[a];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Ht(i,3))}else{const i=Math.min(e.length,t.count);for(let a=0;a<i;a++){const r=e[a];t.setXYZ(a,r.x,r.y,r.z||0)}e.length>t.count&&At("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){hn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,a=t.length;i<a;i++){const r=t[i];Dr.setFromBufferAttribute(r),this.morphTargetsRelative?(ka.addVectors(this.boundingBox.min,Dr.min),this.boundingBox.expandByPoint(ka),ka.addVectors(this.boundingBox.max,Dr.max),this.boundingBox.expandByPoint(ka)):(this.boundingBox.expandByPoint(Dr.min),this.boundingBox.expandByPoint(Dr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&hn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new as);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){hn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new te,1/0);return}if(e){const i=this.boundingSphere.center;if(Dr.setFromBufferAttribute(e),t)for(let r=0,l=t.length;r<l;r++){const u=t[r];H0.setFromBufferAttribute(u),this.morphTargetsRelative?(ka.addVectors(Dr.min,H0.min),Dr.expandByPoint(ka),ka.addVectors(Dr.max,H0.max),Dr.expandByPoint(ka)):(Dr.expandByPoint(H0.min),Dr.expandByPoint(H0.max))}Dr.getCenter(i);let a=0;for(let r=0,l=e.count;r<l;r++)ka.fromBufferAttribute(e,r),a=Math.max(a,i.distanceToSquared(ka));if(t)for(let r=0,l=t.length;r<l;r++){const u=t[r],h=this.morphTargetsRelative;for(let p=0,m=u.count;p<m;p++)ka.fromBufferAttribute(u,p),h&&(lp.fromBufferAttribute(e,p),ka.add(lp)),a=Math.max(a,i.distanceToSquared(ka))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&hn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){hn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,a=t.normal,r=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new yi(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),u=[],h=[];for(let H=0;H<i.count;H++)u[H]=new te,h[H]=new te;const p=new te,m=new te,v=new te,x=new qe,b=new qe,M=new qe,C=new te,E=new te;function w(H,I,L){p.fromBufferAttribute(i,H),m.fromBufferAttribute(i,I),v.fromBufferAttribute(i,L),x.fromBufferAttribute(r,H),b.fromBufferAttribute(r,I),M.fromBufferAttribute(r,L),m.sub(p),v.sub(p),b.sub(x),M.sub(x);const q=1/(b.x*M.y-M.x*b.y);isFinite(q)&&(C.copy(m).multiplyScalar(M.y).addScaledVector(v,-b.y).multiplyScalar(q),E.copy(v).multiplyScalar(b.x).addScaledVector(m,-M.x).multiplyScalar(q),u[H].add(C),u[I].add(C),u[L].add(C),h[H].add(E),h[I].add(E),h[L].add(E))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let H=0,I=R.length;H<I;++H){const L=R[H],q=L.start,J=L.count;for(let re=q,de=q+J;re<de;re+=3)w(e.getX(re+0),e.getX(re+1),e.getX(re+2))}const D=new te,O=new te,P=new te,U=new te;function V(H){P.fromBufferAttribute(a,H),U.copy(P);const I=u[H];D.copy(I),D.sub(P.multiplyScalar(P.dot(I))).normalize(),O.crossVectors(U,I);const q=O.dot(h[H])<0?-1:1;l.setXYZW(H,D.x,D.y,D.z,q)}for(let H=0,I=R.length;H<I;++H){const L=R[H],q=L.start,J=L.count;for(let re=q,de=q+J;re<de;re+=3)V(e.getX(re+0)),V(e.getX(re+1)),V(e.getX(re+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new yi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let x=0,b=i.count;x<b;x++)i.setXYZ(x,0,0,0);const a=new te,r=new te,l=new te,u=new te,h=new te,p=new te,m=new te,v=new te;if(e)for(let x=0,b=e.count;x<b;x+=3){const M=e.getX(x+0),C=e.getX(x+1),E=e.getX(x+2);a.fromBufferAttribute(t,M),r.fromBufferAttribute(t,C),l.fromBufferAttribute(t,E),m.subVectors(l,r),v.subVectors(a,r),m.cross(v),u.fromBufferAttribute(i,M),h.fromBufferAttribute(i,C),p.fromBufferAttribute(i,E),u.add(m),h.add(m),p.add(m),i.setXYZ(M,u.x,u.y,u.z),i.setXYZ(C,h.x,h.y,h.z),i.setXYZ(E,p.x,p.y,p.z)}else for(let x=0,b=t.count;x<b;x+=3)a.fromBufferAttribute(t,x+0),r.fromBufferAttribute(t,x+1),l.fromBufferAttribute(t,x+2),m.subVectors(l,r),v.subVectors(a,r),m.cross(v),i.setXYZ(x+0,m.x,m.y,m.z),i.setXYZ(x+1,m.x,m.y,m.z),i.setXYZ(x+2,m.x,m.y,m.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)ka.fromBufferAttribute(e,t),ka.normalize(),e.setXYZ(t,ka.x,ka.y,ka.z)}toNonIndexed(){function e(u,h){const p=u.array,m=u.itemSize,v=u.normalized,x=new p.constructor(h.length*m);let b=0,M=0;for(let C=0,E=h.length;C<E;C++){u.isInterleavedBufferAttribute?b=h[C]*u.data.stride+u.offset:b=h[C]*m;for(let w=0;w<m;w++)x[M++]=p[b++]}return new yi(x,m,v)}if(this.index===null)return At("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new wn,i=this.index.array,a=this.attributes;for(const u in a){const h=a[u],p=e(h,i);t.setAttribute(u,p)}const r=this.morphAttributes;for(const u in r){const h=[],p=r[u];for(let m=0,v=p.length;m<v;m++){const x=p[m],b=e(x,i);h.push(b)}t.morphAttributes[u]=h}t.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let u=0,h=l.length;u<h;u++){const p=l[u];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const p in h)h[p]!==void 0&&(e[p]=h[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const h in i){const p=i[h];e.data.attributes[h]=p.toJSON(e.data)}const a={};let r=!1;for(const h in this.morphAttributes){const p=this.morphAttributes[h],m=[];for(let v=0,x=p.length;v<x;v++){const b=p[v];m.push(b.toJSON(e.data))}m.length>0&&(a[h]=m,r=!0)}r&&(e.data.morphAttributes=a,e.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length>0&&(e.data.groups=JSON.parse(JSON.stringify(l)));const u=this.boundingSphere;return u!==null&&(e.data.boundingSphere=u.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const a=e.attributes;for(const p in a){const m=a[p];this.setAttribute(p,m.clone(t))}const r=e.morphAttributes;for(const p in r){const m=[],v=r[p];for(let x=0,b=v.length;x<b;x++)m.push(v[x].clone(t));this.morphAttributes[p]=m}this.morphTargetsRelative=e.morphTargetsRelative;const l=e.groups;for(let p=0,m=l.length;p<m;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const u=e.boundingBox;u!==null&&(this.boundingBox=u.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const vC=new cn,oh=new qh,gx=new as,yC=new te,vx=new te,yx=new te,xx=new te,hw=new te,bx=new te,xC=new te,_x=new te;class na extends qn{constructor(e=new wn,t=new jc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}getVertexPosition(e,t){const i=this.geometry,a=i.attributes.position,r=i.morphAttributes.position,l=i.morphTargetsRelative;t.fromBufferAttribute(a,e);const u=this.morphTargetInfluences;if(r&&u){bx.set(0,0,0);for(let h=0,p=r.length;h<p;h++){const m=u[h],v=r[h];m!==0&&(hw.fromBufferAttribute(v,e),l?bx.addScaledVector(hw,m):bx.addScaledVector(hw.sub(t),m))}t.add(bx)}return t}raycast(e,t){const i=this.geometry,a=this.material,r=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),gx.copy(i.boundingSphere),gx.applyMatrix4(r),oh.copy(e.ray).recast(e.near),!(gx.containsPoint(oh.origin)===!1&&(oh.intersectSphere(gx,yC)===null||oh.origin.distanceToSquared(yC)>(e.far-e.near)**2))&&(vC.copy(r).invert(),oh.copy(e.ray).applyMatrix4(vC),!(i.boundingBox!==null&&oh.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,oh)))}_computeIntersections(e,t,i){let a;const r=this.geometry,l=this.material,u=r.index,h=r.attributes.position,p=r.attributes.uv,m=r.attributes.uv1,v=r.attributes.normal,x=r.groups,b=r.drawRange;if(u!==null)if(Array.isArray(l))for(let M=0,C=x.length;M<C;M++){const E=x[M],w=l[E.materialIndex],R=Math.max(E.start,b.start),D=Math.min(u.count,Math.min(E.start+E.count,b.start+b.count));for(let O=R,P=D;O<P;O+=3){const U=u.getX(O),V=u.getX(O+1),H=u.getX(O+2);a=Sx(this,w,e,i,p,m,v,U,V,H),a&&(a.faceIndex=Math.floor(O/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const M=Math.max(0,b.start),C=Math.min(u.count,b.start+b.count);for(let E=M,w=C;E<w;E+=3){const R=u.getX(E),D=u.getX(E+1),O=u.getX(E+2);a=Sx(this,l,e,i,p,m,v,R,D,O),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}else if(h!==void 0)if(Array.isArray(l))for(let M=0,C=x.length;M<C;M++){const E=x[M],w=l[E.materialIndex],R=Math.max(E.start,b.start),D=Math.min(h.count,Math.min(E.start+E.count,b.start+b.count));for(let O=R,P=D;O<P;O+=3){const U=O,V=O+1,H=O+2;a=Sx(this,w,e,i,p,m,v,U,V,H),a&&(a.faceIndex=Math.floor(O/3),a.face.materialIndex=E.materialIndex,t.push(a))}}else{const M=Math.max(0,b.start),C=Math.min(h.count,b.start+b.count);for(let E=M,w=C;E<w;E+=3){const R=E,D=E+1,O=E+2;a=Sx(this,l,e,i,p,m,v,R,D,O),a&&(a.faceIndex=Math.floor(E/3),t.push(a))}}}}function MG(n,e,t,i,a,r,l,u){let h;if(e.side===Xs?h=i.intersectTriangle(l,r,a,!0,u):h=i.intersectTriangle(a,r,l,e.side===Hc,u),h===null)return null;_x.copy(u),_x.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(_x);return p<t.near||p>t.far?null:{distance:p,point:_x.clone(),object:n}}function Sx(n,e,t,i,a,r,l,u,h,p){n.getVertexPosition(u,vx),n.getVertexPosition(h,yx),n.getVertexPosition(p,xx);const m=MG(n,e,t,i,vx,yx,xx,xC);if(m){const v=new te;pr.getBarycoord(xC,vx,yx,xx,v),a&&(m.uv=pr.getInterpolatedAttribute(a,u,h,p,v,new qe)),r&&(m.uv1=pr.getInterpolatedAttribute(r,u,h,p,v,new qe)),l&&(m.normal=pr.getInterpolatedAttribute(l,u,h,p,v,new te),m.normal.dot(i.direction)>0&&m.normal.multiplyScalar(-1));const x={a:u,b:h,c:p,normal:new te,materialIndex:0};pr.getNormal(vx,yx,xx,x.normal),m.face=x,m.barycoord=v}return m}class Yh extends wn{constructor(e=1,t=1,i=1,a=1,r=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:a,heightSegments:r,depthSegments:l};const u=this;a=Math.floor(a),r=Math.floor(r),l=Math.floor(l);const h=[],p=[],m=[],v=[];let x=0,b=0;M("z","y","x",-1,-1,i,t,e,l,r,0),M("z","y","x",1,-1,i,t,-e,l,r,1),M("x","z","y",1,1,e,i,t,a,l,2),M("x","z","y",1,-1,e,i,-t,a,l,3),M("x","y","z",1,-1,e,t,i,a,r,4),M("x","y","z",-1,-1,e,t,-i,a,r,5),this.setIndex(h),this.setAttribute("position",new Ht(p,3)),this.setAttribute("normal",new Ht(m,3)),this.setAttribute("uv",new Ht(v,2));function M(C,E,w,R,D,O,P,U,V,H,I){const L=O/V,q=P/H,J=O/2,re=P/2,de=U/2,ve=V+1,G=H+1;let K=0,$=0;const pe=new te;for(let X=0;X<G;X++){const fe=X*q-re;for(let xe=0;xe<ve;xe++){const Ce=xe*L-J;pe[C]=Ce*R,pe[E]=fe*D,pe[w]=de,p.push(pe.x,pe.y,pe.z),pe[C]=0,pe[E]=0,pe[w]=U>0?1:-1,m.push(pe.x,pe.y,pe.z),v.push(xe/V),v.push(1-X/H),K+=1}}for(let X=0;X<H;X++)for(let fe=0;fe<V;fe++){const xe=x+fe+ve*X,Ce=x+fe+ve*(X+1),Be=x+(fe+1)+ve*(X+1),ft=x+(fe+1)+ve*X;h.push(xe,Ce,ft),h.push(Ce,Be,ft),$+=6}u.addGroup(b,$,I),b+=$,x+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function em(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const a=n[t][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(At("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=a.clone():Array.isArray(a)?e[t][i]=a.slice():e[t][i]=a}}return e}function Fs(n){const e={};for(let t=0;t<n.length;t++){const i=em(n[t]);for(const a in i)e[a]=i[a]}return e}function EG(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function gO(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:kn.workingColorSpace}const vO={clone:em,merge:Fs};var TG=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,AG=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ys extends Ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=TG,this.fragmentShader=AG,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=em(e.uniforms),this.uniformsGroups=EG(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&&l.isTexture?t.uniforms[a]={type:"t",value:l.toJSON(e).uuid}:l&&l.isColor?t.uniforms[a]={type:"c",value:l.getHex()}:l&&l.isVector2?t.uniforms[a]={type:"v2",value:l.toArray()}:l&&l.isVector3?t.uniforms[a]={type:"v3",value:l.toArray()}:l&&l.isVector4?t.uniforms[a]={type:"v4",value:l.toArray()}:l&&l.isMatrix3?t.uniforms[a]={type:"m3",value:l.toArray()}:l&&l.isMatrix4?t.uniforms[a]={type:"m4",value:l.toArray()}:t.uniforms[a]={value:l}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class c_ extends qn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=Or,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ku=new te,bC=new qe,_C=new qe;class fa extends c_{constructor(e=50,t=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Jp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Jp*2*Math.atan(Math.tan(zh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ku.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ku.x,ku.y).multiplyScalar(-e/ku.z),ku.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ku.x,ku.y).multiplyScalar(-e/ku.z)}getViewSize(e,t){return this.getViewBounds(e,bC,_C),t.subVectors(_C,bC)}setViewOffset(e,t,i,a,r,l){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(zh*.5*this.fov)/this.zoom,i=2*t,a=this.aspect*i,r=-.5*a;const l=this.view;if(this.view!==null&&this.view.enabled){const h=l.fullWidth,p=l.fullHeight;r+=l.offsetX*a/h,t-=l.offsetY*i/p,a*=l.width/h,i*=l.height/p}const u=this.filmOffset;u!==0&&(r+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+a,t,t-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const cp=-90,up=1;class yO extends qn{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new fa(cp,up,e,t);a.layers=this.layers,this.add(a);const r=new fa(cp,up,e,t);r.layers=this.layers,this.add(r);const l=new fa(cp,up,e,t);l.layers=this.layers,this.add(l);const u=new fa(cp,up,e,t);u.layers=this.layers,this.add(u);const h=new fa(cp,up,e,t);h.layers=this.layers,this.add(h);const p=new fa(cp,up,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,a,r,l,u,h]=t;for(const p of t)this.remove(p);if(e===Or)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),u.up.set(0,1,0),u.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===Kp)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),u.up.set(0,-1,0),u.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,l,u,h,p,m]=this.children,v=e.getRenderTarget(),x=e.getActiveCubeFace(),b=e.getActiveMipmapLevel(),M=e.xr.enabled;e.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,a),e.render(t,r),e.setRenderTarget(i,1,a),e.render(t,l),e.setRenderTarget(i,2,a),e.render(t,u),e.setRenderTarget(i,3,a),e.render(t,h),e.setRenderTarget(i,4,a),e.render(t,p),i.texture.generateMipmaps=C,e.setRenderTarget(i,5,a),e.render(t,m),e.setRenderTarget(v,x,b),e.xr.enabled=M,i.texture.needsPMREMUpdate=!0}}class mv extends vi{constructor(e=[],t=Xl,i,a,r,l,u,h,p,m){super(e,t,i,a,r,l,u,h,p,m),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class AE extends ho{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},a=[i,i,i,i,i,i];this.texture=new mv(a),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Yh(5,5,5),r=new Ys({name:"CubemapFromEquirect",uniforms:em(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Xs,blending:Zo});r.uniforms.tEquirect.value=t;const l=new na(a,r),u=t.minFilter;return t.minFilter===Bl&&(t.minFilter=ti),new yO(1,10,this).update(e,l),t.minFilter=u,l.geometry.dispose(),l.material.dispose(),this}clear(e,t=!0,i=!0,a=!0){const r=e.getRenderTarget();for(let l=0;l<6;l++)e.setRenderTarget(this,l),e.clear(t,i,a);e.setRenderTarget(r)}}class Np extends qn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const CG={type:"move"};class mb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Np,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Np,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Np,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let a=null,r=null,l=null;const u=this._targetRay,h=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){l=!0;for(const C of e.hand.values()){const E=t.getJointPose(C,i),w=this._getHandJoint(p,C);E!==null&&(w.matrix.fromArray(E.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=E.radius),w.visible=E!==null}const m=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],x=m.position.distanceTo(v.position),b=.02,M=.005;p.inputState.pinching&&x>b+M?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&x<=b-M&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),r!==null&&(h.matrix.fromArray(r.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,r.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(r.linearVelocity)):h.hasLinearVelocity=!1,r.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(r.angularVelocity)):h.hasAngularVelocity=!1));u!==null&&(a=t.getPose(e.targetRaySpace,i),a===null&&r!==null&&(a=r),a!==null&&(u.matrix.fromArray(a.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,a.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(a.linearVelocity)):u.hasLinearVelocity=!1,a.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(a.angularVelocity)):u.hasAngularVelocity=!1,this.dispatchEvent(CG)))}return u!==null&&(u.visible=a!==null),h!==null&&(h.visible=r!==null),p!==null&&(p.visible=l!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Np;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class u_{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Lt(e),this.density=t}clone(){return new u_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class f_{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Lt(e),this.near=t,this.far=i}clone(){return new f_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class gv extends qn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Br,this.environmentIntensity=1,this.environmentRotation=new Br,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class h_{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=zg,this.updateRanges=[],this.version=0,this.uuid=Ur()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let a=0,r=this.stride;a<r;a++)this.array[e+a]=t.array[i+a];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ur()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ur()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Vs=new te;class kh{constructor(e,t,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Vs.fromBufferAttribute(this,t),Vs.applyMatrix4(e),this.setXYZ(t,Vs.x,Vs.y,Vs.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Vs.fromBufferAttribute(this,t),Vs.applyNormalMatrix(e),this.setXYZ(t,Vs.x,Vs.y,Vs.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Vs.fromBufferAttribute(this,t),Vs.transformDirection(e),this.setXYZ(t,Vs.x,Vs.y,Vs.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Gs(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Tn(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Tn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Gs(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Gs(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Gs(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Gs(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this}setXYZW(e,t,i,a,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Tn(t,this.array),i=Tn(i,this.array),a=Tn(a,this.array),r=Tn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=a,this.data.array[e+3]=r,this}clone(e){if(e===void 0){Fg("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return new yi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Fg("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[a+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class CE extends Ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let fp;const k0=new te,hp=new te,dp=new te,pp=new qe,G0=new qe,xO=new cn,wx=new te,j0=new te,Mx=new te,SC=new qe,dw=new qe,wC=new qe;class bO extends qn{constructor(e=new CE){if(super(),this.isSprite=!0,this.type="Sprite",fp===void 0){fp=new wn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new h_(t,5);fp.setIndex([0,1,2,0,2,3]),fp.setAttribute("position",new kh(i,3,0,!1)),fp.setAttribute("uv",new kh(i,2,3,!1))}this.geometry=fp,this.material=e,this.center=new qe(.5,.5),this.count=1}raycast(e,t){e.camera===null&&hn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),hp.setFromMatrixScale(this.matrixWorld),xO.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),dp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&hp.multiplyScalar(-dp.z);const i=this.material.rotation;let a,r;i!==0&&(r=Math.cos(i),a=Math.sin(i));const l=this.center;Ex(wx.set(-.5,-.5,0),dp,l,hp,a,r),Ex(j0.set(.5,-.5,0),dp,l,hp,a,r),Ex(Mx.set(.5,.5,0),dp,l,hp,a,r),SC.set(0,0),dw.set(1,0),wC.set(1,1);let u=e.ray.intersectTriangle(wx,j0,Mx,!1,k0);if(u===null&&(Ex(j0.set(-.5,.5,0),dp,l,hp,a,r),dw.set(0,1),u=e.ray.intersectTriangle(wx,Mx,j0,!1,k0),u===null))return;const h=e.ray.origin.distanceTo(k0);h<e.near||h>e.far||t.push({distance:h,point:k0.clone(),uv:pr.getInterpolation(k0,wx,j0,Mx,SC,dw,wC,new qe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ex(n,e,t,i,a,r){pp.subVectors(n,t).addScalar(.5).multiply(i),a!==void 0?(G0.x=r*pp.x-a*pp.y,G0.y=a*pp.x+r*pp.y):G0.copy(pp),n.copy(e),n.x+=G0.x,n.y+=G0.y,n.applyMatrix4(xO)}const Tx=new te,MC=new te;class _O extends qn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,a=t.length;i<a;i++){const r=t[i];this.addLevel(r.object.clone(),r.distance,r.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const a=this.levels;let r;for(r=0;r<a.length&&!(t<a[r].distance);r++);return a.splice(r,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const a=t.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,a;for(i=1,a=t.length;i<a;i++){let r=t[i].distance;if(t[i].object.visible&&(r-=r*t[i].hysteresis),e<r)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){Tx.setFromMatrixPosition(this.matrixWorld);const a=e.ray.origin.distanceTo(Tx);this.getObjectForDistance(a).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){Tx.setFromMatrixPosition(e.matrixWorld),MC.setFromMatrixPosition(this.matrixWorld);const i=Tx.distanceTo(MC)/e.zoom;t[0].object.visible=!0;let a,r;for(a=1,r=t.length;a<r;a++){let l=t[a].distance;if(t[a].object.visible&&(l-=l*t[a].hysteresis),i>=l)t[a-1].object.visible=!1,t[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<r;a++)t[a].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let a=0,r=i.length;a<r;a++){const l=i[a];t.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return t}}const EC=new te,TC=new Wn,AC=new Wn,RG=new te,CC=new cn,Ax=new te,pw=new as,RC=new cn,mw=new qh;class SO extends na{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=F2,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new bs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ax),this.boundingBox.expandByPoint(Ax)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new as),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,Ax),this.boundingSphere.expandByPoint(Ax)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pw.copy(this.boundingSphere),pw.applyMatrix4(a),e.ray.intersectsSphere(pw)!==!1&&(RC.copy(a).invert(),mw.copy(e.ray).applyMatrix4(RC),!(this.boundingBox!==null&&mw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,mw)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Wn,t=this.geometry.attributes.skinWeight;for(let i=0,a=t.count;i<a;i++){e.fromBufferAttribute(t,i);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===F2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===JL?this.bindMatrixInverse.copy(this.bindMatrix).invert():At("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,a=this.geometry;TC.fromBufferAttribute(a.attributes.skinIndex,e),AC.fromBufferAttribute(a.attributes.skinWeight,e),EC.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let r=0;r<4;r++){const l=AC.getComponent(r);if(l!==0){const u=TC.getComponent(r);CC.multiplyMatrices(i.bones[u].matrixWorld,i.boneInverses[u]),t.addScaledVector(RG.copy(EC).applyMatrix4(CC),l)}}return t.applyMatrix4(this.bindMatrixInverse)}}class RE extends qn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class co extends vi{constructor(e=null,t=1,i=1,a,r,l,u,h,p=is,m=is,v,x){super(null,l,u,h,p,m,a,r,v,x),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const DC=new cn,DG=new cn;class d_{constructor(e=[],t=[]){this.uuid=Ur(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){At("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new cn;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let r=0,l=e.length;r<l;r++){const u=e[r]?e[r].matrixWorld:DG;DC.multiplyMatrices(u,t[r]),DC.toArray(i,r*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new d_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new co(t,e,e,ha,Wi);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const a=this.bones[t];if(a.name===e)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,a=e.bones.length;i<a;i++){const r=e.bones[i];let l=t[r];l===void 0&&(At("Skeleton: No bone found with UUID:",r),l=new RE),this.bones.push(l),this.boneInverses.push(new cn().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let a=0,r=t.length;a<r;a++){const l=t[a];e.bones.push(l.uuid);const u=i[a];e.boneInverses.push(u.toArray())}return e}}class tm extends yi{constructor(e,t,i,a=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mp=new cn,NC=new cn,Cx=[],LC=new bs,NG=new cn,X0=new na,W0=new as;class wO extends na{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new tm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,NG)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new bs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,mp),LC.copy(e.boundingBox).applyMatrix4(mp),this.boundingBox.union(LC)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new as),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,mp),W0.copy(e.boundingSphere).applyMatrix4(mp),this.boundingSphere.union(W0)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,a=this.morphTexture.source.data.data,r=i.length+1,l=e*r+1;for(let u=0;u<i.length;u++)i[u]=a[l+u]}raycast(e,t){const i=this.matrixWorld,a=this.count;if(X0.geometry=this.geometry,X0.material=this.material,X0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),W0.copy(this.boundingSphere),W0.applyMatrix4(i),e.ray.intersectsSphere(W0)!==!1))for(let r=0;r<a;r++){this.getMatrixAt(r,mp),NC.multiplyMatrices(i,mp),X0.matrixWorld=NC,X0.raycast(e,Cx);for(let l=0,u=Cx.length;l<u;l++){const h=Cx[l];h.instanceId=r,h.object=this,t.push(h)}Cx.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new tm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new co(new Float32Array(a*this.count),a,this.count,dv,Wi));const r=this.morphTexture.source.data.data;let l=0;for(let p=0;p<i.length;p++)l+=i[p];const u=this.geometry.morphTargetsRelative?1:1-l,h=a*e;r[h]=u,r.set(i,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const gw=new te,LG=new te,OG=new Sn;class Nc{constructor(e=new te(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,a){return this.normal.set(e,t,i),this.constant=a,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const a=gw.subVectors(i,t).cross(LG.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(a,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(gw),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/a;return r<0||r>1?null:t.copy(e.start).addScaledVector(i,r)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||OG.getNormalMatrix(e),a=this.coplanarPoint(gw).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const lh=new as,UG=new qe(.5,.5),Rx=new te;class vm{constructor(e=new Nc,t=new Nc,i=new Nc,a=new Nc,r=new Nc,l=new Nc){this.planes=[e,t,i,a,r,l]}set(e,t,i,a,r,l){const u=this.planes;return u[0].copy(e),u[1].copy(t),u[2].copy(i),u[3].copy(a),u[4].copy(r),u[5].copy(l),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Or,i=!1){const a=this.planes,r=e.elements,l=r[0],u=r[1],h=r[2],p=r[3],m=r[4],v=r[5],x=r[6],b=r[7],M=r[8],C=r[9],E=r[10],w=r[11],R=r[12],D=r[13],O=r[14],P=r[15];if(a[0].setComponents(p-l,b-m,w-M,P-R).normalize(),a[1].setComponents(p+l,b+m,w+M,P+R).normalize(),a[2].setComponents(p+u,b+v,w+C,P+D).normalize(),a[3].setComponents(p-u,b-v,w-C,P-D).normalize(),i)a[4].setComponents(h,x,E,O).normalize(),a[5].setComponents(p-h,b-x,w-E,P-O).normalize();else if(a[4].setComponents(p-h,b-x,w-E,P-O).normalize(),t===Or)a[5].setComponents(p+h,b+x,w+E,P+O).normalize();else if(t===Kp)a[5].setComponents(h,x,E,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),lh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),lh.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(lh)}intersectsSprite(e){lh.center.set(0,0,0);const t=UG.distanceTo(e.center);return lh.radius=.7071067811865476+t,lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(lh)}intersectsSphere(e){const t=this.planes,i=e.center,a=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(i)<a)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const a=t[i];if(Rx.x=a.normal.x>0?e.max.x:e.min.x,Rx.y=a.normal.y>0?e.max.y:e.min.y,Rx.z=a.normal.z>0?e.max.z:e.min.z,a.distanceToPoint(Rx)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ll=new cn,Ol=new vm;class p_{constructor(){this.coordinateSystem=Or}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Ll.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ol.setFromProjectionMatrix(Ll,a.coordinateSystem,a.reversedDepth),Ol.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Ll.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ol.setFromProjectionMatrix(Ll,a.coordinateSystem,a.reversedDepth),Ol.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Ll.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ol.setFromProjectionMatrix(Ll,a.coordinateSystem,a.reversedDepth),Ol.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Ll.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ol.setFromProjectionMatrix(Ll,a.coordinateSystem,a.reversedDepth),Ol.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const a=t.cameras[i];if(Ll.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),Ol.setFromProjectionMatrix(Ll,a.coordinateSystem,a.reversedDepth),Ol.containsPoint(e))return!0}return!1}clone(){return new p_}}function vw(n,e){return n-e}function IG(n,e){return n.z-e.z}function PG(n,e){return e.z-n.z}class BG{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,a){const r=this.pool,l=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const u=r[this.index];l.push(u),this.index++,u.start=e,u.count=t,u.z=i,u.index=a}reset(){this.list.length=0,this.index=0}}const hr=new cn,zG=new Lt(1,1,1),OC=new vm,VG=new p_,Dx=new bs,ch=new as,q0=new te,UC=new te,FG=new te,yw=new BG,gs=new na,Nx=[];function HG(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const a=n.count;for(let r=0;r<a;r++)for(let l=0;l<i;l++)e.setComponent(r+t,l,n.getComponent(r,l))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function uh(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class MO extends na{constructor(e,t,i=t*2,a){super(new wn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new co(t,e,e,ha,Wi);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new co(t,e,e,pv,Wl);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new co(t,e,e,ha,Wi);i.colorSpace=kn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const r in e.attributes){const l=e.getAttribute(r),{array:u,itemSize:h,normalized:p}=l,m=new u.constructor(i*h),v=new yi(m,h,p);t.setAttribute(r,v)}if(e.getIndex()!==null){const r=i>65535?new Uint32Array(a):new Uint16Array(a);t.setIndex(new yi(r,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=e.getAttribute(i),r=t.getAttribute(i);if(a.itemSize!==r.itemSize||a.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bs);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,hr),this.getBoundingBoxAt(r,Dx).applyMatrix4(hr),e.union(Dx)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new as);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,a=t.length;i<a;i++){if(t[i].active===!1)continue;const r=t[i].geometryIndex;this.getMatrixAt(i,hr),this.getBoundingSphereAt(r,ch).applyMatrix4(hr),e.union(ch)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(vw),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const r=this._matricesTexture;hr.identity().toArray(r.image.data,a*16),r.needsUpdate=!0;const l=this._colorsTexture;return l&&(zG.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const l=e.getIndex();if(l!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?l.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(vw),h=this._availableGeometryIds.shift(),r[h]=a):(h=this._geometryCount,this._geometryCount++,r.push(a)),this.setGeometryAt(h,e),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,h}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,a=i.getIndex()!==null,r=i.getIndex(),l=t.getIndex(),u=this._geometryInfo[e];if(a&&l.count>u.reservedIndexCount||t.attributes.position.count>u.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=u.vertexStart,p=u.reservedVertexCount;u.vertexCount=t.getAttribute("position").count;for(const m in i.attributes){const v=t.getAttribute(m),x=i.getAttribute(m);HG(v,x,h);const b=v.itemSize;for(let M=v.count,C=p;M<C;M++){const E=h+M;for(let w=0;w<b;w++)x.setComponent(E,w,0)}x.needsUpdate=!0,x.addUpdateRange(h*b,p*b)}if(a){const m=u.indexStart,v=u.reservedIndexCount;u.indexCount=t.getIndex().count;for(let x=0;x<l.count;x++)r.setX(m+x,h+l.getX(x));for(let x=l.count,b=v;x<b;x++)r.setX(m+x,h);r.needsUpdate=!0,r.addUpdateRange(m,u.reservedIndexCount)}return u.start=a?u.indexStart:u.vertexStart,u.count=a?u.indexCount:u.vertexCount,u.boundingBox=null,t.boundingBox!==null&&(u.boundingBox=t.boundingBox.clone()),u.boundingSphere=null,t.boundingSphere!==null&&(u.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let a=0,r=i.length;a<r;a++)i[a].active&&i[a].geometryIndex===e&&this.deleteInstance(a);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,a=i.map((l,u)=>u).sort((l,u)=>i[l].vertexStart-i[u].vertexStart),r=this.geometry;for(let l=0,u=i.length;l<u;l++){const h=a[l],p=i[h];if(p.active!==!1){if(r.index!==null){if(p.indexStart!==t){const{indexStart:m,vertexStart:v,reservedIndexCount:x}=p,b=r.index,M=b.array,C=e-v;for(let E=m;E<m+x;E++)M[E]=M[E]+C;b.array.copyWithin(t,m,m+x),b.addUpdateRange(t,x),p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:m,reservedVertexCount:v}=p,x=r.attributes;for(const b in x){const M=x[b],{array:C,itemSize:E}=M;C.copyWithin(e*E,m*E,(m+v)*E),M.addUpdateRange(e*E,v*E)}p.vertexStart=e}e+=p.reservedVertexCount,p.start=r.index?p.indexStart:p.vertexStart,this._nextIndexStart=r.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingBox===null){const r=new bs,l=i.index,u=i.attributes.position;for(let h=a.start,p=a.start+a.count;h<p;h++){let m=h;l&&(m=l.getX(m)),r.expandByPoint(q0.fromBufferAttribute(u,m))}a.boundingBox=r}return t.copy(a.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[e];if(a.boundingSphere===null){const r=new as;this.getBoundingBoxAt(e,Dx),Dx.getCenter(r.center);const l=i.index,u=i.attributes.position;let h=0;for(let p=a.start,m=a.start+a.count;p<m;p++){let v=p;l&&(v=l.getX(v)),q0.fromBufferAttribute(u,v),h=Math.max(h,r.center.distanceToSquared(q0))}r.radius=Math.sqrt(h),a.boundingSphere=r}return t.copy(a.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,a=this._matricesTexture.image.data;return t.toArray(a,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(vw);t[t.length-1]===i.length-1;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const a=new Int32Array(e),r=new Int32Array(e);uh(this._multiDrawCounts,a),uh(this._multiDrawStarts,r),this._multiDrawCounts=a,this._multiDrawStarts=r,this._maxInstanceCount=e;const l=this._indirectTexture,u=this._matricesTexture,h=this._colorsTexture;l.dispose(),this._initIndirectTexture(),uh(l.image.data,this._indirectTexture.image.data),u.dispose(),this._initMatricesTexture(),uh(u.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),uh(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(u=>u.active);if(Math.max(...i.map(u=>u.vertexStart+u.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(h=>h.indexStart+h.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const r=this.geometry;r.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new wn,this._initializeGeometry(r));const l=this.geometry;r.index&&uh(r.index.array,l.index.array);for(const u in r.attributes)uh(r.attributes[u].array,l.attributes[u].array)}raycast(e,t){const i=this._instanceInfo,a=this._geometryInfo,r=this.matrixWorld,l=this.geometry;gs.material=this.material,gs.geometry.index=l.index,gs.geometry.attributes=l.attributes,gs.geometry.boundingBox===null&&(gs.geometry.boundingBox=new bs),gs.geometry.boundingSphere===null&&(gs.geometry.boundingSphere=new as);for(let u=0,h=i.length;u<h;u++){if(!i[u].visible||!i[u].active)continue;const p=i[u].geometryIndex,m=a[p];gs.geometry.setDrawRange(m.start,m.count),this.getMatrixAt(u,gs.matrixWorld).premultiply(r),this.getBoundingBoxAt(p,gs.geometry.boundingBox),this.getBoundingSphereAt(p,gs.geometry.boundingSphere),gs.raycast(e,Nx);for(let v=0,x=Nx.length;v<x;v++){const b=Nx[v];b.object=this,b.batchId=u,t.push(b)}Nx.length=0}gs.material=null,gs.geometry.index=null,gs.geometry.attributes={},gs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,a,r){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const l=a.getIndex(),u=l===null?1:l.array.BYTES_PER_ELEMENT,h=this._instanceInfo,p=this._multiDrawStarts,m=this._multiDrawCounts,v=this._geometryInfo,x=this.perObjectFrustumCulled,b=this._indirectTexture,M=b.image.data,C=i.isArrayCamera?VG:OC;x&&!i.isArrayCamera&&(hr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),OC.setFromProjectionMatrix(hr,i.coordinateSystem,i.reversedDepth));let E=0;if(this.sortObjects){hr.copy(this.matrixWorld).invert(),q0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(hr),UC.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(hr);for(let D=0,O=h.length;D<O;D++)if(h[D].visible&&h[D].active){const P=h[D].geometryIndex;this.getMatrixAt(D,hr),this.getBoundingSphereAt(P,ch).applyMatrix4(hr);let U=!1;if(x&&(U=!C.intersectsSphere(ch,i)),!U){const V=v[P],H=FG.subVectors(ch.center,q0).dot(UC);yw.push(V.start,V.count,H,D)}}const w=yw.list,R=this.customSort;R===null?w.sort(r.transparent?PG:IG):R.call(this,w,i);for(let D=0,O=w.length;D<O;D++){const P=w[D];p[E]=P.start*u,m[E]=P.count,M[E]=P.index,E++}yw.reset()}else for(let w=0,R=h.length;w<R;w++)if(h[w].visible&&h[w].active){const D=h[w].geometryIndex;let O=!1;if(x&&(this.getMatrixAt(w,hr),this.getBoundingSphereAt(D,ch).applyMatrix4(hr),O=!C.intersectsSphere(ch,i)),!O){const P=v[D];p[E]=P.start*u,m[E]=P.count,M[E]=w,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,i,a,r,l){this.onBeforeRender(e,null,a,r,l)}}class Ks extends Ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const M1=new te,E1=new te,IC=new cn,Y0=new qh,Lx=new as,xw=new te,PC=new te;class of extends qn{constructor(e=new wn,t=new Ks){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let a=1,r=t.count;a<r;a++)M1.fromBufferAttribute(t,a-1),E1.fromBufferAttribute(t,a),i[a]=i[a-1],i[a]+=M1.distanceTo(E1);e.setAttribute("lineDistance",new Ht(i,1))}else At("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Lx.copy(i.boundingSphere),Lx.applyMatrix4(a),Lx.radius+=r,e.ray.intersectsSphere(Lx)===!1)return;IC.copy(a).invert(),Y0.copy(e.ray).applyMatrix4(IC);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=this.isLineSegments?2:1,m=i.index,x=i.attributes.position;if(m!==null){const b=Math.max(0,l.start),M=Math.min(m.count,l.start+l.count);for(let C=b,E=M-1;C<E;C+=p){const w=m.getX(C),R=m.getX(C+1),D=Ox(this,e,Y0,h,w,R,C);D&&t.push(D)}if(this.isLineLoop){const C=m.getX(M-1),E=m.getX(b),w=Ox(this,e,Y0,h,C,E,M-1);w&&t.push(w)}}else{const b=Math.max(0,l.start),M=Math.min(x.count,l.start+l.count);for(let C=b,E=M-1;C<E;C+=p){const w=Ox(this,e,Y0,h,C,C+1,C);w&&t.push(w)}if(this.isLineLoop){const C=Ox(this,e,Y0,h,M-1,b,M-1);C&&t.push(C)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function Ox(n,e,t,i,a,r,l){const u=n.geometry.attributes.position;if(M1.fromBufferAttribute(u,a),E1.fromBufferAttribute(u,r),t.distanceSqToSegment(M1,E1,xw,PC)>i)return;xw.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(xw);if(!(p<e.near||p>e.far))return{distance:p,point:PC.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const BC=new te,zC=new te;class Zl extends of{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let a=0,r=t.count;a<r;a+=2)BC.fromBufferAttribute(t,a),zC.fromBufferAttribute(t,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+BC.distanceTo(zC);e.setAttribute("lineDistance",new Ht(i,1))}else At("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EO extends of{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class DE extends Ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const VC=new cn,j2=new qh,Ux=new as,Ix=new te;class TO extends qn{constructor(e=new wn,t=new DE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,a=this.matrixWorld,r=e.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Ux.copy(i.boundingSphere),Ux.applyMatrix4(a),Ux.radius+=r,e.ray.intersectsSphere(Ux)===!1)return;VC.copy(a).invert(),j2.copy(e.ray).applyMatrix4(VC);const u=r/((this.scale.x+this.scale.y+this.scale.z)/3),h=u*u,p=i.index,v=i.attributes.position;if(p!==null){const x=Math.max(0,l.start),b=Math.min(p.count,l.start+l.count);for(let M=x,C=b;M<C;M++){const E=p.getX(M);Ix.fromBufferAttribute(v,E),FC(Ix,E,h,a,e,t,this)}}else{const x=Math.max(0,l.start),b=Math.min(v.count,l.start+l.count);for(let M=x,C=b;M<C;M++)Ix.fromBufferAttribute(v,M),FC(Ix,M,h,a,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const a=t[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,l=a.length;r<l;r++){const u=a[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[u]=r}}}}}function FC(n,e,t,i,a,r,l){const u=j2.distanceSqToPoint(n);if(u<t){const h=new te;j2.closestPointToPoint(n,h),h.applyMatrix4(i);const p=a.ray.origin.distanceTo(h);if(p<a.near||p>a.far)return;r.push({distance:p,distanceToRay:Math.sqrt(u),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:l})}}class AO extends vi{constructor(e,t,i,a,r=ti,l=ti,u,h,p){super(e,t,i,a,r,l,u,h,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const m=this;function v(){m.needsUpdate=!0,m._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class kG extends AO{constructor(e,t,i,a,r,l,u,h){super({},e,t,i,a,r,l,u,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class GG extends vi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=is,this.minFilter=is,this.generateMipmaps=!1,this.needsUpdate=!0}}class m_ extends vi{constructor(e,t,i,a,r,l,u,h,p,m,v,x){super(null,l,u,h,p,m,a,r,v,x),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class jG extends m_{constructor(e,t,i,a,r,l){super(e,t,i,r,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=ta,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class XG extends m_{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Xl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class WG extends vi{constructor(e,t,i,a,r,l,u,h,p){super(e,t,i,a,r,l,u,h,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class NE extends vi{constructor(e,t,i=Wl,a,r,l,u=is,h=is,p,m=Yp,v=1){if(m!==Yp&&m!==Zp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const x={width:e,height:t,depth:v};super(x,a,r,l,u,h,m,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Qu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class LE extends vi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class g_ extends wn{constructor(e=1,t=1,i=4,a=8,r=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:a,heightSegments:r},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),r=Math.max(1,Math.floor(r));const l=[],u=[],h=[],p=[],m=t/2,v=Math.PI/2*e,x=t,b=2*v+x,M=i*2+r,C=a+1,E=new te,w=new te;for(let R=0;R<=M;R++){let D=0,O=0,P=0,U=0;if(R<=i){const I=R/i,L=I*Math.PI/2;O=-m-e*Math.cos(L),P=e*Math.sin(L),U=-e*Math.cos(L),D=I*v}else if(R<=i+r){const I=(R-i)/r;O=-m+I*t,P=e,U=0,D=v+I*x}else{const I=(R-i-r)/i,L=I*Math.PI/2;O=m+e*Math.sin(L),P=e*Math.cos(L),U=e*Math.sin(L),D=v+x+I*v}const V=Math.max(0,Math.min(1,D/b));let H=0;R===0?H=.5/a:R===M&&(H=-.5/a);for(let I=0;I<=a;I++){const L=I/a,q=L*Math.PI*2,J=Math.sin(q),re=Math.cos(q);w.x=-P*re,w.y=O,w.z=P*J,u.push(w.x,w.y,w.z),E.set(-P*re,U,P*J),E.normalize(),h.push(E.x,E.y,E.z),p.push(L+H,V)}if(R>0){const I=(R-1)*C;for(let L=0;L<a;L++){const q=I+L,J=I+L+1,re=R*C+L,de=R*C+L+1;l.push(q,J,re),l.push(J,de,re)}}}this.setIndex(l),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g_(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class v_ extends wn{constructor(e=1,t=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:a},t=Math.max(3,t);const r=[],l=[],u=[],h=[],p=new te,m=new qe;l.push(0,0,0),u.push(0,0,1),h.push(.5,.5);for(let v=0,x=3;v<=t;v++,x+=3){const b=i+v/t*a;p.x=e*Math.cos(b),p.y=e*Math.sin(b),l.push(p.x,p.y,p.z),u.push(0,0,1),m.x=(l[x]/e+1)/2,m.y=(l[x+1]/e+1)/2,h.push(m.x,m.y)}for(let v=1;v<=t;v++)r.push(v,v+1,0);this.setIndex(r),this.setAttribute("position",new Ht(l,3)),this.setAttribute("normal",new Ht(u,3)),this.setAttribute("uv",new Ht(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class vv extends wn{constructor(e=1,t=1,i=1,a=32,r=1,l=!1,u=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:a,heightSegments:r,openEnded:l,thetaStart:u,thetaLength:h};const p=this;a=Math.floor(a),r=Math.floor(r);const m=[],v=[],x=[],b=[];let M=0;const C=[],E=i/2;let w=0;R(),l===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(m),this.setAttribute("position",new Ht(v,3)),this.setAttribute("normal",new Ht(x,3)),this.setAttribute("uv",new Ht(b,2));function R(){const O=new te,P=new te;let U=0;const V=(t-e)/i;for(let H=0;H<=r;H++){const I=[],L=H/r,q=L*(t-e)+e;for(let J=0;J<=a;J++){const re=J/a,de=re*h+u,ve=Math.sin(de),G=Math.cos(de);P.x=q*ve,P.y=-L*i+E,P.z=q*G,v.push(P.x,P.y,P.z),O.set(ve,V,G).normalize(),x.push(O.x,O.y,O.z),b.push(re,1-L),I.push(M++)}C.push(I)}for(let H=0;H<a;H++)for(let I=0;I<r;I++){const L=C[I][H],q=C[I+1][H],J=C[I+1][H+1],re=C[I][H+1];(e>0||I!==0)&&(m.push(L,q,re),U+=3),(t>0||I!==r-1)&&(m.push(q,J,re),U+=3)}p.addGroup(w,U,0),w+=U}function D(O){const P=M,U=new qe,V=new te;let H=0;const I=O===!0?e:t,L=O===!0?1:-1;for(let J=1;J<=a;J++)v.push(0,E*L,0),x.push(0,L,0),b.push(.5,.5),M++;const q=M;for(let J=0;J<=a;J++){const de=J/a*h+u,ve=Math.cos(de),G=Math.sin(de);V.x=I*G,V.y=E*L,V.z=I*ve,v.push(V.x,V.y,V.z),x.push(0,L,0),U.x=ve*.5+.5,U.y=G*.5*L+.5,b.push(U.x,U.y),M++}for(let J=0;J<a;J++){const re=P+J,de=q+J;O===!0?m.push(de,de+1,re):m.push(de+1,de,re),H+=3}p.addGroup(w,H,O===!0?1:2),w+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yv extends vv{constructor(e=1,t=1,i=32,a=1,r=!1,l=0,u=Math.PI*2){super(0,e,t,i,a,r,l,u),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:a,openEnded:r,thetaStart:l,thetaLength:u}}static fromJSON(e){return new yv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class uf extends wn{constructor(e=[],t=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:a};const r=[],l=[];u(a),p(i),m(),this.setAttribute("position",new Ht(r,3)),this.setAttribute("normal",new Ht(r.slice(),3)),this.setAttribute("uv",new Ht(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function u(R){const D=new te,O=new te,P=new te;for(let U=0;U<t.length;U+=3)b(t[U+0],D),b(t[U+1],O),b(t[U+2],P),h(D,O,P,R)}function h(R,D,O,P){const U=P+1,V=[];for(let H=0;H<=U;H++){V[H]=[];const I=R.clone().lerp(O,H/U),L=D.clone().lerp(O,H/U),q=U-H;for(let J=0;J<=q;J++)J===0&&H===U?V[H][J]=I:V[H][J]=I.clone().lerp(L,J/q)}for(let H=0;H<U;H++)for(let I=0;I<2*(U-H)-1;I++){const L=Math.floor(I/2);I%2===0?(x(V[H][L+1]),x(V[H+1][L]),x(V[H][L])):(x(V[H][L+1]),x(V[H+1][L+1]),x(V[H+1][L]))}}function p(R){const D=new te;for(let O=0;O<r.length;O+=3)D.x=r[O+0],D.y=r[O+1],D.z=r[O+2],D.normalize().multiplyScalar(R),r[O+0]=D.x,r[O+1]=D.y,r[O+2]=D.z}function m(){const R=new te;for(let D=0;D<r.length;D+=3){R.x=r[D+0],R.y=r[D+1],R.z=r[D+2];const O=E(R)/2/Math.PI+.5,P=w(R)/Math.PI+.5;l.push(O,1-P)}M(),v()}function v(){for(let R=0;R<l.length;R+=6){const D=l[R+0],O=l[R+2],P=l[R+4],U=Math.max(D,O,P),V=Math.min(D,O,P);U>.9&&V<.1&&(D<.2&&(l[R+0]+=1),O<.2&&(l[R+2]+=1),P<.2&&(l[R+4]+=1))}}function x(R){r.push(R.x,R.y,R.z)}function b(R,D){const O=R*3;D.x=e[O+0],D.y=e[O+1],D.z=e[O+2]}function M(){const R=new te,D=new te,O=new te,P=new te,U=new qe,V=new qe,H=new qe;for(let I=0,L=0;I<r.length;I+=9,L+=6){R.set(r[I+0],r[I+1],r[I+2]),D.set(r[I+3],r[I+4],r[I+5]),O.set(r[I+6],r[I+7],r[I+8]),U.set(l[L+0],l[L+1]),V.set(l[L+2],l[L+3]),H.set(l[L+4],l[L+5]),P.copy(R).add(D).add(O).divideScalar(3);const q=E(P);C(U,L+0,R,q),C(V,L+2,D,q),C(H,L+4,O,q)}}function C(R,D,O,P){P<0&&R.x===1&&(l[D]=R.x-1),O.x===0&&O.z===0&&(l[D]=P/2/Math.PI+.5)}function E(R){return Math.atan2(R.z,-R.x)}function w(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uf(e.vertices,e.indices,e.radius,e.details)}}class y_ extends uf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(r,l,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new y_(e.radius,e.detail)}}const Px=new te,Bx=new te,bw=new te,zx=new pr;class CO extends wn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const a=Math.pow(10,4),r=Math.cos(zh*t),l=e.getIndex(),u=e.getAttribute("position"),h=l?l.count:u.count,p=[0,0,0],m=["a","b","c"],v=new Array(3),x={},b=[];for(let M=0;M<h;M+=3){l?(p[0]=l.getX(M),p[1]=l.getX(M+1),p[2]=l.getX(M+2)):(p[0]=M,p[1]=M+1,p[2]=M+2);const{a:C,b:E,c:w}=zx;if(C.fromBufferAttribute(u,p[0]),E.fromBufferAttribute(u,p[1]),w.fromBufferAttribute(u,p[2]),zx.getNormal(bw),v[0]=`${Math.round(C.x*a)},${Math.round(C.y*a)},${Math.round(C.z*a)}`,v[1]=`${Math.round(E.x*a)},${Math.round(E.y*a)},${Math.round(E.z*a)}`,v[2]=`${Math.round(w.x*a)},${Math.round(w.y*a)},${Math.round(w.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R<3;R++){const D=(R+1)%3,O=v[R],P=v[D],U=zx[m[R]],V=zx[m[D]],H=`${O}_${P}`,I=`${P}_${O}`;I in x&&x[I]?(bw.dot(x[I].normal)<=r&&(b.push(U.x,U.y,U.z),b.push(V.x,V.y,V.z)),x[I]=null):H in x||(x[H]={index0:p[R],index1:p[D],normal:bw.clone()})}}for(const M in x)if(x[M]){const{index0:C,index1:E}=x[M];Px.fromBufferAttribute(u,C),Bx.fromBufferAttribute(u,E),b.push(Px.x,Px.y,Px.z),b.push(Bx.x,Bx.y,Bx.z)}this.setAttribute("position",new Ht(b,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Qo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){At("Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,a=this.getPoint(0),r=0;t.push(0);for(let l=1;l<=e;l++)i=this.getPoint(l/e),r+=i.distanceTo(a),t.push(r),a=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let a=0;const r=i.length;let l;t?l=t:l=e*i[r-1];let u=0,h=r-1,p;for(;u<=h;)if(a=Math.floor(u+(h-u)/2),p=i[a]-l,p<0)u=a+1;else if(p>0)h=a-1;else{h=a;break}if(a=h,i[a]===l)return a/(r-1);const m=i[a],x=i[a+1]-m,b=(l-m)/x;return(a+b)/(r-1)}getTangent(e,t){let a=e-1e-4,r=e+1e-4;a<0&&(a=0),r>1&&(r=1);const l=this.getPoint(a),u=this.getPoint(r),h=t||(l.isVector2?new qe:new te);return h.copy(u).sub(l).normalize(),h}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new te,a=[],r=[],l=[],u=new te,h=new cn;for(let b=0;b<=e;b++){const M=b/e;a[b]=this.getTangentAt(M,new te)}r[0]=new te,l[0]=new te;let p=Number.MAX_VALUE;const m=Math.abs(a[0].x),v=Math.abs(a[0].y),x=Math.abs(a[0].z);m<=p&&(p=m,i.set(1,0,0)),v<=p&&(p=v,i.set(0,1,0)),x<=p&&i.set(0,0,1),u.crossVectors(a[0],i).normalize(),r[0].crossVectors(a[0],u),l[0].crossVectors(a[0],r[0]);for(let b=1;b<=e;b++){if(r[b]=r[b-1].clone(),l[b]=l[b-1].clone(),u.crossVectors(a[b-1],a[b]),u.length()>Number.EPSILON){u.normalize();const M=Math.acos(rn(a[b-1].dot(a[b]),-1,1));r[b].applyMatrix4(h.makeRotationAxis(u,M))}l[b].crossVectors(a[b],r[b])}if(t===!0){let b=Math.acos(rn(r[0].dot(r[e]),-1,1));b/=e,a[0].dot(u.crossVectors(r[0],r[e]))>0&&(b=-b);for(let M=1;M<=e;M++)r[M].applyMatrix4(h.makeRotationAxis(a[M],b*M)),l[M].crossVectors(a[M],r[M])}return{tangents:a,normals:r,binormals:l}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class x_ extends Qo{constructor(e=0,t=0,i=1,a=1,r=0,l=Math.PI*2,u=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=a,this.aStartAngle=r,this.aEndAngle=l,this.aClockwise=u,this.aRotation=h}getPoint(e,t=new qe){const i=t,a=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const l=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=a;for(;r>a;)r-=a;r<Number.EPSILON&&(l?r=0:r=a),this.aClockwise===!0&&!l&&(r===a?r=-a:r=r-a);const u=this.aStartAngle+e*r;let h=this.aX+this.xRadius*Math.cos(u),p=this.aY+this.yRadius*Math.sin(u);if(this.aRotation!==0){const m=Math.cos(this.aRotation),v=Math.sin(this.aRotation),x=h-this.aX,b=p-this.aY;h=x*m-b*v+this.aX,p=x*v+b*m+this.aY}return i.set(h,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class RO extends x_{constructor(e,t,i,a,r,l){super(e,t,i,i,a,r,l),this.isArcCurve=!0,this.type="ArcCurve"}}function OE(){let n=0,e=0,t=0,i=0;function a(r,l,u,h){n=r,e=u,t=-3*r+3*l-2*u-h,i=2*r-2*l+u+h}return{initCatmullRom:function(r,l,u,h,p){a(l,u,p*(u-r),p*(h-l))},initNonuniformCatmullRom:function(r,l,u,h,p,m,v){let x=(l-r)/p-(u-r)/(p+m)+(u-l)/m,b=(u-l)/m-(h-l)/(m+v)+(h-u)/v;x*=m,b*=m,a(l,u,x,b)},calc:function(r){const l=r*r,u=l*r;return n+e*r+t*l+i*u}}}const Vx=new te,_w=new OE,Sw=new OE,ww=new OE;class DO extends Qo{constructor(e=[],t=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=a}getPoint(e,t=new te){const i=t,a=this.points,r=a.length,l=(r-(this.closed?0:1))*e;let u=Math.floor(l),h=l-u;this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/r)+1)*r:h===0&&u===r-1&&(u=r-2,h=1);let p,m;this.closed||u>0?p=a[(u-1)%r]:(Vx.subVectors(a[0],a[1]).add(a[0]),p=Vx);const v=a[u%r],x=a[(u+1)%r];if(this.closed||u+2<r?m=a[(u+2)%r]:(Vx.subVectors(a[r-1],a[r-2]).add(a[r-1]),m=Vx),this.curveType==="centripetal"||this.curveType==="chordal"){const b=this.curveType==="chordal"?.5:.25;let M=Math.pow(p.distanceToSquared(v),b),C=Math.pow(v.distanceToSquared(x),b),E=Math.pow(x.distanceToSquared(m),b);C<1e-4&&(C=1),M<1e-4&&(M=C),E<1e-4&&(E=C),_w.initNonuniformCatmullRom(p.x,v.x,x.x,m.x,M,C,E),Sw.initNonuniformCatmullRom(p.y,v.y,x.y,m.y,M,C,E),ww.initNonuniformCatmullRom(p.z,v.z,x.z,m.z,M,C,E)}else this.curveType==="catmullrom"&&(_w.initCatmullRom(p.x,v.x,x.x,m.x,this.tension),Sw.initCatmullRom(p.y,v.y,x.y,m.y,this.tension),ww.initCatmullRom(p.z,v.z,x.z,m.z,this.tension));return i.set(_w.calc(h),Sw.calc(h),ww.calc(h)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new te().fromArray(a))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function HC(n,e,t,i,a){const r=(i-e)*.5,l=(a-t)*.5,u=n*n,h=n*u;return(2*t-2*i+r+l)*h+(-3*t+3*i-2*r-l)*u+r*n+t}function qG(n,e){const t=1-n;return t*t*e}function YG(n,e){return 2*(1-n)*n*e}function ZG(n,e){return n*n*e}function vg(n,e,t,i){return qG(n,e)+YG(n,t)+ZG(n,i)}function KG(n,e){const t=1-n;return t*t*t*e}function QG(n,e){const t=1-n;return 3*t*t*n*e}function JG(n,e){return 3*(1-n)*n*n*e}function $G(n,e){return n*n*n*e}function yg(n,e,t,i,a){return KG(n,e)+QG(n,t)+JG(n,i)+$G(n,a)}class UE extends Qo{constructor(e=new qe,t=new qe,i=new qe,a=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new qe){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(yg(e,a.x,r.x,l.x,u.x),yg(e,a.y,r.y,l.y,u.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NO extends Qo{constructor(e=new te,t=new te,i=new te,a=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=a}getPoint(e,t=new te){const i=t,a=this.v0,r=this.v1,l=this.v2,u=this.v3;return i.set(yg(e,a.x,r.x,l.x,u.x),yg(e,a.y,r.y,l.y,u.y),yg(e,a.z,r.z,l.z,u.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class IE extends Qo{constructor(e=new qe,t=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new qe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class LO extends Qo{constructor(e=new te,t=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new te){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new te){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PE extends Qo{constructor(e=new qe,t=new qe,i=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new qe){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(vg(e,a.x,r.x,l.x),vg(e,a.y,r.y,l.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class BE extends Qo{constructor(e=new te,t=new te,i=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new te){const i=t,a=this.v0,r=this.v1,l=this.v2;return i.set(vg(e,a.x,r.x,l.x),vg(e,a.y,r.y,l.y),vg(e,a.z,r.z,l.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class zE extends Qo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new qe){const i=t,a=this.points,r=(a.length-1)*e,l=Math.floor(r),u=r-l,h=a[l===0?l:l-1],p=a[l],m=a[l>a.length-2?a.length-1:l+1],v=a[l>a.length-3?a.length-1:l+2];return i.set(HC(u,h.x,p.x,m.x,v.x),HC(u,h.y,p.y,m.y,v.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const a=this.points[t];e.points.push(a.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const a=e.points[t];this.points.push(new qe().fromArray(a))}return this}}var T1=Object.freeze({__proto__:null,ArcCurve:RO,CatmullRomCurve3:DO,CubicBezierCurve:UE,CubicBezierCurve3:NO,EllipseCurve:x_,LineCurve:IE,LineCurve3:LO,QuadraticBezierCurve:PE,QuadraticBezierCurve3:BE,SplineCurve:zE});class OO extends Qo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new T1[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),a=this.getCurveLengths();let r=0;for(;r<a.length;){if(a[r]>=i){const l=a[r]-i,u=this.curves[r],h=u.getLength(),p=h===0?0:1-l/h;return u.getPointAt(p,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,a=this.curves.length;i<a;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let a=0,r=this.curves;a<r.length;a++){const l=r[a],u=l.isEllipseCurve?e*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?e*l.points.length:e,h=l.getPoints(u);for(let p=0;p<h.length;p++){const m=h[p];i&&i.equals(m)||(t.push(m),i=m)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(a.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const a=this.curves[t];e.curves.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const a=e.curves[t];this.curves.push(new T1[a.type]().fromJSON(a))}return this}}class A1 extends OO{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new IE(this.currentPoint.clone(),new qe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,a){const r=new PE(this.currentPoint.clone(),new qe(e,t),new qe(i,a));return this.curves.push(r),this.currentPoint.set(i,a),this}bezierCurveTo(e,t,i,a,r,l){const u=new UE(this.currentPoint.clone(),new qe(e,t),new qe(i,a),new qe(r,l));return this.curves.push(u),this.currentPoint.set(r,l),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new zE(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,a,r,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+u,t+h,i,a,r,l),this}absarc(e,t,i,a,r,l){return this.absellipse(e,t,i,i,a,r,l),this}ellipse(e,t,i,a,r,l,u,h){const p=this.currentPoint.x,m=this.currentPoint.y;return this.absellipse(e+p,t+m,i,a,r,l,u,h),this}absellipse(e,t,i,a,r,l,u,h){const p=new x_(e,t,i,a,r,l,u,h);if(this.curves.length>0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const m=p.getPoint(1);return this.currentPoint.copy(m),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Vh extends A1{constructor(e){super(e),this.uuid=Ur(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,a=this.holes.length;i<a;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(a.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const a=this.holes[t];e.holes.push(a.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const a=e.holes[t];this.holes.push(new A1().fromJSON(a))}return this}}function ej(n,e,t=2){const i=e&&e.length,a=i?e[0]*t:n.length;let r=UO(n,0,a,t,!0);const l=[];if(!r||r.next===r.prev)return l;let u,h,p;if(i&&(r=sj(n,e,r,t)),n.length>80*t){u=n[0],h=n[1];let m=u,v=h;for(let x=t;x<a;x+=t){const b=n[x],M=n[x+1];b<u&&(u=b),M<h&&(h=M),b>m&&(m=b),M>v&&(v=M)}p=Math.max(m-u,v-h),p=p!==0?32767/p:0}return Hg(r,l,t,u,h,p,0),l}function UO(n,e,t,i,a){let r;if(a===gj(n,e,t,i)>0)for(let l=e;l<t;l+=i)r=kC(l/i|0,n[l],n[l+1],r);else for(let l=t-i;l>=e;l-=i)r=kC(l/i|0,n[l],n[l+1],r);return r&&nm(r,r.next)&&(Gg(r),r=r.next),r}function Gh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(nm(t,t.next)||Xi(t.prev,t,t.next)===0)){if(Gg(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Hg(n,e,t,i,a,r,l){if(!n)return;!l&&r&&uj(n,i,a,r);let u=n;for(;n.prev!==n.next;){const h=n.prev,p=n.next;if(r?nj(n,i,a,r):tj(n)){e.push(h.i,n.i,p.i),Gg(n),n=p.next,u=p.next;continue}if(n=p,n===u){l?l===1?(n=ij(Gh(n),e),Hg(n,e,t,i,a,r,2)):l===2&&aj(n,e,t,i,a,r):Hg(Gh(n),e,t,i,a,r,1);break}}}function tj(n){const e=n.prev,t=n,i=n.next;if(Xi(e,t,i)>=0)return!1;const a=e.x,r=t.x,l=i.x,u=e.y,h=t.y,p=i.y,m=Math.min(a,r,l),v=Math.min(u,h,p),x=Math.max(a,r,l),b=Math.max(u,h,p);let M=i.next;for(;M!==e;){if(M.x>=m&&M.x<=x&&M.y>=v&&M.y<=b&&ng(a,u,r,h,l,p,M.x,M.y)&&Xi(M.prev,M,M.next)>=0)return!1;M=M.next}return!0}function nj(n,e,t,i){const a=n.prev,r=n,l=n.next;if(Xi(a,r,l)>=0)return!1;const u=a.x,h=r.x,p=l.x,m=a.y,v=r.y,x=l.y,b=Math.min(u,h,p),M=Math.min(m,v,x),C=Math.max(u,h,p),E=Math.max(m,v,x),w=X2(b,M,e,t,i),R=X2(C,E,e,t,i);let D=n.prevZ,O=n.nextZ;for(;D&&D.z>=w&&O&&O.z<=R;){if(D.x>=b&&D.x<=C&&D.y>=M&&D.y<=E&&D!==a&&D!==l&&ng(u,m,h,v,p,x,D.x,D.y)&&Xi(D.prev,D,D.next)>=0||(D=D.prevZ,O.x>=b&&O.x<=C&&O.y>=M&&O.y<=E&&O!==a&&O!==l&&ng(u,m,h,v,p,x,O.x,O.y)&&Xi(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;D&&D.z>=w;){if(D.x>=b&&D.x<=C&&D.y>=M&&D.y<=E&&D!==a&&D!==l&&ng(u,m,h,v,p,x,D.x,D.y)&&Xi(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;O&&O.z<=R;){if(O.x>=b&&O.x<=C&&O.y>=M&&O.y<=E&&O!==a&&O!==l&&ng(u,m,h,v,p,x,O.x,O.y)&&Xi(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function ij(n,e){let t=n;do{const i=t.prev,a=t.next.next;!nm(i,a)&&PO(i,t,t.next,a)&&kg(i,a)&&kg(a,i)&&(e.push(i.i,t.i,a.i),Gg(t),Gg(t.next),t=n=a),t=t.next}while(t!==n);return Gh(t)}function aj(n,e,t,i,a,r){let l=n;do{let u=l.next.next;for(;u!==l.prev;){if(l.i!==u.i&&dj(l,u)){let h=BO(l,u);l=Gh(l,l.next),h=Gh(h,h.next),Hg(l,e,t,i,a,r,0),Hg(h,e,t,i,a,r,0);return}u=u.next}l=l.next}while(l!==n)}function sj(n,e,t,i){const a=[];for(let r=0,l=e.length;r<l;r++){const u=e[r]*i,h=r<l-1?e[r+1]*i:n.length,p=UO(n,u,h,i,!1);p===p.next&&(p.steiner=!0),a.push(hj(p))}a.sort(rj);for(let r=0;r<a.length;r++)t=oj(a[r],t);return t}function rj(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(e.next.y-e.y)/(e.next.x-e.x);t=i-a}return t}function oj(n,e){const t=lj(n,e);if(!t)return e;const i=BO(t,n);return Gh(i,i.next),Gh(t,t.next)}function lj(n,e){let t=e;const i=n.x,a=n.y;let r=-1/0,l;if(nm(n,t))return t;do{if(nm(n,t.next))return t.next;if(a<=t.y&&a>=t.next.y&&t.next.y!==t.y){const v=t.x+(a-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(v<=i&&v>r&&(r=v,l=t.x<t.next.x?t:t.next,v===i))return l}t=t.next}while(t!==e);if(!l)return null;const u=l,h=l.x,p=l.y;let m=1/0;t=l;do{if(i>=t.x&&t.x>=h&&i!==t.x&&IO(a<p?i:r,a,h,p,a<p?r:i,a,t.x,t.y)){const v=Math.abs(a-t.y)/(i-t.x);kg(t,n)&&(v<m||v===m&&(t.x>l.x||t.x===l.x&&cj(l,t)))&&(l=t,m=v)}t=t.next}while(t!==u);return l}function cj(n,e){return Xi(n.prev,n,e.prev)<0&&Xi(e.next,n,n.next)<0}function uj(n,e,t,i){let a=n;do a.z===0&&(a.z=X2(a.x,a.y,e,t,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,fj(a)}function fj(n){let e,t=1;do{let i=n,a;n=null;let r=null;for(e=0;i;){e++;let l=i,u=0;for(let p=0;p<t&&(u++,l=l.nextZ,!!l);p++);let h=t;for(;u>0||h>0&&l;)u!==0&&(h===0||!l||i.z<=l.z)?(a=i,i=i.nextZ,u--):(a=l,l=l.nextZ,h--),r?r.nextZ=a:n=a,a.prevZ=r,r=a;i=l}r.nextZ=null,t*=2}while(e>1);return n}function X2(n,e,t,i,a){return n=(n-t)*a|0,e=(e-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function hj(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function IO(n,e,t,i,a,r,l,u){return(a-l)*(e-u)>=(n-l)*(r-u)&&(n-l)*(i-u)>=(t-l)*(e-u)&&(t-l)*(r-u)>=(a-l)*(i-u)}function ng(n,e,t,i,a,r,l,u){return!(n===l&&e===u)&&IO(n,e,t,i,a,r,l,u)}function dj(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!pj(n,e)&&(kg(n,e)&&kg(e,n)&&mj(n,e)&&(Xi(n.prev,n,e.prev)||Xi(n,e.prev,e))||nm(n,e)&&Xi(n.prev,n,n.next)>0&&Xi(e.prev,e,e.next)>0)}function Xi(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function nm(n,e){return n.x===e.x&&n.y===e.y}function PO(n,e,t,i){const a=Hx(Xi(n,e,t)),r=Hx(Xi(n,e,i)),l=Hx(Xi(t,i,n)),u=Hx(Xi(t,i,e));return!!(a!==r&&l!==u||a===0&&Fx(n,t,e)||r===0&&Fx(n,i,e)||l===0&&Fx(t,n,i)||u===0&&Fx(t,e,i))}function Fx(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Hx(n){return n>0?1:n<0?-1:0}function pj(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&PO(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function kg(n,e){return Xi(n.prev,n,n.next)<0?Xi(n,e,n.next)>=0&&Xi(n,n.prev,e)>=0:Xi(n,e,n.prev)<0||Xi(n,n.next,e)<0}function mj(n,e){let t=n,i=!1;const a=(n.x+e.x)/2,r=(n.y+e.y)/2;do t.y>r!=t.next.y>r&&t.next.y!==t.y&&a<(t.next.x-t.x)*(r-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function BO(n,e){const t=W2(n.i,n.x,n.y),i=W2(e.i,e.x,e.y),a=n.next,r=e.prev;return n.next=e,e.prev=n,t.next=a,a.prev=t,i.next=t,t.prev=i,r.next=i,i.prev=r,i}function kC(n,e,t,i){const a=W2(n,e,t);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function Gg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function W2(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function gj(n,e,t,i){let a=0;for(let r=e,l=t-i;r<t;r+=i)a+=(n[l]-n[r])*(n[r+1]+n[l+1]),l=r;return a}class vj{static triangulate(e,t,i=2){return ej(e,t,i)}}class qo{static area(e){const t=e.length;let i=0;for(let a=t-1,r=0;r<t;a=r++)i+=e[a].x*e[r].y-e[r].x*e[a].y;return i*.5}static isClockWise(e){return qo.area(e)<0}static triangulateShape(e,t){const i=[],a=[],r=[];GC(e),jC(i,e);let l=e.length;t.forEach(GC);for(let h=0;h<t.length;h++)a.push(l),l+=t[h].length,jC(i,t[h]);const u=vj.triangulate(i,a);for(let h=0;h<u.length;h+=3)r.push(u.slice(h,h+3));return r}}function GC(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function jC(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class b_ extends wn{constructor(e=new Vh([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,a=[],r=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];l(p)}this.setAttribute("position",new Ht(a,3)),this.setAttribute("uv",new Ht(r,2)),this.computeVertexNormals();function l(u){const h=[],p=t.curveSegments!==void 0?t.curveSegments:12,m=t.steps!==void 0?t.steps:1,v=t.depth!==void 0?t.depth:1;let x=t.bevelEnabled!==void 0?t.bevelEnabled:!0,b=t.bevelThickness!==void 0?t.bevelThickness:.2,M=t.bevelSize!==void 0?t.bevelSize:b-.1,C=t.bevelOffset!==void 0?t.bevelOffset:0,E=t.bevelSegments!==void 0?t.bevelSegments:3;const w=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:yj;let D,O=!1,P,U,V,H;w&&(D=w.getSpacedPoints(m),O=!0,x=!1,P=w.computeFrenetFrames(m,!1),U=new te,V=new te,H=new te),x||(E=0,b=0,M=0,C=0);const I=u.extractPoints(p);let L=I.shape;const q=I.holes;if(!qo.isClockWise(L)){L=L.reverse();for(let Je=0,ee=q.length;Je<ee;Je++){const nt=q[Je];qo.isClockWise(nt)&&(q[Je]=nt.reverse())}}function re(Je){const nt=10000000000000001e-36;let $e=Je[0];for(let mt=1;mt<=Je.length;mt++){const st=mt%Je.length,bt=Je[st],pt=bt.x-$e.x,wt=bt.y-$e.y,Q=pt*pt+wt*wt,j=Math.max(Math.abs(bt.x),Math.abs(bt.y),Math.abs($e.x),Math.abs($e.y)),_e=nt*j*j;if(Q<=_e){Je.splice(st,1),mt--;continue}$e=bt}}re(L),q.forEach(re);const de=q.length,ve=L;for(let Je=0;Je<de;Je++){const ee=q[Je];L=L.concat(ee)}function G(Je,ee,nt){return ee||hn("ExtrudeGeometry: vec does not exist"),Je.clone().addScaledVector(ee,nt)}const K=L.length;function $(Je,ee,nt){let $e,mt,st;const bt=Je.x-ee.x,pt=Je.y-ee.y,wt=nt.x-Je.x,Q=nt.y-Je.y,j=bt*bt+pt*pt,_e=bt*Q-pt*wt;if(Math.abs(_e)>Number.EPSILON){const Ve=Math.sqrt(j),ke=Math.sqrt(wt*wt+Q*Q),Oe=ee.x-pt/Ve,xt=ee.y+bt/Ve,yt=nt.x-Q/ke,Vt=nt.y+wt/ke,Nt=((yt-Oe)*Q-(Vt-xt)*wt)/(bt*Q-pt*wt);$e=Oe+bt*Nt-Je.x,mt=xt+pt*Nt-Je.y;const je=$e*$e+mt*mt;if(je<=2)return new qe($e,mt);st=Math.sqrt(je/2)}else{let Ve=!1;bt>Number.EPSILON?wt>Number.EPSILON&&(Ve=!0):bt<-Number.EPSILON?wt<-Number.EPSILON&&(Ve=!0):Math.sign(pt)===Math.sign(Q)&&(Ve=!0),Ve?($e=-pt,mt=bt,st=Math.sqrt(j)):($e=bt,mt=pt,st=Math.sqrt(j/2))}return new qe($e/st,mt/st)}const pe=[];for(let Je=0,ee=ve.length,nt=ee-1,$e=Je+1;Je<ee;Je++,nt++,$e++)nt===ee&&(nt=0),$e===ee&&($e=0),pe[Je]=$(ve[Je],ve[nt],ve[$e]);const X=[];let fe,xe=pe.concat();for(let Je=0,ee=de;Je<ee;Je++){const nt=q[Je];fe=[];for(let $e=0,mt=nt.length,st=mt-1,bt=$e+1;$e<mt;$e++,st++,bt++)st===mt&&(st=0),bt===mt&&(bt=0),fe[$e]=$(nt[$e],nt[st],nt[bt]);X.push(fe),xe=xe.concat(fe)}let Ce;if(E===0)Ce=qo.triangulateShape(ve,q);else{const Je=[],ee=[];for(let nt=0;nt<E;nt++){const $e=nt/E,mt=b*Math.cos($e*Math.PI/2),st=M*Math.sin($e*Math.PI/2)+C;for(let bt=0,pt=ve.length;bt<pt;bt++){const wt=G(ve[bt],pe[bt],st);St(wt.x,wt.y,-mt),$e===0&&Je.push(wt)}for(let bt=0,pt=de;bt<pt;bt++){const wt=q[bt];fe=X[bt];const Q=[];for(let j=0,_e=wt.length;j<_e;j++){const Ve=G(wt[j],fe[j],st);St(Ve.x,Ve.y,-mt),$e===0&&Q.push(Ve)}$e===0&&ee.push(Q)}}Ce=qo.triangulateShape(Je,ee)}const Be=Ce.length,ft=M+C;for(let Je=0;Je<K;Je++){const ee=x?G(L[Je],xe[Je],ft):L[Je];O?(V.copy(P.normals[0]).multiplyScalar(ee.x),U.copy(P.binormals[0]).multiplyScalar(ee.y),H.copy(D[0]).add(V).add(U),St(H.x,H.y,H.z)):St(ee.x,ee.y,0)}for(let Je=1;Je<=m;Je++)for(let ee=0;ee<K;ee++){const nt=x?G(L[ee],xe[ee],ft):L[ee];O?(V.copy(P.normals[Je]).multiplyScalar(nt.x),U.copy(P.binormals[Je]).multiplyScalar(nt.y),H.copy(D[Je]).add(V).add(U),St(H.x,H.y,H.z)):St(nt.x,nt.y,v/m*Je)}for(let Je=E-1;Je>=0;Je--){const ee=Je/E,nt=b*Math.cos(ee*Math.PI/2),$e=M*Math.sin(ee*Math.PI/2)+C;for(let mt=0,st=ve.length;mt<st;mt++){const bt=G(ve[mt],pe[mt],$e);St(bt.x,bt.y,v+nt)}for(let mt=0,st=q.length;mt<st;mt++){const bt=q[mt];fe=X[mt];for(let pt=0,wt=bt.length;pt<wt;pt++){const Q=G(bt[pt],fe[pt],$e);O?St(Q.x,Q.y+D[m-1].y,D[m-1].x+nt):St(Q.x,Q.y,v+nt)}}}ge(),ze();function ge(){const Je=a.length/3;if(x){let ee=0,nt=K*ee;for(let $e=0;$e<Be;$e++){const mt=Ce[$e];Rt(mt[2]+nt,mt[1]+nt,mt[0]+nt)}ee=m+E*2,nt=K*ee;for(let $e=0;$e<Be;$e++){const mt=Ce[$e];Rt(mt[0]+nt,mt[1]+nt,mt[2]+nt)}}else{for(let ee=0;ee<Be;ee++){const nt=Ce[ee];Rt(nt[2],nt[1],nt[0])}for(let ee=0;ee<Be;ee++){const nt=Ce[ee];Rt(nt[0]+K*m,nt[1]+K*m,nt[2]+K*m)}}i.addGroup(Je,a.length/3-Je,0)}function ze(){const Je=a.length/3;let ee=0;Ke(ve,ee),ee+=ve.length;for(let nt=0,$e=q.length;nt<$e;nt++){const mt=q[nt];Ke(mt,ee),ee+=mt.length}i.addGroup(Je,a.length/3-Je,1)}function Ke(Je,ee){let nt=Je.length;for(;--nt>=0;){const $e=nt;let mt=nt-1;mt<0&&(mt=Je.length-1);for(let st=0,bt=m+E*2;st<bt;st++){const pt=K*st,wt=K*(st+1),Q=ee+$e+pt,j=ee+mt+pt,_e=ee+mt+wt,Ve=ee+$e+wt;Gt(Q,j,_e,Ve)}}}function St(Je,ee,nt){h.push(Je),h.push(ee),h.push(nt)}function Rt(Je,ee,nt){Qt(Je),Qt(ee),Qt(nt);const $e=a.length/3,mt=R.generateTopUV(i,a,$e-3,$e-2,$e-1);kt(mt[0]),kt(mt[1]),kt(mt[2])}function Gt(Je,ee,nt,$e){Qt(Je),Qt(ee),Qt($e),Qt(ee),Qt(nt),Qt($e);const mt=a.length/3,st=R.generateSideWallUV(i,a,mt-6,mt-3,mt-2,mt-1);kt(st[0]),kt(st[1]),kt(st[3]),kt(st[1]),kt(st[2]),kt(st[3])}function Qt(Je){a.push(h[Je*3+0]),a.push(h[Je*3+1]),a.push(h[Je*3+2])}function kt(Je){r.push(Je.x),r.push(Je.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return xj(t,i,e)}static fromJSON(e,t){const i=[];for(let r=0,l=e.shapes.length;r<l;r++){const u=t[e.shapes[r]];i.push(u)}const a=e.options.extrudePath;return a!==void 0&&(e.options.extrudePath=new T1[a.type]().fromJSON(a)),new b_(i,e.options)}}const yj={generateTopUV:function(n,e,t,i,a){const r=e[t*3],l=e[t*3+1],u=e[i*3],h=e[i*3+1],p=e[a*3],m=e[a*3+1];return[new qe(r,l),new qe(u,h),new qe(p,m)]},generateSideWallUV:function(n,e,t,i,a,r){const l=e[t*3],u=e[t*3+1],h=e[t*3+2],p=e[i*3],m=e[i*3+1],v=e[i*3+2],x=e[a*3],b=e[a*3+1],M=e[a*3+2],C=e[r*3],E=e[r*3+1],w=e[r*3+2];return Math.abs(u-m)<Math.abs(l-p)?[new qe(l,1-h),new qe(p,1-v),new qe(x,1-M),new qe(C,1-w)]:[new qe(u,1-h),new qe(m,1-v),new qe(b,1-M),new qe(E,1-w)]}};function xj(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const r=n[i];t.shapes.push(r.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class xv extends uf{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,r,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xv(e.radius,e.detail)}}class __ extends wn{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],t=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:a},t=Math.floor(t),a=rn(a,0,Math.PI*2);const r=[],l=[],u=[],h=[],p=[],m=1/t,v=new te,x=new qe,b=new te,M=new te,C=new te;let E=0,w=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:E=e[R+1].x-e[R].x,w=e[R+1].y-e[R].y,b.x=w*1,b.y=-E,b.z=w*0,C.copy(b),b.normalize(),h.push(b.x,b.y,b.z);break;case e.length-1:h.push(C.x,C.y,C.z);break;default:E=e[R+1].x-e[R].x,w=e[R+1].y-e[R].y,b.x=w*1,b.y=-E,b.z=w*0,M.copy(b),b.x+=C.x,b.y+=C.y,b.z+=C.z,b.normalize(),h.push(b.x,b.y,b.z),C.copy(M)}for(let R=0;R<=t;R++){const D=i+R*m*a,O=Math.sin(D),P=Math.cos(D);for(let U=0;U<=e.length-1;U++){v.x=e[U].x*O,v.y=e[U].y,v.z=e[U].x*P,l.push(v.x,v.y,v.z),x.x=R/t,x.y=U/(e.length-1),u.push(x.x,x.y);const V=h[3*U+0]*O,H=h[3*U+1],I=h[3*U+0]*P;p.push(V,H,I)}}for(let R=0;R<t;R++)for(let D=0;D<e.length-1;D++){const O=D+R*e.length,P=O,U=O+e.length,V=O+e.length+1,H=O+1;r.push(P,U,H),r.push(V,H,U)}this.setIndex(r),this.setAttribute("position",new Ht(l,3)),this.setAttribute("uv",new Ht(u,2)),this.setAttribute("normal",new Ht(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new __(e.points,e.segments,e.phiStart,e.phiLength)}}class bv extends uf{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new bv(e.radius,e.detail)}}class ff extends wn{constructor(e=1,t=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:a};const r=e/2,l=t/2,u=Math.floor(i),h=Math.floor(a),p=u+1,m=h+1,v=e/u,x=t/h,b=[],M=[],C=[],E=[];for(let w=0;w<m;w++){const R=w*x-l;for(let D=0;D<p;D++){const O=D*v-r;M.push(O,-R,0),C.push(0,0,1),E.push(D/u),E.push(1-w/h)}}for(let w=0;w<h;w++)for(let R=0;R<u;R++){const D=R+p*w,O=R+p*(w+1),P=R+1+p*(w+1),U=R+1+p*w;b.push(D,O,U),b.push(O,P,U)}this.setIndex(b),this.setAttribute("position",new Ht(M,3)),this.setAttribute("normal",new Ht(C,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.width,e.height,e.widthSegments,e.heightSegments)}}class S_ extends wn{constructor(e=.5,t=1,i=32,a=1,r=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:a,thetaStart:r,thetaLength:l},i=Math.max(3,i),a=Math.max(1,a);const u=[],h=[],p=[],m=[];let v=e;const x=(t-e)/a,b=new te,M=new qe;for(let C=0;C<=a;C++){for(let E=0;E<=i;E++){const w=r+E/i*l;b.x=v*Math.cos(w),b.y=v*Math.sin(w),h.push(b.x,b.y,b.z),p.push(0,0,1),M.x=(b.x/t+1)/2,M.y=(b.y/t+1)/2,m.push(M.x,M.y)}v+=x}for(let C=0;C<a;C++){const E=C*(i+1);for(let w=0;w<i;w++){const R=w+E,D=R,O=R+i+1,P=R+i+2,U=R+1;u.push(D,O,U),u.push(O,P,U)}}this.setIndex(u),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(p,3)),this.setAttribute("uv",new Ht(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class w_ extends wn{constructor(e=new Vh([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],a=[],r=[],l=[];let u=0,h=0;if(Array.isArray(e)===!1)p(e);else for(let m=0;m<e.length;m++)p(e[m]),this.addGroup(u,h,m),u+=h,h=0;this.setIndex(i),this.setAttribute("position",new Ht(a,3)),this.setAttribute("normal",new Ht(r,3)),this.setAttribute("uv",new Ht(l,2));function p(m){const v=a.length/3,x=m.extractPoints(t);let b=x.shape;const M=x.holes;qo.isClockWise(b)===!1&&(b=b.reverse());for(let E=0,w=M.length;E<w;E++){const R=M[E];qo.isClockWise(R)===!0&&(M[E]=R.reverse())}const C=qo.triangulateShape(b,M);for(let E=0,w=M.length;E<w;E++){const R=M[E];b=b.concat(R)}for(let E=0,w=b.length;E<w;E++){const R=b[E];a.push(R.x,R.y,0),r.push(0,0,1),l.push(R.x,R.y)}for(let E=0,w=C.length;E<w;E++){const R=C[E],D=R[0]+v,O=R[1]+v,P=R[2]+v;i.push(D,O,P),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return bj(t,e)}static fromJSON(e,t){const i=[];for(let a=0,r=e.shapes.length;a<r;a++){const l=t[e.shapes[a]];i.push(l)}return new w_(i,e.curveSegments)}}function bj(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const a=n[t];e.shapes.push(a.uuid)}else e.shapes.push(n.uuid);return e}class _v extends wn{constructor(e=1,t=32,i=16,a=0,r=Math.PI*2,l=0,u=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:a,phiLength:r,thetaStart:l,thetaLength:u},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const h=Math.min(l+u,Math.PI);let p=0;const m=[],v=new te,x=new te,b=[],M=[],C=[],E=[];for(let w=0;w<=i;w++){const R=[],D=w/i;let O=0;w===0&&l===0?O=.5/t:w===i&&h===Math.PI&&(O=-.5/t);for(let P=0;P<=t;P++){const U=P/t;v.x=-e*Math.cos(a+U*r)*Math.sin(l+D*u),v.y=e*Math.cos(l+D*u),v.z=e*Math.sin(a+U*r)*Math.sin(l+D*u),M.push(v.x,v.y,v.z),x.copy(v).normalize(),C.push(x.x,x.y,x.z),E.push(U+O,1-D),R.push(p++)}m.push(R)}for(let w=0;w<i;w++)for(let R=0;R<t;R++){const D=m[w][R+1],O=m[w][R],P=m[w+1][R],U=m[w+1][R+1];(w!==0||l>0)&&b.push(D,O,U),(w!==i-1||h<Math.PI)&&b.push(O,P,U)}this.setIndex(b),this.setAttribute("position",new Ht(M,3)),this.setAttribute("normal",new Ht(C,3)),this.setAttribute("uv",new Ht(E,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _v(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class M_ extends uf{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new M_(e.radius,e.detail)}}class E_ extends wn{constructor(e=1,t=.4,i=12,a=48,r=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:a,arc:r},i=Math.floor(i),a=Math.floor(a);const l=[],u=[],h=[],p=[],m=new te,v=new te,x=new te;for(let b=0;b<=i;b++)for(let M=0;M<=a;M++){const C=M/a*r,E=b/i*Math.PI*2;v.x=(e+t*Math.cos(E))*Math.cos(C),v.y=(e+t*Math.cos(E))*Math.sin(C),v.z=t*Math.sin(E),u.push(v.x,v.y,v.z),m.x=e*Math.cos(C),m.y=e*Math.sin(C),x.subVectors(v,m).normalize(),h.push(x.x,x.y,x.z),p.push(M/a),p.push(b/i)}for(let b=1;b<=i;b++)for(let M=1;M<=a;M++){const C=(a+1)*b+M-1,E=(a+1)*(b-1)+M-1,w=(a+1)*(b-1)+M,R=(a+1)*b+M;l.push(C,E,R),l.push(E,w,R)}this.setIndex(l),this.setAttribute("position",new Ht(u,3)),this.setAttribute("normal",new Ht(h,3)),this.setAttribute("uv",new Ht(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class T_ extends wn{constructor(e=1,t=.4,i=64,a=8,r=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:a,p:r,q:l},i=Math.floor(i),a=Math.floor(a);const u=[],h=[],p=[],m=[],v=new te,x=new te,b=new te,M=new te,C=new te,E=new te,w=new te;for(let D=0;D<=i;++D){const O=D/i*r*Math.PI*2;R(O,r,l,e,b),R(O+.01,r,l,e,M),E.subVectors(M,b),w.addVectors(M,b),C.crossVectors(E,w),w.crossVectors(C,E),C.normalize(),w.normalize();for(let P=0;P<=a;++P){const U=P/a*Math.PI*2,V=-t*Math.cos(U),H=t*Math.sin(U);v.x=b.x+(V*w.x+H*C.x),v.y=b.y+(V*w.y+H*C.y),v.z=b.z+(V*w.z+H*C.z),h.push(v.x,v.y,v.z),x.subVectors(v,b).normalize(),p.push(x.x,x.y,x.z),m.push(D/i),m.push(P/a)}}for(let D=1;D<=i;D++)for(let O=1;O<=a;O++){const P=(a+1)*(D-1)+(O-1),U=(a+1)*D+(O-1),V=(a+1)*D+O,H=(a+1)*(D-1)+O;u.push(P,U,H),u.push(U,V,H)}this.setIndex(u),this.setAttribute("position",new Ht(h,3)),this.setAttribute("normal",new Ht(p,3)),this.setAttribute("uv",new Ht(m,2));function R(D,O,P,U,V){const H=Math.cos(D),I=Math.sin(D),L=P/O*D,q=Math.cos(L);V.x=U*(2+q)*.5*H,V.y=U*(2+q)*I*.5,V.z=U*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class A_ extends wn{constructor(e=new BE(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),t=64,i=1,a=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:a,closed:r};const l=e.computeFrenetFrames(t,r);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const u=new te,h=new te,p=new qe;let m=new te;const v=[],x=[],b=[],M=[];C(),this.setIndex(M),this.setAttribute("position",new Ht(v,3)),this.setAttribute("normal",new Ht(x,3)),this.setAttribute("uv",new Ht(b,2));function C(){for(let D=0;D<t;D++)E(D);E(r===!1?t:0),R(),w()}function E(D){m=e.getPointAt(D/t,m);const O=l.normals[D],P=l.binormals[D];for(let U=0;U<=a;U++){const V=U/a*Math.PI*2,H=Math.sin(V),I=-Math.cos(V);h.x=I*O.x+H*P.x,h.y=I*O.y+H*P.y,h.z=I*O.z+H*P.z,h.normalize(),x.push(h.x,h.y,h.z),u.x=m.x+i*h.x,u.y=m.y+i*h.y,u.z=m.z+i*h.z,v.push(u.x,u.y,u.z)}}function w(){for(let D=1;D<=t;D++)for(let O=1;O<=a;O++){const P=(a+1)*(D-1)+(O-1),U=(a+1)*D+(O-1),V=(a+1)*D+O,H=(a+1)*(D-1)+O;M.push(P,U,H),M.push(U,V,H)}}function R(){for(let D=0;D<=t;D++)for(let O=0;O<=a;O++)p.x=D/t,p.y=O/a,b.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new A_(new T1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class zO extends wn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,a=new te,r=new te;if(e.index!==null){const l=e.attributes.position,u=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:u.count,materialIndex:0}]);for(let p=0,m=h.length;p<m;++p){const v=h[p],x=v.start,b=v.count;for(let M=x,C=x+b;M<C;M+=3)for(let E=0;E<3;E++){const w=u.getX(M+E),R=u.getX(M+(E+1)%3);a.fromBufferAttribute(l,w),r.fromBufferAttribute(l,R),XC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}}else{const l=e.attributes.position;for(let u=0,h=l.count/3;u<h;u++)for(let p=0;p<3;p++){const m=3*u+p,v=3*u+(p+1)%3;a.fromBufferAttribute(l,m),r.fromBufferAttribute(l,v),XC(a,r,i)===!0&&(t.push(a.x,a.y,a.z),t.push(r.x,r.y,r.z))}}this.setAttribute("position",new Ht(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function XC(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,a=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(a)===!0?!1:(t.add(i),t.add(a),!0)}var WC=Object.freeze({__proto__:null,BoxGeometry:Yh,CapsuleGeometry:g_,CircleGeometry:v_,ConeGeometry:yv,CylinderGeometry:vv,DodecahedronGeometry:y_,EdgesGeometry:CO,ExtrudeGeometry:b_,IcosahedronGeometry:xv,LatheGeometry:__,OctahedronGeometry:bv,PlaneGeometry:ff,PolyhedronGeometry:uf,RingGeometry:S_,ShapeGeometry:w_,SphereGeometry:_v,TetrahedronGeometry:M_,TorusGeometry:E_,TorusKnotGeometry:T_,TubeGeometry:A_,WireframeGeometry:zO});class VO extends Ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class FO extends Ys{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class VE extends Ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Br,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class HO extends VE{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class kO extends Ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Lt(16777215),this.specular=new Lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Br,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GO extends Ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class jO extends Ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class XO extends Ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Br,this.combine=fv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FE extends Ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=nO,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class HE extends Ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class WO extends Ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=cf,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class qO extends Ks{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Dh(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function YO(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ZO(n){function e(a,r){return n[a]-n[r]}const t=n.length,i=new Array(t);for(let a=0;a!==t;++a)i[a]=a;return i.sort(e),i}function q2(n,e,t){const i=n.length,a=new n.constructor(i);for(let r=0,l=0;l!==i;++r){const u=t[r]*e;for(let h=0;h!==e;++h)a[l++]=n[u+h]}return a}function kE(n,e,t,i){let a=1,r=n[0];for(;r!==void 0&&r[i]===void 0;)r=n[a++];if(r===void 0)return;let l=r[i];if(l!==void 0)if(Array.isArray(l))do l=r[i],l!==void 0&&(e.push(r.time),t.push(...l)),r=n[a++];while(r!==void 0);else if(l.toArray!==void 0)do l=r[i],l!==void 0&&(e.push(r.time),l.toArray(t,t.length)),r=n[a++];while(r!==void 0);else do l=r[i],l!==void 0&&(e.push(r.time),t.push(l)),r=n[a++];while(r!==void 0)}function _j(n,e,t,i,a=30){const r=n.clone();r.name=e;const l=[];for(let h=0;h<r.tracks.length;++h){const p=r.tracks[h],m=p.getValueSize(),v=[],x=[];for(let b=0;b<p.times.length;++b){const M=p.times[b]*a;if(!(M<t||M>=i)){v.push(p.times[b]);for(let C=0;C<m;++C)x.push(p.values[b*m+C])}}v.length!==0&&(p.times=Dh(v,p.times.constructor),p.values=Dh(x,p.values.constructor),l.push(p))}r.tracks=l;let u=1/0;for(let h=0;h<r.tracks.length;++h)u>r.tracks[h].times[0]&&(u=r.tracks[h].times[0]);for(let h=0;h<r.tracks.length;++h)r.tracks[h].shift(-1*u);return r.resetDuration(),r}function Sj(n,e=0,t=n,i=30){i<=0&&(i=30);const a=t.tracks.length,r=e/i;for(let l=0;l<a;++l){const u=t.tracks[l],h=u.ValueTypeName;if(h==="bool"||h==="string")continue;const p=n.tracks.find(function(w){return w.name===u.name&&w.ValueTypeName===h});if(p===void 0)continue;let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);let x=0;const b=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(x=b/3);const M=u.times.length-1;let C;if(r<=u.times[0]){const w=m,R=v-m;C=u.values.slice(w,R)}else if(r>=u.times[M]){const w=M*v+m,R=w+v-m;C=u.values.slice(w,R)}else{const w=u.createInterpolant(),R=m,D=v-m;w.evaluate(r),C=w.resultBuffer.slice(R,D)}h==="quaternion"&&new xs().fromArray(C).normalize().conjugate().toArray(C);const E=p.times.length;for(let w=0;w<E;++w){const R=w*b+x;if(h==="quaternion")xs.multiplyQuaternionsFlat(p.values,R,C,0,p.values,R);else{const D=b-x*2;for(let O=0;O<D;++O)p.values[R+O]-=C[O]}}}return n.blendMode=_E,n}class wj{static convertArray(e,t){return Dh(e,t)}static isTypedArray(e){return YO(e)}static getKeyframeOrder(e){return ZO(e)}static sortedArray(e,t,i){return q2(e,t,i)}static flattenJSON(e,t,i,a){kE(e,t,i,a)}static subclip(e,t,i,a,r=30){return _j(e,t,i,a,r)}static makeClipAdditive(e,t=0,i=e,a=30){return Sj(e,t,i,a)}}class Sv{constructor(e,t,i,a){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,a=t[i],r=t[i-1];e:{t:{let l;n:{i:if(!(e<a)){for(let u=i+2;;){if(a===void 0){if(e<r)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===u)break;if(r=a,a=t[++i],e<a)break t}l=t.length;break n}if(!(e>=r)){const u=t[1];e<u&&(i=2,r=u);for(let h=i-2;;){if(r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===h)break;if(a=r,r=t[--i-1],e>=r)break t}l=i,i=0;break n}break e}for(;i<l;){const u=i+l>>>1;e<t[u]?l=u:i=u+1}if(a=t[i],r=t[i-1],r===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,r,a)}return this.interpolate_(i,r,e,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,a=this.valueSize,r=e*a;for(let l=0;l!==a;++l)t[l]=i[r+l];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class KO extends Sv{constructor(e,t,i,a){super(e,t,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ah,endingEnd:Ah}}intervalChanged_(e,t,i){const a=this.parameterPositions;let r=e-2,l=e+1,u=a[r],h=a[l];if(u===void 0)switch(this.getSettings_().endingStart){case Ch:r=e,u=2*t-i;break;case Pg:r=a.length-2,u=t+a[r]-a[r+1];break;default:r=e,u=i}if(h===void 0)switch(this.getSettings_().endingEnd){case Ch:l=e,h=2*i-t;break;case Pg:l=1,h=i+a[1]-a[0];break;default:l=e-1,h=t}const p=(i-t)*.5,m=this.valueSize;this._weightPrev=p/(t-u),this._weightNext=p/(h-i),this._offsetPrev=r*m,this._offsetNext=l*m}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,m=this._offsetPrev,v=this._offsetNext,x=this._weightPrev,b=this._weightNext,M=(i-t)/(a-t),C=M*M,E=C*M,w=-x*E+2*x*C-x*M,R=(1+x)*E+(-1.5-2*x)*C+(-.5+x)*M+1,D=(-1-b)*E+(1.5+b)*C+.5*M,O=b*E-b*C;for(let P=0;P!==u;++P)r[P]=w*l[m+P]+R*l[p+P]+D*l[h+P]+O*l[v+P];return r}}class GE extends Sv{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=e*u,p=h-u,m=(i-t)/(a-t),v=1-m;for(let x=0;x!==u;++x)r[x]=l[p+x]*v+l[h+x]*m;return r}}class QO extends Sv{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e){return this.copySampleValue_(e-1)}}class po{constructor(e,t,i,a){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Dh(t,this.TimeBufferType),this.values=Dh(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Dh(e.times,Array),values:Dh(e.values,Array)};const a=e.getInterpolation();a!==e.DefaultInterpolation&&(i.interpolation=a)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new QO(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new GE(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new KO(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Ig:t=this.InterpolantFactoryMethodDiscrete;break;case w1:t=this.InterpolantFactoryMethodLinear;break;case pb:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return At("KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ig;case this.InterpolantFactoryMethodLinear:return w1;case this.InterpolantFactoryMethodSmooth:return pb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,a=t.length;i!==a;++i)t[i]*=e}return this}trim(e,t){const i=this.times,a=i.length;let r=0,l=a-1;for(;r!==a&&i[r]<e;)++r;for(;l!==-1&&i[l]>t;)--l;if(++l,r!==0||l!==a){r>=l&&(l=Math.max(l,1),r=l-1);const u=this.getValueSize();this.times=i.slice(r,l),this.values=this.values.slice(r*u,l*u)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(hn("KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,a=this.values,r=i.length;r===0&&(hn("KeyframeTrack: Track is empty.",this),e=!1);let l=null;for(let u=0;u!==r;u++){const h=i[u];if(typeof h=="number"&&isNaN(h)){hn("KeyframeTrack: Time is not a valid number.",this,u,h),e=!1;break}if(l!==null&&l>h){hn("KeyframeTrack: Out of order keys.",this,u,h,l),e=!1;break}l=h}if(a!==void 0&&YO(a))for(let u=0,h=a.length;u!==h;++u){const p=a[u];if(isNaN(p)){hn("KeyframeTrack: Value is not a valid number.",this,u,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===pb,r=e.length-1;let l=1;for(let u=1;u<r;++u){let h=!1;const p=e[u],m=e[u+1];if(p!==m&&(u!==1||p!==e[0]))if(a)h=!0;else{const v=u*i,x=v-i,b=v+i;for(let M=0;M!==i;++M){const C=t[v+M];if(C!==t[x+M]||C!==t[b+M]){h=!0;break}}}if(h){if(u!==l){e[l]=e[u];const v=u*i,x=l*i;for(let b=0;b!==i;++b)t[x+b]=t[v+b]}++l}}if(r>0){e[l]=e[r];for(let u=r*i,h=l*i,p=0;p!==i;++p)t[h+p]=t[u+p];++l}return l!==e.length?(this.times=e.slice(0,l),this.values=t.slice(0,l*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,a=new i(this.name,e,t);return a.createInterpolant=this.createInterpolant,a}}po.prototype.ValueTypeName="";po.prototype.TimeBufferType=Float32Array;po.prototype.ValueBufferType=Float32Array;po.prototype.DefaultInterpolation=w1;class Zh extends po{constructor(e,t,i){super(e,t,i)}}Zh.prototype.ValueTypeName="bool";Zh.prototype.ValueBufferType=Array;Zh.prototype.DefaultInterpolation=Ig;Zh.prototype.InterpolantFactoryMethodLinear=void 0;Zh.prototype.InterpolantFactoryMethodSmooth=void 0;class jE extends po{constructor(e,t,i,a){super(e,t,i,a)}}jE.prototype.ValueTypeName="color";class jg extends po{constructor(e,t,i,a){super(e,t,i,a)}}jg.prototype.ValueTypeName="number";class JO extends Sv{constructor(e,t,i,a){super(e,t,i,a)}interpolate_(e,t,i,a){const r=this.resultBuffer,l=this.sampleValues,u=this.valueSize,h=(i-t)/(a-t);let p=e*u;for(let m=p+u;p!==m;p+=4)xs.slerpFlat(r,0,l,p-u,l,p,h);return r}}class wv extends po{constructor(e,t,i,a){super(e,t,i,a)}InterpolantFactoryMethodLinear(e){return new JO(this.times,this.values,this.getValueSize(),e)}}wv.prototype.ValueTypeName="quaternion";wv.prototype.InterpolantFactoryMethodSmooth=void 0;class Kh extends po{constructor(e,t,i){super(e,t,i)}}Kh.prototype.ValueTypeName="string";Kh.prototype.ValueBufferType=Array;Kh.prototype.DefaultInterpolation=Ig;Kh.prototype.InterpolantFactoryMethodLinear=void 0;Kh.prototype.InterpolantFactoryMethodSmooth=void 0;class Xg extends po{constructor(e,t,i,a){super(e,t,i,a)}}Xg.prototype.ValueTypeName="vector";class Wg{constructor(e="",t=-1,i=[],a=r_){this.name=e,this.tracks=i,this.duration=t,this.blendMode=a,this.uuid=Ur(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,a=1/(e.fps||1);for(let l=0,u=i.length;l!==u;++l)t.push(Ej(i[l]).scale(a));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r.userData=JSON.parse(e.userData||"{}"),r}static toJSON(e){const t=[],i=e.tracks,a={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let r=0,l=i.length;r!==l;++r)t.push(po.toJSON(i[r]));return a}static CreateFromMorphTargetSequence(e,t,i,a){const r=t.length,l=[];for(let u=0;u<r;u++){let h=[],p=[];h.push((u+r-1)%r,u,(u+1)%r),p.push(0,1,0);const m=ZO(h);h=q2(h,1,m),p=q2(p,1,m),!a&&h[0]===0&&(h.push(r),p.push(p[0])),l.push(new jg(".morphTargetInfluences["+t[u].name+"]",h,p).scale(1/i))}return new this(e,-1,l)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const a=e;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===t)return i[a];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const a={},r=/^([\w-]*?)([\d]+)$/;for(let u=0,h=e.length;u<h;u++){const p=e[u],m=p.name.match(r);if(m&&m.length>1){const v=m[1];let x=a[v];x||(a[v]=x=[]),x.push(p)}}const l=[];for(const u in a)l.push(this.CreateFromMorphTargetSequence(u,a[u],t,i));return l}static parseAnimation(e,t){if(At("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return hn("AnimationClip: No animation in JSONLoader data."),null;const i=function(v,x,b,M,C){if(b.length!==0){const E=[],w=[];kE(b,E,w,M),E.length!==0&&C.push(new v(x,E,w))}},a=[],r=e.name||"default",l=e.fps||30,u=e.blendMode;let h=e.length||-1;const p=e.hierarchy||[];for(let v=0;v<p.length;v++){const x=p[v].keys;if(!(!x||x.length===0))if(x[0].morphTargets){const b={};let M;for(M=0;M<x.length;M++)if(x[M].morphTargets)for(let C=0;C<x[M].morphTargets.length;C++)b[x[M].morphTargets[C]]=-1;for(const C in b){const E=[],w=[];for(let R=0;R!==x[M].morphTargets.length;++R){const D=x[M];E.push(D.time),w.push(D.morphTarget===C?1:0)}a.push(new jg(".morphTargetInfluence["+C+"]",E,w))}h=b.length*l}else{const b=".bones["+t[v].name+"]";i(Xg,b+".position",x,"pos",a),i(wv,b+".quaternion",x,"rot",a),i(Xg,b+".scale",x,"scl",a)}}return a.length===0?null:new this(r,h,a,u)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,a=e.length;i!==a;++i){const r=this.tracks[i];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Mj(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return jg;case"vector":case"vector2":case"vector3":case"vector4":return Xg;case"color":return jE;case"quaternion":return wv;case"bool":case"boolean":return Zh;case"string":return Kh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Ej(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Mj(n.type);if(n.times===void 0){const t=[],i=[];kE(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const zl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class C_{constructor(e,t,i){const a=this;let r=!1,l=0,u=0,h;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this._abortController=null,this.itemStart=function(m){u++,r===!1&&a.onStart!==void 0&&a.onStart(m,l,u),r=!0},this.itemEnd=function(m){l++,a.onProgress!==void 0&&a.onProgress(m,l,u),l===u&&(r=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(m){a.onError!==void 0&&a.onError(m)},this.resolveURL=function(m){return h?h(m):m},this.setURLModifier=function(m){return h=m,this},this.addHandler=function(m,v){return p.push(m,v),this},this.removeHandler=function(m){const v=p.indexOf(m);return v!==-1&&p.splice(v,2),this},this.getHandler=function(m){for(let v=0,x=p.length;v<x;v+=2){const b=p[v],M=p[v+1];if(b.global&&(b.lastIndex=0),b.test(m))return M}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const $O=new C_;let Qs=class{constructor(e){this.manager=e!==void 0?e:$O,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(a,r){i.load(e,a,t,r)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}};Qs.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ac={};class Tj extends Error{constructor(e,t){super(e),this.response=t}}class Ir extends Qs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=zl.get(`file:${e}`);if(r!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(r),this.manager.itemEnd(e)},0),r;if(Ac[e]!==void 0){Ac[e].push({onLoad:t,onProgress:i,onError:a});return}Ac[e]=[],Ac[e].push({onLoad:t,onProgress:i,onError:a});const l=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),u=this.mimeType,h=this.responseType;fetch(l).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&At("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const m=Ac[e],v=p.body.getReader(),x=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),b=x?parseInt(x):0,M=b!==0;let C=0;const E=new ReadableStream({start(w){R();function R(){v.read().then(({done:D,value:O})=>{if(D)w.close();else{C+=O.byteLength;const P=new ProgressEvent("progress",{lengthComputable:M,loaded:C,total:b});for(let U=0,V=m.length;U<V;U++){const H=m[U];H.onProgress&&H.onProgress(P)}w.enqueue(O),R()}},D=>{w.error(D)})}}});return new Response(E)}else throw new Tj(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(h){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(m=>new DOMParser().parseFromString(m,u));case"json":return p.json();default:if(u==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(u),x=v&&v[1]?v[1].toLowerCase():void 0,b=new TextDecoder(x);return p.arrayBuffer().then(M=>b.decode(M))}}}).then(p=>{zl.add(`file:${e}`,p);const m=Ac[e];delete Ac[e];for(let v=0,x=m.length;v<x;v++){const b=m[v];b.onLoad&&b.onLoad(p)}}).catch(p=>{const m=Ac[e];if(m===void 0)throw this.manager.itemError(e),p;delete Ac[e];for(let v=0,x=m.length;v<x;v++){const b=m[v];b.onError&&b.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Aj extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new Ir(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):hn(h),r.manager.itemError(e)}},i,a)}parse(e){const t=[];for(let i=0;i<e.length;i++){const a=Wg.parse(e[i]);t.push(a)}return t}}class Cj extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=[],u=new m_,h=new Ir(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(r.withCredentials);let p=0;function m(v){h.load(e[v],function(x){const b=r.parse(x,!0);l[v]={width:b.width,height:b.height,format:b.format,mipmaps:b.mipmaps},p+=1,p===6&&(b.mipmapCount===1&&(u.minFilter=ti),u.image=l,u.format=b.format,u.needsUpdate=!0,t&&t(u))},i,a)}if(Array.isArray(e))for(let v=0,x=e.length;v<x;++v)m(v);else h.load(e,function(v){const x=r.parse(v,!0);if(x.isCubemap){const b=x.mipmaps.length/x.mipmapCount;for(let M=0;M<b;M++){l[M]={mipmaps:[]};for(let C=0;C<x.mipmapCount;C++)l[M].mipmaps.push(x.mipmaps[M*x.mipmapCount+C]),l[M].format=x.format,l[M].width=x.width,l[M].height=x.height}u.image=l}else u.image.width=x.width,u.image.height=x.height,u.mipmaps=x.mipmaps;x.mipmapCount===1&&(u.minFilter=ti),u.format=x.format,u.needsUpdate=!0,t&&t(u)},i,a);return u}}const gp=new WeakMap;class qg extends Qs{constructor(e){super(e)}load(e,t,i,a){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=zl.get(`image:${e}`);if(l!==void 0){if(l.complete===!0)r.manager.itemStart(e),setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0);else{let v=gp.get(l);v===void 0&&(v=[],gp.set(l,v)),v.push({onLoad:t,onError:a})}return l}const u=Vg("img");function h(){m(),t&&t(this);const v=gp.get(this)||[];for(let x=0;x<v.length;x++){const b=v[x];b.onLoad&&b.onLoad(this)}gp.delete(this),r.manager.itemEnd(e)}function p(v){m(),a&&a(v),zl.remove(`image:${e}`);const x=gp.get(this)||[];for(let b=0;b<x.length;b++){const M=x[b];M.onError&&M.onError(v)}gp.delete(this),r.manager.itemError(e),r.manager.itemEnd(e)}function m(){u.removeEventListener("load",h,!1),u.removeEventListener("error",p,!1)}return u.addEventListener("load",h,!1),u.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(u.crossOrigin=this.crossOrigin),zl.add(`image:${e}`,u),r.manager.itemStart(e),u.src=e,u}}class e5 extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=new mv;r.colorSpace=ts;const l=new qg(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let u=0;function h(p){l.load(e[p],function(m){r.images[p]=m,u++,u===6&&(r.needsUpdate=!0,t&&t(r))},void 0,a)}for(let p=0;p<e.length;++p)h(p);return r}}class XE extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new co,u=new Ir(this.manager);return u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setPath(this.path),u.setWithCredentials(r.withCredentials),u.load(e,function(h){let p;try{p=r.parse(h)}catch(m){if(a!==void 0)a(m);else{m(m);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&&(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:ta,l.wrapT=p.wrapT!==void 0?p.wrapT:ta,l.magFilter=p.magFilter!==void 0?p.magFilter:ti,l.minFilter=p.minFilter!==void 0?p.minFilter:ti,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(l.colorSpace=p.colorSpace),p.flipY!==void 0&&(l.flipY=p.flipY),p.format!==void 0&&(l.format=p.format),p.type!==void 0&&(l.type=p.type),p.mipmaps!==void 0&&(l.mipmaps=p.mipmaps,l.minFilter=Bl),p.mipmapCount===1&&(l.minFilter=ti),p.generateMipmaps!==void 0&&(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,t&&t(l,p)},i,a),l}}class Rj extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=new vi,l=new qg(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(e,function(u){r.image=u,r.needsUpdate=!0,t!==void 0&&t(r)},i,a),r}}class hf extends qn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Lt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class t5 extends hf{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Lt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Mw=new cn,qC=new te,YC=new te;class WE{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.mapType=qs,this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vm,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new Wn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;qC.setFromMatrixPosition(e.matrixWorld),t.position.copy(qC),YC.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(YC),t.updateMatrixWorld(),Mw.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Mw,t.coordinateSystem,t.reversedDepth),t.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Mw)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Dj extends WE{constructor(){super(new fa(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=Jp*2*e.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,r=e.distance||t.far;(i!==t.fov||a!==t.aspect||r!==t.far)&&(t.fov=i,t.aspect=a,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class n5 extends hf{constructor(e,t,i=0,a=Math.PI/3,r=0,l=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.distance=i,this.angle=a,this.penumbra=r,this.decay=l,this.map=null,this.shadow=new Dj}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const ZC=new cn,Z0=new te,Ew=new te;class Nj extends WE{constructor(){super(new fa(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new Wn(2,1,1,1),new Wn(0,1,1,1),new Wn(3,1,1,1),new Wn(1,1,1,1),new Wn(3,0,1,1),new Wn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,a=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Z0.setFromMatrixPosition(e.matrixWorld),i.position.copy(Z0),Ew.copy(i.position),Ew.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Ew),i.updateMatrixWorld(),a.makeTranslation(-Z0.x,-Z0.y,-Z0.z),ZC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ZC,i.coordinateSystem,i.reversedDepth)}}class i5 extends hf{constructor(e,t,i=0,a=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new Nj}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Bc extends c_{constructor(e=-1,t=1,i=1,a=-1,r=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=a,this.near=r,this.far=l,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,a,r,l){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=a,this.view.width=r,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let r=i-e,l=i+e,u=a+t,h=a-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=p*this.view.offsetX,l=r+p*this.view.width,u-=m*this.view.offsetY,h=u-m*this.view.height}this.projectionMatrix.makeOrthographic(r,l,u,h,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Lj extends WE{constructor(){super(new Bc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class a5 extends hf{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(qn.DEFAULT_UP),this.updateMatrix(),this.target=new qn,this.shadow=new Lj}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class s5 extends hf{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class r5 extends hf{constructor(e,t,i=10,a=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class o5{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.282095),t.addScaledVector(l[1],.488603*a),t.addScaledVector(l[2],.488603*r),t.addScaledVector(l[3],.488603*i),t.addScaledVector(l[4],1.092548*(i*a)),t.addScaledVector(l[5],1.092548*(a*r)),t.addScaledVector(l[6],.315392*(3*r*r-1)),t.addScaledVector(l[7],1.092548*(i*r)),t.addScaledVector(l[8],.546274*(i*i-a*a)),t}getIrradianceAt(e,t){const i=e.x,a=e.y,r=e.z,l=this.coefficients;return t.copy(l[0]).multiplyScalar(.886227),t.addScaledVector(l[1],2*.511664*a),t.addScaledVector(l[2],2*.511664*r),t.addScaledVector(l[3],2*.511664*i),t.addScaledVector(l[4],2*.429043*i*a),t.addScaledVector(l[5],2*.429043*a*r),t.addScaledVector(l[6],.743125*r*r-.247708),t.addScaledVector(l[7],2*.429043*i*r),t.addScaledVector(l[8],.429043*(i*i-a*a)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(e,t+a*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(e,t+a*3);return e}static getBasisAt(e,t){const i=e.x,a=e.y,r=e.z;t[0]=.282095,t[1]=.488603*a,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*a,t[5]=1.092548*a*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-a*a)}}class l5 extends hf{constructor(e=new o5,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class R_ extends Qs{constructor(e){super(e),this.textures={}}load(e,t,i,a){const r=this,l=new Ir(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):hn(h),r.manager.itemError(e)}},i,a)}parse(e){const t=this.textures;function i(r){return t[r]===void 0&&At("MaterialLoader: Undefined texture",r),t[r]}const a=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(a.uuid=e.uuid),e.name!==void 0&&(a.name=e.name),e.color!==void 0&&a.color!==void 0&&a.color.setHex(e.color),e.roughness!==void 0&&(a.roughness=e.roughness),e.metalness!==void 0&&(a.metalness=e.metalness),e.sheen!==void 0&&(a.sheen=e.sheen),e.sheenColor!==void 0&&(a.sheenColor=new Lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(a.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(e.emissive),e.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(e.specular),e.specularIntensity!==void 0&&(a.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(a.shininess=e.shininess),e.clearcoat!==void 0&&(a.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(a.dispersion=e.dispersion),e.iridescence!==void 0&&(a.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(a.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(a.transmission=e.transmission),e.thickness!==void 0&&(a.thickness=e.thickness),e.attenuationDistance!==void 0&&(a.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(a.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(a.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(a.fog=e.fog),e.flatShading!==void 0&&(a.flatShading=e.flatShading),e.blending!==void 0&&(a.blending=e.blending),e.combine!==void 0&&(a.combine=e.combine),e.side!==void 0&&(a.side=e.side),e.shadowSide!==void 0&&(a.shadowSide=e.shadowSide),e.opacity!==void 0&&(a.opacity=e.opacity),e.transparent!==void 0&&(a.transparent=e.transparent),e.alphaTest!==void 0&&(a.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(a.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(a.depthFunc=e.depthFunc),e.depthTest!==void 0&&(a.depthTest=e.depthTest),e.depthWrite!==void 0&&(a.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(a.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(a.blendSrc=e.blendSrc),e.blendDst!==void 0&&(a.blendDst=e.blendDst),e.blendEquation!==void 0&&(a.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(a.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(a.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(a.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(a.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(a.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(a.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(a.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(a.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(a.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(a.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(a.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(a.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(a.rotation=e.rotation),e.linewidth!==void 0&&(a.linewidth=e.linewidth),e.dashSize!==void 0&&(a.dashSize=e.dashSize),e.gapSize!==void 0&&(a.gapSize=e.gapSize),e.scale!==void 0&&(a.scale=e.scale),e.polygonOffset!==void 0&&(a.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(a.dithering=e.dithering),e.alphaToCoverage!==void 0&&(a.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(a.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(a.visible=e.visible),e.toneMapped!==void 0&&(a.toneMapped=e.toneMapped),e.userData!==void 0&&(a.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?a.vertexColors=e.vertexColors>0:a.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const l=e.uniforms[r];switch(a.uniforms[r]={},l.type){case"t":a.uniforms[r].value=i(l.value);break;case"c":a.uniforms[r].value=new Lt().setHex(l.value);break;case"v2":a.uniforms[r].value=new qe().fromArray(l.value);break;case"v3":a.uniforms[r].value=new te().fromArray(l.value);break;case"v4":a.uniforms[r].value=new Wn().fromArray(l.value);break;case"m3":a.uniforms[r].value=new Sn().fromArray(l.value);break;case"m4":a.uniforms[r].value=new cn().fromArray(l.value);break;default:a.uniforms[r].value=l.value}}if(e.defines!==void 0&&(a.defines=e.defines),e.vertexShader!==void 0&&(a.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(a.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(a.glslVersion=e.glslVersion),e.extensions!==void 0)for(const r in e.extensions)a.extensions[r]=e.extensions[r];if(e.lights!==void 0&&(a.lights=e.lights),e.clipping!==void 0&&(a.clipping=e.clipping),e.size!==void 0&&(a.size=e.size),e.sizeAttenuation!==void 0&&(a.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(a.map=i(e.map)),e.matcap!==void 0&&(a.matcap=i(e.matcap)),e.alphaMap!==void 0&&(a.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(a.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(a.bumpScale=e.bumpScale),e.normalMap!==void 0&&(a.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(a.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),a.normalScale=new qe().fromArray(r)}return e.displacementMap!==void 0&&(a.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(a.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(a.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(a.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(a.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(a.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(a.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(a.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(a.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(a.envMap=i(e.envMap)),e.envMapRotation!==void 0&&a.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(a.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(a.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(a.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(a.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(a.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(a.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(a.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(a.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(a.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(a.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(a.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(a.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(a.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(a.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(e.sheenRoughnessMap)),a}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return R_.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:VO,SpriteMaterial:CE,RawShaderMaterial:FO,ShaderMaterial:Ys,PointsMaterial:DE,MeshPhysicalMaterial:HO,MeshStandardMaterial:VE,MeshPhongMaterial:kO,MeshToonMaterial:GO,MeshNormalMaterial:jO,MeshLambertMaterial:XO,MeshDepthMaterial:FE,MeshDistanceMaterial:HE,MeshBasicMaterial:jc,MeshMatcapMaterial:WO,LineDashedMaterial:qO,LineBasicMaterial:Ks,Material:Ss};return new t[e]}}class Y2{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class c5 extends wn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class u5 extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new Ir(r.manager);l.setPath(r.path),l.setRequestHeader(r.requestHeader),l.setWithCredentials(r.withCredentials),l.load(e,function(u){try{t(r.parse(JSON.parse(u)))}catch(h){a?a(h):hn(h),r.manager.itemError(e)}},i,a)}parse(e){const t={},i={};function a(b,M){if(t[M]!==void 0)return t[M];const E=b.interleavedBuffers[M],w=r(b,E.buffer),R=Dp(E.type,w),D=new h_(R,E.stride);return D.uuid=E.uuid,t[M]=D,D}function r(b,M){if(i[M]!==void 0)return i[M];const E=b.arrayBuffers[M],w=new Uint32Array(E).buffer;return i[M]=w,w}const l=e.isInstancedBufferGeometry?new c5:new wn,u=e.data.index;if(u!==void 0){const b=Dp(u.type,u.array);l.setIndex(new yi(b,1))}const h=e.data.attributes;for(const b in h){const M=h[b];let C;if(M.isInterleavedBufferAttribute){const E=a(e.data,M.data);C=new kh(E,M.itemSize,M.offset,M.normalized)}else{const E=Dp(M.type,M.array),w=M.isInstancedBufferAttribute?tm:yi;C=new w(E,M.itemSize,M.normalized)}M.name!==void 0&&(C.name=M.name),M.usage!==void 0&&C.setUsage(M.usage),l.setAttribute(b,C)}const p=e.data.morphAttributes;if(p)for(const b in p){const M=p[b],C=[];for(let E=0,w=M.length;E<w;E++){const R=M[E];let D;if(R.isInterleavedBufferAttribute){const O=a(e.data,R.data);D=new kh(O,R.itemSize,R.offset,R.normalized)}else{const O=Dp(R.type,R.array);D=new yi(O,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),C.push(D)}l.morphAttributes[b]=C}e.data.morphTargetsRelative&&(l.morphTargetsRelative=!0);const v=e.data.groups||e.data.drawcalls||e.data.offsets;if(v!==void 0)for(let b=0,M=v.length;b!==M;++b){const C=v[b];l.addGroup(C.start,C.count,C.materialIndex)}const x=e.data.boundingSphere;return x!==void 0&&(l.boundingSphere=new as().fromJSON(x)),e.name&&(l.name=e.name),e.userData&&(l.userData=e.userData),l}}class Oj extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=this.path===""?Y2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||l;const u=new Ir(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(h){let p=null;try{p=JSON.parse(h)}catch(v){a!==void 0&&a(v),v("ObjectLoader: Can't parse "+e+".",v.message);return}const m=p.metadata;if(m===void 0||m.type===void 0||m.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+e)),hn("ObjectLoader: Can't load "+e);return}r.parse(p,t)},i,a)}async loadAsync(e,t){const i=this,a=this.path===""?Y2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const r=new Ir(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const l=await r.loadAsync(e,t),u=JSON.parse(l),h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(u)}parse(e,t){const i=this.parseAnimations(e.animations),a=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,a),l=this.parseImages(e.images,function(){t!==void 0&&t(p)}),u=this.parseTextures(e.textures,l),h=this.parseMaterials(e.materials,u),p=this.parseObject(e.object,r,h,u,i),m=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,m),this.bindLightTargets(p),t!==void 0){let v=!1;for(const x in l)if(l[x].data instanceof HTMLImageElement){v=!0;break}v===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),r=await this.parseImagesAsync(e.images),l=this.parseTextures(e.textures,r),u=this.parseMaterials(e.materials,l),h=this.parseObject(e.object,a,u,l,t),p=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,p),this.bindLightTargets(h),h}parseShapes(e){const t={};if(e!==void 0)for(let i=0,a=e.length;i<a;i++){const r=new Vh().fromJSON(e[i]);t[r.uuid]=r}return t}parseSkeletons(e,t){const i={},a={};if(t.traverse(function(r){r.isBone&&(a[r.uuid]=r)}),e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=new d_().fromJSON(e[r],a);i[u.uuid]=u}return i}parseGeometries(e,t){const i={};if(e!==void 0){const a=new u5;for(let r=0,l=e.length;r<l;r++){let u;const h=e[r];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":u=a.parse(h);break;default:h.type in WC?u=WC[h.type].fromJSON(h,t):At(`ObjectLoader: Unsupported geometry type "${h.type}"`)}u.uuid=h.uuid,h.name!==void 0&&(u.name=h.name),h.userData!==void 0&&(u.userData=h.userData),i[h.uuid]=u}}return i}parseMaterials(e,t){const i={},a={};if(e!==void 0){const r=new R_;r.setTextures(t);for(let l=0,u=e.length;l<u;l++){const h=e[l];i[h.uuid]===void 0&&(i[h.uuid]=r.parse(h)),a[h.uuid]=i[h.uuid]}}return a}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const a=e[i],r=Wg.parse(a);t[r.uuid]=r}return t}parseImages(e,t){const i=this,a={};let r;function l(h){return i.manager.itemStart(h),r.load(h,function(){i.manager.itemEnd(h)},void 0,function(){i.manager.itemError(h),i.manager.itemEnd(h)})}function u(h){if(typeof h=="string"){const p=h,m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(m)}else return h.data?{data:Dp(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new C_(t);r=new qg(h),r.setCrossOrigin(this.crossOrigin);for(let p=0,m=e.length;p<m;p++){const v=e[p],x=v.url;if(Array.isArray(x)){const b=[];for(let M=0,C=x.length;M<C;M++){const E=x[M],w=u(E);w!==null&&(w instanceof HTMLImageElement?b.push(w):b.push(new co(w.data,w.width,w.height)))}a[v.uuid]=new Qu(b)}else{const b=u(v.url);a[v.uuid]=new Qu(b)}}}return a}async parseImagesAsync(e){const t=this,i={};let a;async function r(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:t.resourcePath+u;return await a.loadAsync(h)}else return l.data?{data:Dp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){a=new qg(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,u=e.length;l<u;l++){const h=e[l],p=h.url;if(Array.isArray(p)){const m=[];for(let v=0,x=p.length;v<x;v++){const b=p[v],M=await r(b);M!==null&&(M instanceof HTMLImageElement?m.push(M):m.push(new co(M.data,M.width,M.height)))}i[h.uuid]=new Qu(m)}else{const m=await r(h.url);i[h.uuid]=new Qu(m)}}}return i}parseTextures(e,t){function i(r,l){return typeof r=="number"?r:(At("ObjectLoader.parseTexture: Constant should be in numeric form.",r),l[r])}const a={};if(e!==void 0)for(let r=0,l=e.length;r<l;r++){const u=e[r];u.image===void 0&&At('ObjectLoader: No "image" specified for',u.uuid),t[u.image]===void 0&&At("ObjectLoader: Undefined image",u.image);const h=t[u.image],p=h.data;let m;Array.isArray(p)?(m=new mv,p.length===6&&(m.needsUpdate=!0)):(p&&p.data?m=new co:m=new vi,p&&(m.needsUpdate=!0)),m.source=h,m.uuid=u.uuid,u.name!==void 0&&(m.name=u.name),u.mapping!==void 0&&(m.mapping=i(u.mapping,Uj)),u.channel!==void 0&&(m.channel=u.channel),u.offset!==void 0&&m.offset.fromArray(u.offset),u.repeat!==void 0&&m.repeat.fromArray(u.repeat),u.center!==void 0&&m.center.fromArray(u.center),u.rotation!==void 0&&(m.rotation=u.rotation),u.wrap!==void 0&&(m.wrapS=i(u.wrap[0],KC),m.wrapT=i(u.wrap[1],KC)),u.format!==void 0&&(m.format=u.format),u.internalFormat!==void 0&&(m.internalFormat=u.internalFormat),u.type!==void 0&&(m.type=u.type),u.colorSpace!==void 0&&(m.colorSpace=u.colorSpace),u.minFilter!==void 0&&(m.minFilter=i(u.minFilter,QC)),u.magFilter!==void 0&&(m.magFilter=i(u.magFilter,QC)),u.anisotropy!==void 0&&(m.anisotropy=u.anisotropy),u.flipY!==void 0&&(m.flipY=u.flipY),u.generateMipmaps!==void 0&&(m.generateMipmaps=u.generateMipmaps),u.premultiplyAlpha!==void 0&&(m.premultiplyAlpha=u.premultiplyAlpha),u.unpackAlignment!==void 0&&(m.unpackAlignment=u.unpackAlignment),u.compareFunction!==void 0&&(m.compareFunction=u.compareFunction),u.userData!==void 0&&(m.userData=u.userData),a[u.uuid]=m}return a}parseObject(e,t,i,a,r){let l;function u(x){return t[x]===void 0&&At("ObjectLoader: Undefined geometry",x),t[x]}function h(x){if(x!==void 0){if(Array.isArray(x)){const b=[];for(let M=0,C=x.length;M<C;M++){const E=x[M];i[E]===void 0&&At("ObjectLoader: Undefined material",E),b.push(i[E])}return b}return i[x]===void 0&&At("ObjectLoader: Undefined material",x),i[x]}}function p(x){return a[x]===void 0&&At("ObjectLoader: Undefined texture",x),a[x]}let m,v;switch(e.type){case"Scene":l=new gv,e.background!==void 0&&(Number.isInteger(e.background)?l.background=new Lt(e.background):l.background=p(e.background)),e.environment!==void 0&&(l.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?l.fog=new f_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(l.fog=new u_(e.fog.color,e.fog.density)),e.fog.name!==""&&(l.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(l.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(l.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&l.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(l.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&l.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":l=new fa(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(l.focus=e.focus),e.zoom!==void 0&&(l.zoom=e.zoom),e.filmGauge!==void 0&&(l.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(l.filmOffset=e.filmOffset),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"OrthographicCamera":l=new Bc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(l.zoom=e.zoom),e.view!==void 0&&(l.view=Object.assign({},e.view));break;case"AmbientLight":l=new s5(e.color,e.intensity);break;case"DirectionalLight":l=new a5(e.color,e.intensity),l.target=e.target||"";break;case"PointLight":l=new i5(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":l=new r5(e.color,e.intensity,e.width,e.height);break;case"SpotLight":l=new n5(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),l.target=e.target||"";break;case"HemisphereLight":l=new t5(e.color,e.groundColor,e.intensity);break;case"LightProbe":l=new l5().fromJSON(e);break;case"SkinnedMesh":m=u(e.geometry),v=h(e.material),l=new SO(m,v),e.bindMode!==void 0&&(l.bindMode=e.bindMode),e.bindMatrix!==void 0&&l.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(l.skeleton=e.skeleton);break;case"Mesh":m=u(e.geometry),v=h(e.material),l=new na(m,v);break;case"InstancedMesh":m=u(e.geometry),v=h(e.material);const x=e.count,b=e.instanceMatrix,M=e.instanceColor;l=new wO(m,v,x),l.instanceMatrix=new tm(new Float32Array(b.array),16),M!==void 0&&(l.instanceColor=new tm(new Float32Array(M.array),M.itemSize));break;case"BatchedMesh":m=u(e.geometry),v=h(e.material),l=new MO(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,v),l.geometry=m,l.perObjectFrustumCulled=e.perObjectFrustumCulled,l.sortObjects=e.sortObjects,l._drawRanges=e.drawRanges,l._reservedRanges=e.reservedRanges,l._geometryInfo=e.geometryInfo.map(C=>{let E=null,w=null;return C.boundingBox!==void 0&&(E=new bs().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&&(w=new as().fromJSON(C.boundingSphere)),{...C,boundingBox:E,boundingSphere:w}}),l._instanceInfo=e.instanceInfo,l._availableInstanceIds=e._availableInstanceIds,l._availableGeometryIds=e._availableGeometryIds,l._nextIndexStart=e.nextIndexStart,l._nextVertexStart=e.nextVertexStart,l._geometryCount=e.geometryCount,l._maxInstanceCount=e.maxInstanceCount,l._maxVertexCount=e.maxVertexCount,l._maxIndexCount=e.maxIndexCount,l._geometryInitialized=e.geometryInitialized,l._matricesTexture=p(e.matricesTexture.uuid),l._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(l._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(l.boundingSphere=new as().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(l.boundingBox=new bs().fromJSON(e.boundingBox));break;case"LOD":l=new _O;break;case"Line":l=new of(u(e.geometry),h(e.material));break;case"LineLoop":l=new EO(u(e.geometry),h(e.material));break;case"LineSegments":l=new Zl(u(e.geometry),h(e.material));break;case"PointCloud":case"Points":l=new TO(u(e.geometry),h(e.material));break;case"Sprite":l=new bO(h(e.material));break;case"Group":l=new Np;break;case"Bone":l=new RE;break;default:l=new qn}if(l.uuid=e.uuid,e.name!==void 0&&(l.name=e.name),e.matrix!==void 0?(l.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(l.matrixAutoUpdate=e.matrixAutoUpdate),l.matrixAutoUpdate&&l.matrix.decompose(l.position,l.quaternion,l.scale)):(e.position!==void 0&&l.position.fromArray(e.position),e.rotation!==void 0&&l.rotation.fromArray(e.rotation),e.quaternion!==void 0&&l.quaternion.fromArray(e.quaternion),e.scale!==void 0&&l.scale.fromArray(e.scale)),e.up!==void 0&&l.up.fromArray(e.up),e.castShadow!==void 0&&(l.castShadow=e.castShadow),e.receiveShadow!==void 0&&(l.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(l.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(l.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(l.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(l.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&l.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(l.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(l.visible=e.visible),e.frustumCulled!==void 0&&(l.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(l.renderOrder=e.renderOrder),e.userData!==void 0&&(l.userData=e.userData),e.layers!==void 0&&(l.layers.mask=e.layers),e.children!==void 0){const x=e.children;for(let b=0;b<x.length;b++)l.add(this.parseObject(x[b],t,i,a,r))}if(e.animations!==void 0){const x=e.animations;for(let b=0;b<x.length;b++){const M=x[b];l.animations.push(r[M])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(l.autoUpdate=e.autoUpdate);const x=e.levels;for(let b=0;b<x.length;b++){const M=x[b],C=l.getObjectByProperty("uuid",M.object);C!==void 0&&l.addLevel(C,M.distance,M.hysteresis)}}return l}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=t[i.skeleton];a===void 0?At("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,a=e.getObjectByProperty("uuid",i);a!==void 0?t.target=a:t.target=new qn}})}}const Uj={UVMapping:af,CubeReflectionMapping:Xl,CubeRefractionMapping:sf,EquirectangularReflectionMapping:Xp,EquirectangularRefractionMapping:Lg,CubeUVReflectionMapping:gm},KC={RepeatWrapping:Og,ClampToEdgeWrapping:ta,MirroredRepeatWrapping:Ug},QC={NearestFilter:is,NearestMipmapNearestFilter:gE,NearestMipmapLinearFilter:Rp,LinearFilter:ti,LinearMipmapNearestFilter:fg,LinearMipmapLinearFilter:Bl},Tw=new WeakMap;class Ij extends Qs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&At("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&At("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,i,a){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,l=zl.get(`image-bitmap:${e}`);if(l!==void 0){if(r.manager.itemStart(e),l.then){l.then(p=>{if(Tw.has(l)===!0)a&&a(Tw.get(l)),r.manager.itemError(e),r.manager.itemEnd(e);else return t&&t(p),r.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(l),r.manager.itemEnd(e)},0),l}const u={};u.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",u.headers=this.requestHeader,u.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const h=fetch(e,u).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(p){return zl.add(`image-bitmap:${e}`,p),t&&t(p),r.manager.itemEnd(e),p}).catch(function(p){a&&a(p),Tw.set(h,p),zl.remove(`image-bitmap:${e}`),r.manager.itemError(e),r.manager.itemEnd(e)});zl.add(`image-bitmap:${e}`,h),r.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let kx;class qE{static getContext(){return kx===void 0&&(kx=new(window.AudioContext||window.webkitAudioContext)),kx}static setContext(e){kx=e}}class Pj extends Qs{constructor(e){super(e)}load(e,t,i,a){const r=this,l=new Ir(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){try{const p=h.slice(0);qE.getContext().decodeAudioData(p,function(v){t(v)}).catch(u)}catch(p){u(p)}},i,a);function u(h){a?a(h):hn(h),r.manager.itemError(e)}}}const JC=new cn,$C=new cn,fh=new cn;class Bj{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new fa,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new fa,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,fh.copy(e.projectionMatrix);const a=t.eyeSep/2,r=a*t.near/t.focus,l=t.near*Math.tan(zh*t.fov*.5)/t.zoom;let u,h;$C.elements[12]=-a,JC.elements[12]=a,u=-l*t.aspect+r,h=l*t.aspect+r,fh.elements[0]=2*t.near/(h-u),fh.elements[8]=(h+u)/(h-u),this.cameraL.projectionMatrix.copy(fh),u=-l*t.aspect-r,h=l*t.aspect-r,fh.elements[0]=2*t.near/(h-u),fh.elements[8]=(h+u)/(h-u),this.cameraR.projectionMatrix.copy(fh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($C),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(JC)}}class f5 extends fa{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class YE{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const hh=new te,Aw=new xs,zj=new te,dh=new te,ph=new te;class Vj extends qn{constructor(){super(),this.type="AudioListener",this.context=qE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new YE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(hh,Aw,zj),dh.set(0,0,-1).applyQuaternion(Aw),ph.set(0,1,0).applyQuaternion(Aw),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(hh.x,i),t.positionY.linearRampToValueAtTime(hh.y,i),t.positionZ.linearRampToValueAtTime(hh.z,i),t.forwardX.linearRampToValueAtTime(dh.x,i),t.forwardY.linearRampToValueAtTime(dh.y,i),t.forwardZ.linearRampToValueAtTime(dh.z,i),t.upX.linearRampToValueAtTime(ph.x,i),t.upY.linearRampToValueAtTime(ph.y,i),t.upZ.linearRampToValueAtTime(ph.z,i)}else t.setPosition(hh.x,hh.y,hh.z),t.setOrientation(dh.x,dh.y,dh.z,ph.x,ph.y,ph.z)}}class h5 extends qn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){At("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(At("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){At("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(At("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const mh=new te,eR=new xs,Fj=new te,gh=new te;class Hj extends h5{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(mh,eR,Fj),gh.set(0,0,1).applyQuaternion(eR);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(mh.x,i),t.positionY.linearRampToValueAtTime(mh.y,i),t.positionZ.linearRampToValueAtTime(mh.z,i),t.orientationX.linearRampToValueAtTime(gh.x,i),t.orientationY.linearRampToValueAtTime(gh.y,i),t.orientationZ.linearRampToValueAtTime(gh.z,i)}else t.setPosition(mh.x,mh.y,mh.z),t.setOrientation(gh.x,gh.y,gh.z)}}class kj{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class d5{constructor(e,t,i){this.binding=e,this.valueSize=i;let a,r,l;switch(t){case"quaternion":a=this._slerp,r=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,r=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,r=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=r,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,a=this.valueSize,r=e*a+a;let l=this.cumulativeWeight;if(l===0){for(let u=0;u!==a;++u)i[r+u]=i[u];l=t}else{l+=t;const u=t/l;this._mixBufferRegion(i,r,0,u,a)}this.cumulativeWeight=l}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,a,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,a=e*t+t,r=this.cumulativeWeight,l=this.cumulativeWeightAdditive,u=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const h=t*this._origIndex;this._mixBufferRegion(i,a,h,1-r,t)}l>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*t,1,t);for(let h=t,p=t+t;h!==p;++h)if(i[h]!==i[h+t]){u.setValue(i,a);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,a=i*this._origIndex;e.getValue(t,a);for(let r=i,l=a;r!==l;++r)t[r]=t[a+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,a,r){if(a>=.5)for(let l=0;l!==r;++l)e[t+l]=e[i+l]}_slerp(e,t,i,a){xs.slerpFlat(e,t,e,t,e,i,a)}_slerpAdditive(e,t,i,a,r){const l=this._workIndex*r;xs.multiplyQuaternionsFlat(e,l,e,t,e,i),xs.slerpFlat(e,t,e,t,e,l,a)}_lerp(e,t,i,a,r){const l=1-a;for(let u=0;u!==r;++u){const h=t+u;e[h]=e[h]*l+e[i+u]*a}}_lerpAdditive(e,t,i,a,r){for(let l=0;l!==r;++l){const u=t+l;e[u]=e[u]+e[i+l]*a}}}const ZE="\\[\\]\\.:\\/",Gj=new RegExp("["+ZE+"]","g"),KE="[^"+ZE+"]",jj="[^"+ZE.replace("\\.","")+"]",Xj=/((?:WC+[\/:])*)/.source.replace("WC",KE),Wj=/(WCOD+)?/.source.replace("WCOD",jj),qj=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",KE),Yj=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",KE),Zj=new RegExp("^"+Xj+Wj+qj+Yj+"$"),Kj=["material","materials","bones","map"];class Qj{constructor(e,t,i){const a=i||Xn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,a)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,r=i.length;a!==r;++a)i[a].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Xn{constructor(e,t,i){this.path=t,this.parsedPath=i||Xn.parseTrackName(t),this.node=Xn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Xn.Composite(e,t,i):new Xn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Gj,"")}static parseTrackName(e){const t=Zj.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const r=i.nodeName.substring(a+1);Kj.indexOf(r)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=r)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(r){for(let l=0;l<r.length;l++){const u=r[l];if(u.name===t||u.uuid===t)return u;const h=i(u.children);if(h)return h}return null},a=i(e.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)e[t++]=i[a]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let a=0,r=i.length;a!==r;++a)i[a]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,a=t.propertyName;let r=t.propertyIndex;if(e||(e=Xn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){At("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=t.objectIndex;switch(i){case"materials":if(!e.material){hn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){hn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){hn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let m=0;m<e.length;m++)if(e[m].name===p){p=m;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){hn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){hn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){hn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(p!==void 0){if(e[p]===void 0){hn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const l=e[a];if(l===void 0){const p=t.nodeName;hn("PropertyBinding: Trying to update property for track: "+p+"."+a+" but it wasn't found.",e);return}let u=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?u=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(u=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(r!==void 0){if(a==="morphTargetInfluences"){if(!e.geometry){hn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){hn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}h=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=r}else l.fromArray!==void 0&&l.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(h=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xn.Composite=Qj;Xn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xn.prototype.GetterByBindingType=[Xn.prototype._getValue_direct,Xn.prototype._getValue_array,Xn.prototype._getValue_arrayElement,Xn.prototype._getValue_toArray];Xn.prototype.SetterByBindingTypeAndVersioning=[[Xn.prototype._setValue_direct,Xn.prototype._setValue_direct_setNeedsUpdate,Xn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_array,Xn.prototype._setValue_array_setNeedsUpdate,Xn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_arrayElement,Xn.prototype._setValue_arrayElement_setNeedsUpdate,Xn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xn.prototype._setValue_fromArray,Xn.prototype._setValue_fromArray_setNeedsUpdate,Xn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Jj{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ur(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,a=arguments.length;i!==a;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,a=this._parsedPaths,r=this._bindings,l=r.length;let u,h=e.length,p=this.nCachedObjects_;for(let m=0,v=arguments.length;m!==v;++m){const x=arguments[m],b=x.uuid;let M=t[b];if(M===void 0){M=h++,t[b]=M,e.push(x);for(let C=0,E=l;C!==E;++C)r[C].push(new Xn(x,i[C],a[C]))}else if(M<p){u=e[M];const C=--p,E=e[C];t[E.uuid]=M,e[M]=E,t[b]=C,e[C]=x;for(let w=0,R=l;w!==R;++w){const D=r[w],O=D[C];let P=D[M];D[M]=O,P===void 0&&(P=new Xn(x,i[w],a[w])),D[C]=P}}else e[M]!==u&&hn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_;for(let l=0,u=arguments.length;l!==u;++l){const h=arguments[l],p=h.uuid,m=t[p];if(m!==void 0&&m>=r){const v=r++,x=e[v];t[x.uuid]=m,e[m]=x,t[p]=v,e[v]=h;for(let b=0,M=a;b!==M;++b){const C=i[b],E=C[v],w=C[m];C[m]=E,C[v]=w}}}this.nCachedObjects_=r}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,a=i.length;let r=this.nCachedObjects_,l=e.length;for(let u=0,h=arguments.length;u!==h;++u){const p=arguments[u],m=p.uuid,v=t[m];if(v!==void 0)if(delete t[m],v<r){const x=--r,b=e[x],M=--l,C=e[M];t[b.uuid]=v,e[v]=b,t[C.uuid]=x,e[x]=C,e.pop();for(let E=0,w=a;E!==w;++E){const R=i[E],D=R[x],O=R[M];R[v]=D,R[x]=O,R.pop()}}else{const x=--l,b=e[x];x>0&&(t[b.uuid]=v),e[v]=b,e.pop();for(let M=0,C=a;M!==C;++M){const E=i[M];E[v]=E[x],E.pop()}}}this.nCachedObjects_=r}subscribe_(e,t){const i=this._bindingsIndicesByPath;let a=i[e];const r=this._bindings;if(a!==void 0)return r[a];const l=this._paths,u=this._parsedPaths,h=this._objects,p=h.length,m=this.nCachedObjects_,v=new Array(p);a=r.length,i[e]=a,l.push(e),u.push(t),r.push(v);for(let x=m,b=h.length;x!==b;++x){const M=h[x];v[x]=new Xn(M,e,t)}return v}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const a=this._paths,r=this._parsedPaths,l=this._bindings,u=l.length-1,h=l[u],p=e[u];t[p]=i,l[i]=h,l.pop(),r[i]=r[u],r.pop(),a[i]=a[u],a.pop()}}}class p5{constructor(e,t,i=null,a=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=a;const r=t.tracks,l=r.length,u=new Array(l),h={endingStart:Ah,endingEnd:Ah};for(let p=0;p!==l;++p){const m=r[p].createInterpolant(null);u[p]=m,m.settings=h}this._interpolantSettings=h,this._interpolants=u,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=eO,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const a=this._clip.duration,r=e._clip.duration,l=r/a,u=a/r;e.warp(1,l,t),this.warp(u,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const a=this._mixer,r=a.time,l=this.timeScale;let u=this._timeScaleInterpolant;u===null&&(u=a._lendControlInterpolant(),this._timeScaleInterpolant=u);const h=u.parameterPositions,p=u.sampleValues;return h[0]=r,h[1]=r+i,p[0]=e/l,p[1]=t/l,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,a){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const h=(e-r)*i;h<0||i===0?t=0:(this._startTime=null,t=i*h)}t*=this._updateTimeScale(e);const l=this._updateTime(t),u=this._updateWeight(e);if(u>0){const h=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case _E:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulateAdditive(u);break;case r_:default:for(let m=0,v=h.length;m!==v;++m)h[m].evaluate(l),p[m].accumulate(a,u)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(e)[0];t*=a,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let a=this.time+e,r=this._loopCount;const l=i===tO;if(e===0)return r===-1?a:l&&(r&1)===1?t-a:a;if(i===$L){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(a>=t)a=t;else if(a<0)a=0;else{this.time=a;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a>=t||a<0){const u=Math.floor(a/t);a-=t*u,r+=Math.abs(u);const h=this.repetitions-r;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=e>0?t:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const p=e<0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=r,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:u})}}else this.time=a;if(l&&(r&1)===1)return t-a}return a}_setEndings(e,t,i){const a=this._interpolantSettings;i?(a.endingStart=Ch,a.endingEnd=Ch):(e?a.endingStart=this.zeroSlopeAtStart?Ch:Ah:a.endingStart=Pg,t?a.endingEnd=this.zeroSlopeAtEnd?Ch:Ah:a.endingEnd=Pg)}_scheduleFading(e,t,i){const a=this._mixer,r=a.time;let l=this._weightInterpolant;l===null&&(l=a._lendControlInterpolant(),this._weightInterpolant=l);const u=l.parameterPositions,h=l.sampleValues;return u[0]=r,h[0]=t,u[1]=r+e,h[1]=i,this}}const $j=new Float32Array(1);class eX extends Yl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,a=e._clip.tracks,r=a.length,l=e._propertyBindings,u=e._interpolants,h=i.uuid,p=this._bindingsByRootAndName;let m=p[h];m===void 0&&(m={},p[h]=m);for(let v=0;v!==r;++v){const x=a[v],b=x.name;let M=m[b];if(M!==void 0)++M.referenceCount,l[v]=M;else{if(M=l[v],M!==void 0){M._cacheIndex===null&&(++M.referenceCount,this._addInactiveBinding(M,h,b));continue}const C=t&&t._propertyBindings[v].binding.parsedPath;M=new d5(Xn.create(i,b,C),x.ValueTypeName,x.getValueSize()),++M.referenceCount,this._addInactiveBinding(M,h,b),l[v]=M}u[v].resultBuffer=M.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,a=e._clip.uuid,r=this._actionsByClip[a];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,a,i)}const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const a=this._actions,r=this._actionsByClip;let l=r[t];if(l===void 0)l={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=l;else{const u=l.knownActions;e._byClipCacheIndex=u.length,u.push(e)}e._cacheIndex=a.length,a.push(e),l.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],a=e._cacheIndex;i._cacheIndex=a,t[a]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,l=this._actionsByClip,u=l[r],h=u.knownActions,p=h[h.length-1],m=e._byClipCacheIndex;p._byClipCacheIndex=m,h[m]=p,h.pop(),e._byClipCacheIndex=null;const v=u.actionByRoot,x=(e._localRoot||this._root).uuid;delete v[x],h.length===0&&delete l[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,a=t.length;i!==a;++i){const r=t[i];--r.referenceCount===0&&this._removeInactiveBinding(r)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,a=this._nActiveActions++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,a=--this._nActiveActions,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const a=this._bindingsByRootAndName,r=this._bindings;let l=a[t];l===void 0&&(l={},a[t]=l),l[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,a=i.rootNode.uuid,r=i.path,l=this._bindingsByRootAndName,u=l[a],h=t[t.length-1],p=e._cacheIndex;h._cacheIndex=p,t[p]=h,t.pop(),delete u[r],Object.keys(u).length===0&&delete l[a]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,a=this._nActiveBindings++,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,a=--this._nActiveBindings,r=t[a];e._cacheIndex=a,t[a]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new GE(new Float32Array(2),new Float32Array(2),1,$j),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,a=--this._nActiveControlInterpolants,r=t[a];e.__cacheIndex=a,t[a]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const a=t||this._root,r=a.uuid;let l=typeof e=="string"?Wg.findByName(a,e):e;const u=l!==null?l.uuid:e,h=this._actionsByClip[u];let p=null;if(i===void 0&&(l!==null?i=l.blendMode:i=r_),h!==void 0){const v=h.actionByRoot[r];if(v!==void 0&&v.blendMode===i)return v;p=h.knownActions[0],l===null&&(l=p._clip)}if(l===null)return null;const m=new p5(this,l,t,i);return this._bindAction(m,p),this._addInactiveAction(m,u,r),m}existingAction(e,t){const i=t||this._root,a=i.uuid,r=typeof e=="string"?Wg.findByName(i,e):e,l=r?r.uuid:e,u=this._actionsByClip[l];return u!==void 0&&u.actionByRoot[a]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,a=this.time+=e,r=Math.sign(e),l=this._accuIndex^=1;for(let p=0;p!==i;++p)t[p]._update(a,e,r,l);const u=this._bindings,h=this._nActiveBindings;for(let p=0;p!==h;++p)u[p].apply(l);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,a=this._actionsByClip,r=a[i];if(r!==void 0){const l=r.knownActions;for(let u=0,h=l.length;u!==h;++u){const p=l[u];this._deactivateAction(p);const m=p._cacheIndex,v=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=m,t[m]=v,t.pop(),this._removeInactiveBindingsForAction(p)}delete a[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const l in i){const u=i[l].actionByRoot,h=u[t];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const a=this._bindingsByRootAndName,r=a[t];if(r!==void 0)for(const l in r){const u=r[l];u.restoreOriginalState(),this._removeInactiveBinding(u)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class tX extends ME{constructor(e=1,t=1,i=1,a={}){super(e,t,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new l_(null,e,t,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class QE{constructor(e){this.value=e}clone(){return new QE(this.value.clone===void 0?this.value:this.value.clone())}}let nX=0;class iX extends Yl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:nX++}),this.name="",this.usage=zg,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,a=t.length;i<a;i++){const r=Array.isArray(t[i])?t[i]:[t[i]];for(let l=0;l<r.length;l++)this.uniforms.push(r[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class aX extends h_{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class sX{constructor(e,t,i,a,r,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=a,this.count=r,this.normalized=l,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const tR=new cn;class JE{constructor(e,t,i=0,a=1/0){this.ray=new qh(e,t),this.near=i,this.far=a,this.camera=null,this.layers=new $p,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):hn("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return tR.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(tR),this}intersectObject(e,t=!0,i=[]){return Z2(e,this,i,t),i.sort(nR),i}intersectObjects(e,t=!0,i=[]){for(let a=0,r=e.length;a<r;a++)Z2(e[a],this,i,t);return i.sort(nR),i}}function nR(n,e){return n.distance-e.distance}function Z2(n,e,t,i){let a=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(a=!1),a===!0&&i===!0){const r=n.children;for(let l=0,u=r.length;l<u;l++)Z2(r[l],e,t,!0)}}class rX{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=oX.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function oX(){this._document.hidden===!1&&this.reset()}class K2{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=rn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(rn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class lX{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class $E{constructor(e,t,i,a){$E.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,a){const r=this.elements;return r[0]=e,r[2]=t,r[1]=i,r[3]=a,this}}const iR=new qe;class cX{constructor(e=new qe(1/0,1/0),t=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=iR.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,iR).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aR=new te,Gx=new te,vp=new te,yp=new te,Cw=new te,uX=new te,fX=new te;class hX{constructor(e=new te,t=new te){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){aR.subVectors(e,this.start),Gx.subVectors(this.end,this.start);const i=Gx.dot(Gx);let r=Gx.dot(aR)/i;return t&&(r=rn(r,0,1)),r}closestPointToPoint(e,t,i){const a=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(e,t=uX,i=fX){const a=10000000000000001e-32;let r,l;const u=this.start,h=e.start,p=this.end,m=e.end;vp.subVectors(p,u),yp.subVectors(m,h),Cw.subVectors(u,h);const v=vp.dot(vp),x=yp.dot(yp),b=yp.dot(Cw);if(v<=a&&x<=a)return t.copy(u),i.copy(h),t.sub(i),t.dot(t);if(v<=a)r=0,l=b/x,l=rn(l,0,1);else{const M=vp.dot(Cw);if(x<=a)l=0,r=rn(-M/v,0,1);else{const C=vp.dot(yp),E=v*x-C*C;E!==0?r=rn((C*b-M*x)/E,0,1):r=0,l=(C*r+b)/x,l<0?(l=0,r=rn(-M/v,0,1)):l>1&&(l=1,r=rn((C-M)/v,0,1))}}return t.copy(u).add(vp.multiplyScalar(r)),i.copy(h).add(yp.multiplyScalar(l)),t.sub(i),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const sR=new te;class dX extends qn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new wn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,u=1,h=32;l<h;l++,u++){const p=l/h*Math.PI*2,m=u/h*Math.PI*2;a.push(Math.cos(p),Math.sin(p),1,Math.cos(m),Math.sin(m),1)}i.setAttribute("position",new Ht(a,3));const r=new Ks({fog:!1,toneMapped:!1});this.cone=new Zl(i,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),sR.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(sR),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Gu=new te,jx=new cn,Rw=new cn;class pX extends Zl{constructor(e){const t=m5(e),i=new wn,a=[],r=[];for(let p=0;p<t.length;p++){const m=t[p];m.parent&&m.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),r.push(0,0,0),r.push(0,0,0))}i.setAttribute("position",new Ht(a,3)),i.setAttribute("color",new Ht(r,3));const l=new Ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const u=new Lt(255),h=new Lt(65280);this.setColors(u,h)}updateMatrixWorld(e){const t=this.bones,i=this.geometry,a=i.getAttribute("position");Rw.copy(this.root.matrixWorld).invert();for(let r=0,l=0;r<t.length;r++){const u=t[r];u.parent&&u.parent.isBone&&(jx.multiplyMatrices(Rw,u.matrixWorld),Gu.setFromMatrixPosition(jx),a.setXYZ(l,Gu.x,Gu.y,Gu.z),jx.multiplyMatrices(Rw,u.parent.matrixWorld),Gu.setFromMatrixPosition(jx),a.setXYZ(l+1,Gu.x,Gu.y,Gu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const a=this.geometry.getAttribute("color");for(let r=0;r<a.count;r+=2)a.setXYZ(r,e.r,e.g,e.b),a.setXYZ(r+1,t.r,t.g,t.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function m5(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...m5(n.children[t]));return e}class mX extends na{constructor(e,t,i){const a=new _v(t,4,2),r=new jc({wireframe:!0,fog:!1,toneMapped:!1});super(a,r),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const gX=new te,rR=new Lt,oR=new Lt;class vX extends qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new bv(t);a.rotateY(Math.PI*.5),this.material=new jc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=a.getAttribute("position"),l=new Float32Array(r.count*3);a.setAttribute("color",new yi(l,3)),this.add(new na(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");rR.copy(this.light.color),oR.copy(this.light.groundColor);for(let i=0,a=t.count;i<a;i++){const r=i<a/2?rR:oR;t.setXYZ(i,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(gX.setFromMatrixPosition(this.light.matrixWorld).negate())}}class yX extends Zl{constructor(e=10,t=10,i=4473924,a=8947848){i=new Lt(i),a=new Lt(a);const r=t/2,l=e/t,u=e/2,h=[],p=[];for(let x=0,b=0,M=-u;x<=t;x++,M+=l){h.push(-u,0,M,u,0,M),h.push(M,0,-u,M,0,u);const C=x===r?i:a;C.toArray(p,b),b+=3,C.toArray(p,b),b+=3,C.toArray(p,b),b+=3,C.toArray(p,b),b+=3}const m=new wn;m.setAttribute("position",new Ht(h,3)),m.setAttribute("color",new Ht(p,3));const v=new Ks({vertexColors:!0,toneMapped:!1});super(m,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class xX extends Zl{constructor(e=10,t=16,i=8,a=64,r=4473924,l=8947848){r=new Lt(r),l=new Lt(l);const u=[],h=[];if(t>1)for(let v=0;v<t;v++){const x=v/t*(Math.PI*2),b=Math.sin(x)*e,M=Math.cos(x)*e;u.push(0,0,0),u.push(b,0,M);const C=v&1?r:l;h.push(C.r,C.g,C.b),h.push(C.r,C.g,C.b)}for(let v=0;v<i;v++){const x=v&1?r:l,b=e-e/i*v;for(let M=0;M<a;M++){let C=M/a*(Math.PI*2),E=Math.sin(C)*b,w=Math.cos(C)*b;u.push(E,0,w),h.push(x.r,x.g,x.b),C=(M+1)/a*(Math.PI*2),E=Math.sin(C)*b,w=Math.cos(C)*b,u.push(E,0,w),h.push(x.r,x.g,x.b)}}const p=new wn;p.setAttribute("position",new Ht(u,3)),p.setAttribute("color",new Ht(h,3));const m=new Ks({vertexColors:!0,toneMapped:!1});super(p,m),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const lR=new te,Xx=new te,cR=new te;class bX extends qn{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let a=new wn;a.setAttribute("position",new Ht([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Ks({fog:!1,toneMapped:!1});this.lightPlane=new of(a,r),this.add(this.lightPlane),a=new wn,a.setAttribute("position",new Ht([0,0,0,0,0,1],3)),this.targetLine=new of(a,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),lR.setFromMatrixPosition(this.light.matrixWorld),Xx.setFromMatrixPosition(this.light.target.matrixWorld),cR.subVectors(Xx,lR),this.lightPlane.lookAt(Xx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Xx),this.targetLine.scale.z=cR.length()}}const Wx=new te,$i=new c_;class _X extends Zl{constructor(e){const t=new wn,i=new Ks({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],r=[],l={};u("n1","n2"),u("n2","n4"),u("n4","n3"),u("n3","n1"),u("f1","f2"),u("f2","f4"),u("f4","f3"),u("f3","f1"),u("n1","f1"),u("n2","f2"),u("n3","f3"),u("n4","f4"),u("p","n1"),u("p","n2"),u("p","n3"),u("p","n4"),u("u1","u2"),u("u2","u3"),u("u3","u1"),u("c","t"),u("p","c"),u("cn1","cn2"),u("cn3","cn4"),u("cf1","cf2"),u("cf3","cf4");function u(M,C){h(M),h(C)}function h(M){a.push(0,0,0),r.push(0,0,0),l[M]===void 0&&(l[M]=[]),l[M].push(a.length/3-1)}t.setAttribute("position",new Ht(a,3)),t.setAttribute("color",new Ht(r,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new Lt(16755200),m=new Lt(16711680),v=new Lt(43775),x=new Lt(16777215),b=new Lt(3355443);this.setColors(p,m,v,x,b)}setColors(e,t,i,a,r){const u=this.geometry.getAttribute("color");return u.setXYZ(0,e.r,e.g,e.b),u.setXYZ(1,e.r,e.g,e.b),u.setXYZ(2,e.r,e.g,e.b),u.setXYZ(3,e.r,e.g,e.b),u.setXYZ(4,e.r,e.g,e.b),u.setXYZ(5,e.r,e.g,e.b),u.setXYZ(6,e.r,e.g,e.b),u.setXYZ(7,e.r,e.g,e.b),u.setXYZ(8,e.r,e.g,e.b),u.setXYZ(9,e.r,e.g,e.b),u.setXYZ(10,e.r,e.g,e.b),u.setXYZ(11,e.r,e.g,e.b),u.setXYZ(12,e.r,e.g,e.b),u.setXYZ(13,e.r,e.g,e.b),u.setXYZ(14,e.r,e.g,e.b),u.setXYZ(15,e.r,e.g,e.b),u.setXYZ(16,e.r,e.g,e.b),u.setXYZ(17,e.r,e.g,e.b),u.setXYZ(18,e.r,e.g,e.b),u.setXYZ(19,e.r,e.g,e.b),u.setXYZ(20,e.r,e.g,e.b),u.setXYZ(21,e.r,e.g,e.b),u.setXYZ(22,e.r,e.g,e.b),u.setXYZ(23,e.r,e.g,e.b),u.setXYZ(24,t.r,t.g,t.b),u.setXYZ(25,t.r,t.g,t.b),u.setXYZ(26,t.r,t.g,t.b),u.setXYZ(27,t.r,t.g,t.b),u.setXYZ(28,t.r,t.g,t.b),u.setXYZ(29,t.r,t.g,t.b),u.setXYZ(30,t.r,t.g,t.b),u.setXYZ(31,t.r,t.g,t.b),u.setXYZ(32,i.r,i.g,i.b),u.setXYZ(33,i.r,i.g,i.b),u.setXYZ(34,i.r,i.g,i.b),u.setXYZ(35,i.r,i.g,i.b),u.setXYZ(36,i.r,i.g,i.b),u.setXYZ(37,i.r,i.g,i.b),u.setXYZ(38,a.r,a.g,a.b),u.setXYZ(39,a.r,a.g,a.b),u.setXYZ(40,r.r,r.g,r.b),u.setXYZ(41,r.r,r.g,r.b),u.setXYZ(42,r.r,r.g,r.b),u.setXYZ(43,r.r,r.g,r.b),u.setXYZ(44,r.r,r.g,r.b),u.setXYZ(45,r.r,r.g,r.b),u.setXYZ(46,r.r,r.g,r.b),u.setXYZ(47,r.r,r.g,r.b),u.setXYZ(48,r.r,r.g,r.b),u.setXYZ(49,r.r,r.g,r.b),u.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,i=1,a=1;let r,l;if($i.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)r=1,l=0;else if(this.camera.coordinateSystem===Or)r=-1,l=1;else if(this.camera.coordinateSystem===Kp)r=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);la("c",t,e,$i,0,0,r),la("t",t,e,$i,0,0,l),la("n1",t,e,$i,-i,-a,r),la("n2",t,e,$i,i,-a,r),la("n3",t,e,$i,-i,a,r),la("n4",t,e,$i,i,a,r),la("f1",t,e,$i,-i,-a,l),la("f2",t,e,$i,i,-a,l),la("f3",t,e,$i,-i,a,l),la("f4",t,e,$i,i,a,l),la("u1",t,e,$i,i*.7,a*1.1,r),la("u2",t,e,$i,-i*.7,a*1.1,r),la("u3",t,e,$i,0,a*2,r),la("cf1",t,e,$i,-i,0,l),la("cf2",t,e,$i,i,0,l),la("cf3",t,e,$i,0,-a,l),la("cf4",t,e,$i,0,a,l),la("cn1",t,e,$i,-i,0,r),la("cn2",t,e,$i,i,0,r),la("cn3",t,e,$i,0,-a,r),la("cn4",t,e,$i,0,a,r),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function la(n,e,t,i,a,r,l){Wx.set(a,r,l).unproject(i);const u=e[n];if(u!==void 0){const h=t.getAttribute("position");for(let p=0,m=u.length;p<m;p++)h.setXYZ(u[p],Wx.x,Wx.y,Wx.z)}}const qx=new bs;class SX extends Zl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),r=new wn;r.setIndex(new yi(i,1)),r.setAttribute("position",new yi(a,3)),super(r,new Ks({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&qx.setFromObject(this.object),qx.isEmpty())return;const e=qx.min,t=qx.max,i=this.geometry.attributes.position,a=i.array;a[0]=t.x,a[1]=t.y,a[2]=t.z,a[3]=e.x,a[4]=t.y,a[5]=t.z,a[6]=e.x,a[7]=e.y,a[8]=t.z,a[9]=t.x,a[10]=e.y,a[11]=t.z,a[12]=t.x,a[13]=t.y,a[14]=e.z,a[15]=e.x,a[16]=t.y,a[17]=e.z,a[18]=e.x,a[19]=e.y,a[20]=e.z,a[21]=t.x,a[22]=e.y,a[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class wX extends Zl{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new wn;r.setIndex(new yi(i,1)),r.setAttribute("position",new Ht(a,3)),super(r,new Ks({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class MX extends of{constructor(e,t=1,i=16776960){const a=i,r=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new wn;l.setAttribute("position",new Ht(r,3)),l.computeBoundingSphere(),super(l,new Ks({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new wn;h.setAttribute("position",new Ht(u,3)),h.computeBoundingSphere(),this.add(new na(h,new jc({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const uR=new te;let Yx,Dw;class EX extends qn{constructor(e=new te(0,0,1),t=new te(0,0,0),i=1,a=16776960,r=i*.2,l=r*.2){super(),this.type="ArrowHelper",Yx===void 0&&(Yx=new wn,Yx.setAttribute("position",new Ht([0,0,0,0,1,0],3)),Dw=new yv(.5,1,5,1),Dw.translate(0,-.5,0)),this.position.copy(t),this.line=new of(Yx,new Ks({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new na(Dw,new jc({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,l)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{uR.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(uR,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class TX extends Zl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new wn;a.setAttribute("position",new Ht(t,3)),a.setAttribute("color",new Ht(i,3));const r=new Ks({vertexColors:!0,toneMapped:!1});super(a,r),this.type="AxesHelper"}setColors(e,t,i){const a=new Lt,r=this.geometry.attributes.color.array;return a.set(e),a.toArray(r,0),a.toArray(r,3),a.set(t),a.toArray(r,6),a.toArray(r,9),a.set(i),a.toArray(r,12),a.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class AX{constructor(){this.type="ShapePath",this.color=new Lt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new A1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,a){return this.currentPath.quadraticCurveTo(e,t,i,a),this}bezierCurveTo(e,t,i,a,r,l){return this.currentPath.bezierCurveTo(e,t,i,a,r,l),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(w){const R=[];for(let D=0,O=w.length;D<O;D++){const P=w[D],U=new Vh;U.curves=P.curves,R.push(U)}return R}function i(w,R){const D=R.length;let O=!1;for(let P=D-1,U=0;U<D;P=U++){let V=R[P],H=R[U],I=H.x-V.x,L=H.y-V.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(V=R[U],I=-I,H=R[P],L=-L),w.y<V.y||w.y>H.y)continue;if(w.y===V.y){if(w.x===V.x)return!0}else{const q=L*(w.x-V.x)-I*(w.y-V.y);if(q===0)return!0;if(q<0)continue;O=!O}}else{if(w.y!==V.y)continue;if(H.x<=w.x&&w.x<=V.x||V.x<=w.x&&w.x<=H.x)return!0}}return O}const a=qo.isClockWise,r=this.subPaths;if(r.length===0)return[];let l,u,h;const p=[];if(r.length===1)return u=r[0],h=new Vh,h.curves=u.curves,p.push(h),p;let m=!a(r[0].getPoints());m=e?!m:m;const v=[],x=[];let b=[],M=0,C;x[M]=void 0,b[M]=[];for(let w=0,R=r.length;w<R;w++)u=r[w],C=u.getPoints(),l=a(C),l=e?!l:l,l?(!m&&x[M]&&M++,x[M]={s:new Vh,p:C},x[M].s.curves=u.curves,m&&M++,b[M]=[]):b[M].push({h:u,p:C[0]});if(!x[0])return t(r);if(x.length>1){let w=!1,R=0;for(let D=0,O=x.length;D<O;D++)v[D]=[];for(let D=0,O=x.length;D<O;D++){const P=b[D];for(let U=0;U<P.length;U++){const V=P[U];let H=!0;for(let I=0;I<x.length;I++)i(V.p,x[I].p)&&(D!==I&&R++,H?(H=!1,v[I].push(V)):w=!0);H&&v[D].push(V)}}R>0&&w===!1&&(b=v)}let E;for(let w=0,R=x.length;w<R;w++){h=x[w].s,p.push(h),E=b[w];for(let D=0,O=E.length;D<O;D++)h.holes.push(E[D].h)}return p}}class CX extends Yl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){At("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function RX(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function DX(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function NX(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function Q2(n,e,t,i){const a=LX(i);switch(t){case xE:return n*e;case dv:return n*e/a.components*a.byteLength;case pv:return n*e/a.components*a.byteLength;case i_:return n*e*2/a.components*a.byteLength;case a_:return n*e*2/a.components*a.byteLength;case bE:return n*e*3/a.components*a.byteLength;case ha:return n*e*4/a.components*a.byteLength;case s_:return n*e*4/a.components*a.byteLength;case hg:case dg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case pg:case mg:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Kb:case Jb:return Math.max(n,16)*Math.max(e,8)/4;case Zb:case Qb:return Math.max(n,8)*Math.max(e,8)/2;case $b:case e1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case t1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case n1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case i1:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case a1:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case s1:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case r1:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case o1:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case l1:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case c1:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case u1:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case f1:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case h1:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case d1:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case p1:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case m1:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case g1:case v1:case y1:return Math.ceil(n/4)*Math.ceil(e/4)*16;case x1:case b1:return Math.ceil(n/4)*Math.ceil(e/4)*8;case _1:case S1:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function LX(n){switch(n){case qs:case $1:return{byteLength:1,components:1};case Wp:case e_:case La:return{byteLength:2,components:1};case t_:case n_:return{byteLength:2,components:4};case Wl:case hv:case Wi:return{byteLength:4,components:1};case vE:case yE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class OX{static contain(e,t){return RX(e,t)}static cover(e,t){return DX(e,t)}static fill(e){return NX(e)}static getByteLength(e,t,i,a){return Q2(e,t,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:uv}}));typeof window<"u"&&(window.__THREE__?At("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=uv);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function g5(){let n=null,e=!1,t=null,i=null;function a(r,l){t(r,l),i=n.requestAnimationFrame(a)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(a),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(r){t=r},setContext:function(r){n=r}}}function UX(n){const e=new WeakMap;function t(u,h){const p=u.array,m=u.usage,v=p.byteLength,x=n.createBuffer();n.bindBuffer(h,x),n.bufferData(h,p,m),u.onUploadCallback();let b;if(p instanceof Float32Array)b=n.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)b=n.HALF_FLOAT;else if(p instanceof Uint16Array)u.isFloat16BufferAttribute?b=n.HALF_FLOAT:b=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)b=n.SHORT;else if(p instanceof Uint32Array)b=n.UNSIGNED_INT;else if(p instanceof Int32Array)b=n.INT;else if(p instanceof Int8Array)b=n.BYTE;else if(p instanceof Uint8Array)b=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)b=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:x,type:b,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function i(u,h,p){const m=h.array,v=h.updateRanges;if(n.bindBuffer(p,u),v.length===0)n.bufferSubData(p,0,m);else{v.sort((b,M)=>b.start-M.start);let x=0;for(let b=1;b<v.length;b++){const M=v[x],C=v[b];C.start<=M.start+M.count+1?M.count=Math.max(M.count,C.start+C.count-M.start):(++x,v[x]=C)}v.length=x+1;for(let b=0,M=v.length;b<M;b++){const C=v[b];n.bufferSubData(p,C.start*m.BYTES_PER_ELEMENT,m,C.start,C.count)}h.clearUpdateRanges()}h.onUploadCallback()}function a(u){return u.isInterleavedBufferAttribute&&(u=u.data),e.get(u)}function r(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=e.get(u);h&&(n.deleteBuffer(h.buffer),e.delete(u))}function l(u,h){if(u.isInterleavedBufferAttribute&&(u=u.data),u.isGLBufferAttribute){const m=e.get(u);(!m||m.version<u.version)&&e.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}const p=e.get(u);if(p===void 0)e.set(u,t(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,u,h),p.version=u.version}}return{get:a,remove:r,update:l}}var IX=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,PX=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,BX=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zX=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,VX=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,FX=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,HX=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kX=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,GX=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,jX=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,XX=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,WX=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qX=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,YX=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ZX=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,KX=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,QX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,JX=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$X=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,eW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,tW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,nW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,iW=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,aW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,sW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,rW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,oW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,lW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,cW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,uW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,fW="gl_FragColor = linearToOutputTexel( gl_FragColor );",hW=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,dW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,pW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,mW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,gW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,vW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,yW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,xW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,bW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,_W=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,SW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,wW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,MW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,EW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,TW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,AW=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,CW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,RW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,DW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,NW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,LW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,OW=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,UW=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,IW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,PW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,BW=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,zW=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,VW=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,FW=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,HW=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,kW=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,GW=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,jW=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,XW=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,WW=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,qW=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,YW=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ZW=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,KW=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,QW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,JW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$W=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,eq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,tq=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,nq=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,iq=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,aq=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,sq=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,rq=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,oq=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,lq=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,cq=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,uq=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,fq=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,hq=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dq=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,pq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,mq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,gq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,vq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,yq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,xq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,bq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,_q=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Sq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Mq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Eq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Tq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Aq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Cq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Rq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Dq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Nq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Lq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Oq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Uq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Iq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Pq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Bq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Vq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Fq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Hq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,kq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Gq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,jq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Xq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Wq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Yq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Zq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Jq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$q=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eY=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,tY=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,nY=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,iY=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aY=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,sY=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rY=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,oY=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lY=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,cY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,uY=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fY=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,hY=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dY=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Rn={alphahash_fragment:IX,alphahash_pars_fragment:PX,alphamap_fragment:BX,alphamap_pars_fragment:zX,alphatest_fragment:VX,alphatest_pars_fragment:FX,aomap_fragment:HX,aomap_pars_fragment:kX,batching_pars_vertex:GX,batching_vertex:jX,begin_vertex:XX,beginnormal_vertex:WX,bsdfs:qX,iridescence_fragment:YX,bumpmap_pars_fragment:ZX,clipping_planes_fragment:KX,clipping_planes_pars_fragment:QX,clipping_planes_pars_vertex:JX,clipping_planes_vertex:$X,color_fragment:eW,color_pars_fragment:tW,color_pars_vertex:nW,color_vertex:iW,common:aW,cube_uv_reflection_fragment:sW,defaultnormal_vertex:rW,displacementmap_pars_vertex:oW,displacementmap_vertex:lW,emissivemap_fragment:cW,emissivemap_pars_fragment:uW,colorspace_fragment:fW,colorspace_pars_fragment:hW,envmap_fragment:dW,envmap_common_pars_fragment:pW,envmap_pars_fragment:mW,envmap_pars_vertex:gW,envmap_physical_pars_fragment:AW,envmap_vertex:vW,fog_vertex:yW,fog_pars_vertex:xW,fog_fragment:bW,fog_pars_fragment:_W,gradientmap_pars_fragment:SW,lightmap_pars_fragment:wW,lights_lambert_fragment:MW,lights_lambert_pars_fragment:EW,lights_pars_begin:TW,lights_toon_fragment:CW,lights_toon_pars_fragment:RW,lights_phong_fragment:DW,lights_phong_pars_fragment:NW,lights_physical_fragment:LW,lights_physical_pars_fragment:OW,lights_fragment_begin:UW,lights_fragment_maps:IW,lights_fragment_end:PW,logdepthbuf_fragment:BW,logdepthbuf_pars_fragment:zW,logdepthbuf_pars_vertex:VW,logdepthbuf_vertex:FW,map_fragment:HW,map_pars_fragment:kW,map_particle_fragment:GW,map_particle_pars_fragment:jW,metalnessmap_fragment:XW,metalnessmap_pars_fragment:WW,morphinstance_vertex:qW,morphcolor_vertex:YW,morphnormal_vertex:ZW,morphtarget_pars_vertex:KW,morphtarget_vertex:QW,normal_fragment_begin:JW,normal_fragment_maps:$W,normal_pars_fragment:eq,normal_pars_vertex:tq,normal_vertex:nq,normalmap_pars_fragment:iq,clearcoat_normal_fragment_begin:aq,clearcoat_normal_fragment_maps:sq,clearcoat_pars_fragment:rq,iridescence_pars_fragment:oq,opaque_fragment:lq,packing:cq,premultiplied_alpha_fragment:uq,project_vertex:fq,dithering_fragment:hq,dithering_pars_fragment:dq,roughnessmap_fragment:pq,roughnessmap_pars_fragment:mq,shadowmap_pars_fragment:gq,shadowmap_pars_vertex:vq,shadowmap_vertex:yq,shadowmask_pars_fragment:xq,skinbase_vertex:bq,skinning_pars_vertex:_q,skinning_vertex:Sq,skinnormal_vertex:wq,specularmap_fragment:Mq,specularmap_pars_fragment:Eq,tonemapping_fragment:Tq,tonemapping_pars_fragment:Aq,transmission_fragment:Cq,transmission_pars_fragment:Rq,uv_pars_fragment:Dq,uv_pars_vertex:Nq,uv_vertex:Lq,worldpos_vertex:Oq,background_vert:Uq,background_frag:Iq,backgroundCube_vert:Pq,backgroundCube_frag:Bq,cube_vert:zq,cube_frag:Vq,depth_vert:Fq,depth_frag:Hq,distanceRGBA_vert:kq,distanceRGBA_frag:Gq,equirect_vert:jq,equirect_frag:Xq,linedashed_vert:Wq,linedashed_frag:qq,meshbasic_vert:Yq,meshbasic_frag:Zq,meshlambert_vert:Kq,meshlambert_frag:Qq,meshmatcap_vert:Jq,meshmatcap_frag:$q,meshnormal_vert:eY,meshnormal_frag:tY,meshphong_vert:nY,meshphong_frag:iY,meshphysical_vert:aY,meshphysical_frag:sY,meshtoon_vert:rY,meshtoon_frag:oY,points_vert:lY,points_frag:cY,shadow_vert:uY,shadow_frag:fY,sprite_vert:hY,sprite_frag:dY},Tt={common:{diffuse:{value:new Lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Sn}},envmap:{envMap:{value:null},envMapRotation:{value:new Sn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Sn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Sn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Sn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Sn},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Sn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Sn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Sn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Sn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new Lt(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Sn},alphaMap:{value:null},alphaMapTransform:{value:new Sn},alphaTest:{value:0}}},Xo={basic:{uniforms:Fs([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:Rn.meshbasic_vert,fragmentShader:Rn.meshbasic_frag},lambert:{uniforms:Fs([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Rn.meshlambert_vert,fragmentShader:Rn.meshlambert_frag},phong:{uniforms:Fs([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)},specular:{value:new Lt(1118481)},shininess:{value:30}}]),vertexShader:Rn.meshphong_vert,fragmentShader:Rn.meshphong_frag},standard:{uniforms:Fs([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag},toon:{uniforms:Fs([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new Lt(0)}}]),vertexShader:Rn.meshtoon_vert,fragmentShader:Rn.meshtoon_frag},matcap:{uniforms:Fs([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:Rn.meshmatcap_vert,fragmentShader:Rn.meshmatcap_frag},points:{uniforms:Fs([Tt.points,Tt.fog]),vertexShader:Rn.points_vert,fragmentShader:Rn.points_frag},dashed:{uniforms:Fs([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Rn.linedashed_vert,fragmentShader:Rn.linedashed_frag},depth:{uniforms:Fs([Tt.common,Tt.displacementmap]),vertexShader:Rn.depth_vert,fragmentShader:Rn.depth_frag},normal:{uniforms:Fs([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:Rn.meshnormal_vert,fragmentShader:Rn.meshnormal_frag},sprite:{uniforms:Fs([Tt.sprite,Tt.fog]),vertexShader:Rn.sprite_vert,fragmentShader:Rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Rn.background_vert,fragmentShader:Rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Sn}},vertexShader:Rn.backgroundCube_vert,fragmentShader:Rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Rn.cube_vert,fragmentShader:Rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Rn.equirect_vert,fragmentShader:Rn.equirect_frag},distanceRGBA:{uniforms:Fs([Tt.common,Tt.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Rn.distanceRGBA_vert,fragmentShader:Rn.distanceRGBA_frag},shadow:{uniforms:Fs([Tt.lights,Tt.fog,{color:{value:new Lt(0)},opacity:{value:1}}]),vertexShader:Rn.shadow_vert,fragmentShader:Rn.shadow_frag}};Xo.physical={uniforms:Fs([Xo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Sn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Sn},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Sn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Sn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Sn},sheen:{value:0},sheenColor:{value:new Lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Sn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Sn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Sn},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Sn},attenuationDistance:{value:0},attenuationColor:{value:new Lt(0)},specularColor:{value:new Lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Sn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Sn},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Sn}}]),vertexShader:Rn.meshphysical_vert,fragmentShader:Rn.meshphysical_frag};const Zx={r:0,b:0,g:0},vh=new Br,pY=new cn;function mY(n,e,t,i,a,r,l){const u=new Lt(0);let h=r===!0?0:1,p,m,v=null,x=0,b=null;function M(D){let O=D.isScene===!0?D.background:null;return O&&O.isTexture&&(O=(D.backgroundBlurriness>0?t:e).get(O)),O}function C(D){let O=!1;const P=M(D);P===null?w(u,h):P&&P.isColor&&(w(P,1),O=!0);const U=n.xr.getEnvironmentBlendMode();U==="additive"?i.buffers.color.setClear(0,0,0,1,l):U==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,l),(n.autoClear||O)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function E(D,O){const P=M(O);P&&(P.isCubeTexture||P.mapping===gm)?(m===void 0&&(m=new na(new Yh(1,1,1),new Ys({name:"BackgroundCubeMaterial",uniforms:em(Xo.backgroundCube.uniforms),vertexShader:Xo.backgroundCube.vertexShader,fragmentShader:Xo.backgroundCube.fragmentShader,side:Xs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),m.geometry.deleteAttribute("uv"),m.onBeforeRender=function(U,V,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(m.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(m)),vh.copy(O.backgroundRotation),vh.x*=-1,vh.y*=-1,vh.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(vh.y*=-1,vh.z*=-1),m.material.uniforms.envMap.value=P,m.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,m.material.uniforms.backgroundBlurriness.value=O.backgroundBlurriness,m.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,m.material.uniforms.backgroundRotation.value.setFromMatrix4(pY.makeRotationFromEuler(vh)),m.material.toneMapped=kn.getTransfer(P.colorSpace)!==ui,(v!==P||x!==P.version||b!==n.toneMapping)&&(m.material.needsUpdate=!0,v=P,x=P.version,b=n.toneMapping),m.layers.enableAll(),D.unshift(m,m.geometry,m.material,0,0,null)):P&&P.isTexture&&(p===void 0&&(p=new na(new ff(2,2),new Ys({name:"BackgroundMaterial",uniforms:em(Xo.background.uniforms),vertexShader:Xo.background.vertexShader,fragmentShader:Xo.background.fragmentShader,side:Hc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(p)),p.material.uniforms.t2D.value=P,p.material.uniforms.backgroundIntensity.value=O.backgroundIntensity,p.material.toneMapped=kn.getTransfer(P.colorSpace)!==ui,P.matrixAutoUpdate===!0&&P.updateMatrix(),p.material.uniforms.uvTransform.value.copy(P.matrix),(v!==P||x!==P.version||b!==n.toneMapping)&&(p.material.needsUpdate=!0,v=P,x=P.version,b=n.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function w(D,O){D.getRGB(Zx,gO(n)),i.buffers.color.setClear(Zx.r,Zx.g,Zx.b,O,l)}function R(){m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return u},setClearColor:function(D,O=1){u.set(D),h=O,w(u,h)},getClearAlpha:function(){return h},setClearAlpha:function(D){h=D,w(u,h)},render:C,addToRenderList:E,dispose:R}}function gY(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=x(null);let r=a,l=!1;function u(L,q,J,re,de){let ve=!1;const G=v(re,J,q);r!==G&&(r=G,p(r.object)),ve=b(L,re,J,de),ve&&M(L,re,J,de),de!==null&&e.update(de,n.ELEMENT_ARRAY_BUFFER),(ve||l)&&(l=!1,O(L,q,J,re),de!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(de).buffer))}function h(){return n.createVertexArray()}function p(L){return n.bindVertexArray(L)}function m(L){return n.deleteVertexArray(L)}function v(L,q,J){const re=J.wireframe===!0;let de=i[L.id];de===void 0&&(de={},i[L.id]=de);let ve=de[q.id];ve===void 0&&(ve={},de[q.id]=ve);let G=ve[re];return G===void 0&&(G=x(h()),ve[re]=G),G}function x(L){const q=[],J=[],re=[];for(let de=0;de<t;de++)q[de]=0,J[de]=0,re[de]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:J,attributeDivisors:re,object:L,attributes:{},index:null}}function b(L,q,J,re){const de=r.attributes,ve=q.attributes;let G=0;const K=J.getAttributes();for(const $ in K)if(K[$].location>=0){const X=de[$];let fe=ve[$];if(fe===void 0&&($==="instanceMatrix"&&L.instanceMatrix&&(fe=L.instanceMatrix),$==="instanceColor"&&L.instanceColor&&(fe=L.instanceColor)),X===void 0||X.attribute!==fe||fe&&X.data!==fe.data)return!0;G++}return r.attributesNum!==G||r.index!==re}function M(L,q,J,re){const de={},ve=q.attributes;let G=0;const K=J.getAttributes();for(const $ in K)if(K[$].location>=0){let X=ve[$];X===void 0&&($==="instanceMatrix"&&L.instanceMatrix&&(X=L.instanceMatrix),$==="instanceColor"&&L.instanceColor&&(X=L.instanceColor));const fe={};fe.attribute=X,X&&X.data&&(fe.data=X.data),de[$]=fe,G++}r.attributes=de,r.attributesNum=G,r.index=re}function C(){const L=r.newAttributes;for(let q=0,J=L.length;q<J;q++)L[q]=0}function E(L){w(L,0)}function w(L,q){const J=r.newAttributes,re=r.enabledAttributes,de=r.attributeDivisors;J[L]=1,re[L]===0&&(n.enableVertexAttribArray(L),re[L]=1),de[L]!==q&&(n.vertexAttribDivisor(L,q),de[L]=q)}function R(){const L=r.newAttributes,q=r.enabledAttributes;for(let J=0,re=q.length;J<re;J++)q[J]!==L[J]&&(n.disableVertexAttribArray(J),q[J]=0)}function D(L,q,J,re,de,ve,G){G===!0?n.vertexAttribIPointer(L,q,J,de,ve):n.vertexAttribPointer(L,q,J,re,de,ve)}function O(L,q,J,re){C();const de=re.attributes,ve=J.getAttributes(),G=q.defaultAttributeValues;for(const K in ve){const $=ve[K];if($.location>=0){let pe=de[K];if(pe===void 0&&(K==="instanceMatrix"&&L.instanceMatrix&&(pe=L.instanceMatrix),K==="instanceColor"&&L.instanceColor&&(pe=L.instanceColor)),pe!==void 0){const X=pe.normalized,fe=pe.itemSize,xe=e.get(pe);if(xe===void 0)continue;const Ce=xe.buffer,Be=xe.type,ft=xe.bytesPerElement,ge=Be===n.INT||Be===n.UNSIGNED_INT||pe.gpuType===hv;if(pe.isInterleavedBufferAttribute){const ze=pe.data,Ke=ze.stride,St=pe.offset;if(ze.isInstancedInterleavedBuffer){for(let Rt=0;Rt<$.locationSize;Rt++)w($.location+Rt,ze.meshPerAttribute);L.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let Rt=0;Rt<$.locationSize;Rt++)E($.location+Rt);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let Rt=0;Rt<$.locationSize;Rt++)D($.location+Rt,fe/$.locationSize,Be,X,Ke*ft,(St+fe/$.locationSize*Rt)*ft,ge)}else{if(pe.isInstancedBufferAttribute){for(let ze=0;ze<$.locationSize;ze++)w($.location+ze,pe.meshPerAttribute);L.isInstancedMesh!==!0&&re._maxInstanceCount===void 0&&(re._maxInstanceCount=pe.meshPerAttribute*pe.count)}else for(let ze=0;ze<$.locationSize;ze++)E($.location+ze);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let ze=0;ze<$.locationSize;ze++)D($.location+ze,fe/$.locationSize,Be,X,fe*ft,fe/$.locationSize*ze*ft,ge)}}else if(G!==void 0){const X=G[K];if(X!==void 0)switch(X.length){case 2:n.vertexAttrib2fv($.location,X);break;case 3:n.vertexAttrib3fv($.location,X);break;case 4:n.vertexAttrib4fv($.location,X);break;default:n.vertexAttrib1fv($.location,X)}}}}R()}function P(){H();for(const L in i){const q=i[L];for(const J in q){const re=q[J];for(const de in re)m(re[de].object),delete re[de];delete q[J]}delete i[L]}}function U(L){if(i[L.id]===void 0)return;const q=i[L.id];for(const J in q){const re=q[J];for(const de in re)m(re[de].object),delete re[de];delete q[J]}delete i[L.id]}function V(L){for(const q in i){const J=i[q];if(J[L.id]===void 0)continue;const re=J[L.id];for(const de in re)m(re[de].object),delete re[de];delete J[L.id]}}function H(){I(),l=!0,r!==a&&(r=a,p(r.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:u,reset:H,resetDefaultState:I,dispose:P,releaseStatesOfGeometry:U,releaseStatesOfProgram:V,initAttributes:C,enableAttribute:E,disableUnusedAttributes:R}}function vY(n,e,t){let i;function a(p){i=p}function r(p,m){n.drawArrays(i,p,m),t.update(m,i,1)}function l(p,m,v){v!==0&&(n.drawArraysInstanced(i,p,m,v),t.update(m,i,v))}function u(p,m,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,p,0,m,0,v);let b=0;for(let M=0;M<v;M++)b+=m[M];t.update(b,i,1)}function h(p,m,v,x){if(v===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let M=0;M<p.length;M++)l(p[M],m[M],x[M]);else{b.multiDrawArraysInstancedWEBGL(i,p,0,m,0,x,0,v);let M=0;for(let C=0;C<v;C++)M+=m[C]*x[C];t.update(M,i,1)}}this.setMode=a,this.render=r,this.renderInstances=l,this.renderMultiDraw=u,this.renderMultiDrawInstances=h}function yY(n,e,t,i){let a;function r(){if(a!==void 0)return a;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");a=n.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function l(V){return!(V!==ha&&i.convert(V)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function u(V){const H=V===La&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(V!==qs&&i.convert(V)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&V!==Wi&&!H)}function h(V){if(V==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const m=h(p);m!==p&&(At("WebGLRenderer:",p,"not supported, using",m,"instead."),p=m);const v=t.logarithmicDepthBuffer===!0,x=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),b=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),M=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_TEXTURE_SIZE),E=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),w=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),D=n.getParameter(n.MAX_VARYING_VECTORS),O=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),P=M>0,U=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:r,getMaxPrecision:h,textureFormatReadable:l,textureTypeReadable:u,precision:p,logarithmicDepthBuffer:v,reversedDepthBuffer:x,maxTextures:b,maxVertexTextures:M,maxTextureSize:C,maxCubemapSize:E,maxAttributes:w,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:O,vertexTextures:P,maxSamples:U}}function xY(n){const e=this;let t=null,i=0,a=!1,r=!1;const l=new Nc,u=new Sn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(v,x){const b=v.length!==0||x||i!==0||a;return a=x,i=v.length,b},this.beginShadows=function(){r=!0,m(null)},this.endShadows=function(){r=!1},this.setGlobalState=function(v,x){t=m(v,x,0)},this.setState=function(v,x,b){const M=v.clippingPlanes,C=v.clipIntersection,E=v.clipShadows,w=n.get(v);if(!a||M===null||M.length===0||r&&!E)r?m(null):p();else{const R=r?0:i,D=R*4;let O=w.clippingState||null;h.value=O,O=m(M,x,D,b);for(let P=0;P!==D;++P)O[P]=t[P];w.clippingState=O,this.numIntersection=C?this.numPlanes:0,this.numPlanes+=R}};function p(){h.value!==t&&(h.value=t,h.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function m(v,x,b,M){const C=v!==null?v.length:0;let E=null;if(C!==0){if(E=h.value,M!==!0||E===null){const w=b+C*4,R=x.matrixWorldInverse;u.getNormalMatrix(R),(E===null||E.length<w)&&(E=new Float32Array(w));for(let D=0,O=b;D!==C;++D,O+=4)l.copy(v[D]).applyMatrix4(R,u),l.normal.toArray(E,O),E[O+3]=l.constant}h.value=E,h.needsUpdate=!0}return e.numPlanes=C,e.numIntersection=0,E}}function bY(n){let e=new WeakMap;function t(l,u){return u===Xp?l.mapping=Xl:u===Lg&&(l.mapping=sf),l}function i(l){if(l&&l.isTexture){const u=l.mapping;if(u===Xp||u===Lg)if(e.has(l)){const h=e.get(l).texture;return t(h,l.mapping)}else{const h=l.image;if(h&&h.height>0){const p=new AE(h.height);return p.fromEquirectangularTexture(n,l),e.set(l,p),l.addEventListener("dispose",a),t(p.texture,l.mapping)}else return null}}return l}function a(l){const u=l.target;u.removeEventListener("dispose",a);const h=e.get(u);h!==void 0&&(e.delete(u),h.dispose())}function r(){e=new WeakMap}return{get:i,dispose:r}}const Ju=4,fR=[.125,.215,.35,.446,.526,.582],wh=20,_Y=256,K0=new Bc,hR=new Lt;let Nw=null,Lw=0,Ow=0,Uw=!1;const SY=new te;class J2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,i=.1,a=100,r={}){const{size:l=256,position:u=SY}=r;Nw=this._renderer.getRenderTarget(),Lw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Uw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(l);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,i,a,h,u),t>0&&this._blur(h,0,0,t),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=mR(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=pR(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(Nw,Lw,Ow),this._renderer.xr.enabled=Uw,e.scissorTest=!1,xp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xl||e.mapping===sf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Nw=this._renderer.getRenderTarget(),Lw=this._renderer.getActiveCubeFace(),Ow=this._renderer.getActiveMipmapLevel(),Uw=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:ti,minFilter:ti,generateMipmaps:!1,type:La,format:ha,colorSpace:Ko,depthBuffer:!1},a=dR(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=dR(e,t,i);const{_lodMax:r}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=wY(r)),this._blurMaterial=EY(r,e,t)}return a}_compileMaterial(e){const t=new na(new wn,e);this._renderer.compile(t,K0)}_sceneToCubeUV(e,t,i,a,r){const h=new fa(90,1,t,i),p=[1,-1,1,1,1,1],m=[1,1,1,-1,-1,-1],v=this._renderer,x=v.autoClear,b=v.toneMapping;v.getClearColor(hR),v.toneMapping=kl,v.autoClear=!1,v.state.buffers.depth.getReversed()&&(v.setRenderTarget(a),v.clearDepth(),v.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new na(new Yh,new jc({name:"PMREM.Background",side:Xs,depthWrite:!1,depthTest:!1})));const C=this._backgroundBox,E=C.material;let w=!1;const R=e.background;R?R.isColor&&(E.color.copy(R),e.background=null,w=!0):(E.color.copy(hR),w=!0);for(let D=0;D<6;D++){const O=D%3;O===0?(h.up.set(0,p[D],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x+m[D],r.y,r.z)):O===1?(h.up.set(0,0,p[D]),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y+m[D],r.z)):(h.up.set(0,p[D],0),h.position.set(r.x,r.y,r.z),h.lookAt(r.x,r.y,r.z+m[D]));const P=this._cubeSize;xp(a,O*P,D>2?P:0,P,P),v.setRenderTarget(a),w&&v.render(C,h),v.render(e,h)}v.toneMapping=b,v.autoClear=x,e.background=R}_textureToCubeUV(e,t){const i=this._renderer,a=e.mapping===Xl||e.mapping===sf;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=mR()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=pR());const r=a?this._cubemapMaterial:this._equirectMaterial,l=this._lodMeshes[0];l.material=r;const u=r.uniforms;u.envMap.value=e;const h=this._cubeSize;xp(t,0,0,3*h,2*h),i.setRenderTarget(t),i.render(l,K0)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const a=this._lodMeshes.length;for(let r=1;r<a;r++)this._applyGGXFilter(e,r-1,r);t.autoClear=i}_applyGGXFilter(e,t,i){const a=this._renderer,r=this._pingPongRenderTarget;if(this._ggxMaterial===null){const R=3*Math.max(this._cubeSize,16),D=4*this._cubeSize;this._ggxMaterial=MY(this._lodMax,R,D)}const l=this._ggxMaterial,u=this._lodMeshes[i];u.material=l;const h=l.uniforms,p=i/(this._lodMeshes.length-1),m=t/(this._lodMeshes.length-1),v=Math.sqrt(p*p-m*m),x=.05+p*.95,b=v*x,{_lodMax:M}=this,C=this._sizeLods[i],E=3*C*(i>M-Ju?i-M+Ju:0),w=4*(this._cubeSize-C);h.envMap.value=e.texture,h.roughness.value=b,h.mipInt.value=M-t,xp(r,E,w,3*C,2*C),a.setRenderTarget(r),a.render(u,K0),h.envMap.value=r.texture,h.roughness.value=0,h.mipInt.value=M-i,xp(e,E,w,3*C,2*C),a.setRenderTarget(e),a.render(u,K0)}_blur(e,t,i,a,r){const l=this._pingPongRenderTarget;this._halfBlur(e,l,t,i,a,"latitudinal",r),this._halfBlur(l,e,i,i,a,"longitudinal",r)}_halfBlur(e,t,i,a,r,l,u){const h=this._renderer,p=this._blurMaterial;l!=="latitudinal"&&l!=="longitudinal"&&hn("blur direction must be either latitudinal or longitudinal!");const m=3,v=this._lodMeshes[a];v.material=p;const x=p.uniforms,b=this._sizeLods[i]-1,M=isFinite(r)?Math.PI/(2*b):2*Math.PI/(2*wh-1),C=r/M,E=isFinite(r)?1+Math.floor(m*C):wh;E>wh&&At(`sigmaRadians, ${r}, is too large and will clip, as it requested ${E} samples when the maximum is set to ${wh}`);const w=[];let R=0;for(let V=0;V<wh;++V){const H=V/C,I=Math.exp(-H*H/2);w.push(I),V===0?R+=I:V<E&&(R+=2*I)}for(let V=0;V<w.length;V++)w[V]=w[V]/R;x.envMap.value=e.texture,x.samples.value=E,x.weights.value=w,x.latitudinal.value=l==="latitudinal",u&&(x.poleAxis.value=u);const{_lodMax:D}=this;x.dTheta.value=M,x.mipInt.value=D-i;const O=this._sizeLods[a],P=3*O*(a>D-Ju?a-D+Ju:0),U=4*(this._cubeSize-O);xp(t,P,U,3*O,2*O),h.setRenderTarget(t),h.render(v,K0)}}function wY(n){const e=[],t=[],i=[];let a=n;const r=n-Ju+1+fR.length;for(let l=0;l<r;l++){const u=Math.pow(2,a);e.push(u);let h=1/u;l>n-Ju?h=fR[l-n+Ju-1]:l===0&&(h=0),t.push(h);const p=1/(u-2),m=-p,v=1+p,x=[m,m,v,m,v,v,m,m,v,v,m,v],b=6,M=6,C=3,E=2,w=1,R=new Float32Array(C*M*b),D=new Float32Array(E*M*b),O=new Float32Array(w*M*b);for(let U=0;U<b;U++){const V=U%3*2/3-1,H=U>2?0:-1,I=[V,H,0,V+2/3,H,0,V+2/3,H+1,0,V,H,0,V+2/3,H+1,0,V,H+1,0];R.set(I,C*M*U),D.set(x,E*M*U);const L=[U,U,U,U,U,U];O.set(L,w*M*U)}const P=new wn;P.setAttribute("position",new yi(R,C)),P.setAttribute("uv",new yi(D,E)),P.setAttribute("faceIndex",new yi(O,w)),i.push(new na(P,null)),a>Ju&&a--}return{lodMeshes:i,sizeLods:e,sigmas:t}}function dR(n,e,t){const i=new ho(n,e,t);return i.texture.mapping=gm,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function xp(n,e,t,i,a){n.viewport.set(e,t,i,a),n.scissor.set(e,t,i,a)}function MY(n,e,t){return new Ys({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:_Y,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:D_(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function EY(n,e,t){const i=new Float32Array(wh),a=new te(0,1,0);return new Ys({name:"SphericalGaussianBlur",defines:{n:wh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function pR(){return new Ys({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function mR(){return new Ys({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:D_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zo,depthTest:!1,depthWrite:!1})}function D_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function TY(n){let e=new WeakMap,t=null;function i(u){if(u&&u.isTexture){const h=u.mapping,p=h===Xp||h===Lg,m=h===Xl||h===sf;if(p||m){let v=e.get(u);const x=v!==void 0?v.texture.pmremVersion:0;if(u.isRenderTargetTexture&&u.pmremVersion!==x)return t===null&&(t=new J2(n)),v=p?t.fromEquirectangular(u,v):t.fromCubemap(u,v),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),v.texture;if(v!==void 0)return v.texture;{const b=u.image;return p&&b&&b.height>0||m&&b&&a(b)?(t===null&&(t=new J2(n)),v=p?t.fromEquirectangular(u):t.fromCubemap(u),v.texture.pmremVersion=u.pmremVersion,e.set(u,v),u.addEventListener("dispose",r),v.texture):null}}}return u}function a(u){let h=0;const p=6;for(let m=0;m<p;m++)u[m]!==void 0&&h++;return h===p}function r(u){const h=u.target;h.removeEventListener("dispose",r);const p=e.get(h);p!==void 0&&(e.delete(h),p.dispose())}function l(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:l}}function AY(n){const e={};function t(i){if(e[i]!==void 0)return e[i];const a=n.getExtension(i);return e[i]=a,a}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const a=t(i);return a===null&&Qp("WebGLRenderer: "+i+" extension not supported."),a}}}function CY(n,e,t,i){const a={},r=new WeakMap;function l(v){const x=v.target;x.index!==null&&e.remove(x.index);for(const M in x.attributes)e.remove(x.attributes[M]);x.removeEventListener("dispose",l),delete a[x.id];const b=r.get(x);b&&(e.remove(b),r.delete(x)),i.releaseStatesOfGeometry(x),x.isInstancedBufferGeometry===!0&&delete x._maxInstanceCount,t.memory.geometries--}function u(v,x){return a[x.id]===!0||(x.addEventListener("dispose",l),a[x.id]=!0,t.memory.geometries++),x}function h(v){const x=v.attributes;for(const b in x)e.update(x[b],n.ARRAY_BUFFER)}function p(v){const x=[],b=v.index,M=v.attributes.position;let C=0;if(b!==null){const R=b.array;C=b.version;for(let D=0,O=R.length;D<O;D+=3){const P=R[D+0],U=R[D+1],V=R[D+2];x.push(P,U,U,V,V,P)}}else if(M!==void 0){const R=M.array;C=M.version;for(let D=0,O=R.length/3-1;D<O;D+=3){const P=D+0,U=D+1,V=D+2;x.push(P,U,U,V,V,P)}}else return;const E=new(hO(x)?TE:EE)(x,1);E.version=C;const w=r.get(v);w&&e.remove(w),r.set(v,E)}function m(v){const x=r.get(v);if(x){const b=v.index;b!==null&&x.version<b.version&&p(v)}else p(v);return r.get(v)}return{get:u,update:h,getWireframeAttribute:m}}function RY(n,e,t){let i;function a(x){i=x}let r,l;function u(x){r=x.type,l=x.bytesPerElement}function h(x,b){n.drawElements(i,b,r,x*l),t.update(b,i,1)}function p(x,b,M){M!==0&&(n.drawElementsInstanced(i,b,r,x*l,M),t.update(b,i,M))}function m(x,b,M){if(M===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,b,0,r,x,0,M);let E=0;for(let w=0;w<M;w++)E+=b[w];t.update(E,i,1)}function v(x,b,M,C){if(M===0)return;const E=e.get("WEBGL_multi_draw");if(E===null)for(let w=0;w<x.length;w++)p(x[w]/l,b[w],C[w]);else{E.multiDrawElementsInstancedWEBGL(i,b,0,r,x,0,C,0,M);let w=0;for(let R=0;R<M;R++)w+=b[R]*C[R];t.update(w,i,1)}}this.setMode=a,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m,this.renderMultiDrawInstances=v}function DY(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(r,l,u){switch(t.calls++,l){case n.TRIANGLES:t.triangles+=u*(r/3);break;case n.LINES:t.lines+=u*(r/2);break;case n.LINE_STRIP:t.lines+=u*(r-1);break;case n.LINE_LOOP:t.lines+=u*r;break;case n.POINTS:t.points+=u*r;break;default:hn("WebGLInfo: Unknown draw mode:",l);break}}function a(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:a,update:i}}function NY(n,e,t){const i=new WeakMap,a=new Wn;function r(l,u,h){const p=l.morphTargetInfluences,m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=m!==void 0?m.length:0;let x=i.get(u);if(x===void 0||x.count!==v){let L=function(){H.dispose(),i.delete(u),u.removeEventListener("dispose",L)};var b=L;x!==void 0&&x.texture.dispose();const M=u.morphAttributes.position!==void 0,C=u.morphAttributes.normal!==void 0,E=u.morphAttributes.color!==void 0,w=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let O=0;M===!0&&(O=1),C===!0&&(O=2),E===!0&&(O=3);let P=u.attributes.position.count*O,U=1;P>e.maxTextureSize&&(U=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const V=new Float32Array(P*U*4*v),H=new o_(V,P,U,v);H.type=Wi,H.needsUpdate=!0;const I=O*4;for(let q=0;q<v;q++){const J=w[q],re=R[q],de=D[q],ve=P*U*4*q;for(let G=0;G<J.count;G++){const K=G*I;M===!0&&(a.fromBufferAttribute(J,G),V[ve+K+0]=a.x,V[ve+K+1]=a.y,V[ve+K+2]=a.z,V[ve+K+3]=0),C===!0&&(a.fromBufferAttribute(re,G),V[ve+K+4]=a.x,V[ve+K+5]=a.y,V[ve+K+6]=a.z,V[ve+K+7]=0),E===!0&&(a.fromBufferAttribute(de,G),V[ve+K+8]=a.x,V[ve+K+9]=a.y,V[ve+K+10]=a.z,V[ve+K+11]=de.itemSize===4?a.w:1)}}x={count:v,texture:H,size:new qe(P,U)},i.set(u,x),u.addEventListener("dispose",L)}if(l.isInstancedMesh===!0&&l.morphTexture!==null)h.getUniforms().setValue(n,"morphTexture",l.morphTexture,t);else{let M=0;for(let E=0;E<p.length;E++)M+=p[E];const C=u.morphTargetsRelative?1:1-M;h.getUniforms().setValue(n,"morphTargetBaseInfluence",C),h.getUniforms().setValue(n,"morphTargetInfluences",p)}h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}return{update:r}}function LY(n,e,t,i){let a=new WeakMap;function r(h){const p=i.render.frame,m=h.geometry,v=e.get(h,m);if(a.get(v)!==p&&(e.update(v),a.set(v,p)),h.isInstancedMesh&&(h.hasEventListener("dispose",u)===!1&&h.addEventListener("dispose",u),a.get(h)!==p&&(t.update(h.instanceMatrix,n.ARRAY_BUFFER),h.instanceColor!==null&&t.update(h.instanceColor,n.ARRAY_BUFFER),a.set(h,p))),h.isSkinnedMesh){const x=h.skeleton;a.get(x)!==p&&(x.update(),a.set(x,p))}return v}function l(){a=new WeakMap}function u(h){const p=h.target;p.removeEventListener("dispose",u),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:r,dispose:l}}const v5=new vi,gR=new NE(1,1),y5=new o_,x5=new l_,b5=new mv,vR=[],yR=[],xR=new Float32Array(16),bR=new Float32Array(9),_R=new Float32Array(4);function ym(n,e,t){const i=n[0];if(i<=0||i>0)return n;const a=e*t;let r=vR[a];if(r===void 0&&(r=new Float32Array(a),vR[a]=r),e!==0){i.toArray(r,0);for(let l=1,u=0;l!==e;++l)u+=t,n[l].toArray(r,u)}return r}function Oa(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Ua(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function N_(n,e){let t=yR[e];t===void 0&&(t=new Int32Array(e),yR[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function OY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function UY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Oa(t,e))return;n.uniform2fv(this.addr,e),Ua(t,e)}}function IY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Oa(t,e))return;n.uniform3fv(this.addr,e),Ua(t,e)}}function PY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Oa(t,e))return;n.uniform4fv(this.addr,e),Ua(t,e)}}function BY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Oa(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Ua(t,e)}else{if(Oa(t,i))return;_R.set(i),n.uniformMatrix2fv(this.addr,!1,_R),Ua(t,i)}}function zY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Oa(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Ua(t,e)}else{if(Oa(t,i))return;bR.set(i),n.uniformMatrix3fv(this.addr,!1,bR),Ua(t,i)}}function VY(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Oa(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Ua(t,e)}else{if(Oa(t,i))return;xR.set(i),n.uniformMatrix4fv(this.addr,!1,xR),Ua(t,i)}}function FY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function HY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Oa(t,e))return;n.uniform2iv(this.addr,e),Ua(t,e)}}function kY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Oa(t,e))return;n.uniform3iv(this.addr,e),Ua(t,e)}}function GY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Oa(t,e))return;n.uniform4iv(this.addr,e),Ua(t,e)}}function jY(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function XY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Oa(t,e))return;n.uniform2uiv(this.addr,e),Ua(t,e)}}function WY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Oa(t,e))return;n.uniform3uiv(this.addr,e),Ua(t,e)}}function qY(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Oa(t,e))return;n.uniform4uiv(this.addr,e),Ua(t,e)}}function YY(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let r;this.type===n.SAMPLER_2D_SHADOW?(gR.compareFunction=SE,r=gR):r=v5,t.setTexture2D(e||r,a)}function ZY(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture3D(e||x5,a)}function KY(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTextureCube(e||b5,a)}function QY(n,e,t){const i=this.cache,a=t.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),t.setTexture2DArray(e||y5,a)}function JY(n){switch(n){case 5126:return OY;case 35664:return UY;case 35665:return IY;case 35666:return PY;case 35674:return BY;case 35675:return zY;case 35676:return VY;case 5124:case 35670:return FY;case 35667:case 35671:return HY;case 35668:case 35672:return kY;case 35669:case 35673:return GY;case 5125:return jY;case 36294:return XY;case 36295:return WY;case 36296:return qY;case 35678:case 36198:case 36298:case 36306:case 35682:return YY;case 35679:case 36299:case 36307:return ZY;case 35680:case 36300:case 36308:case 36293:return KY;case 36289:case 36303:case 36311:case 36292:return QY}}function $Y(n,e){n.uniform1fv(this.addr,e)}function eZ(n,e){const t=ym(e,this.size,2);n.uniform2fv(this.addr,t)}function tZ(n,e){const t=ym(e,this.size,3);n.uniform3fv(this.addr,t)}function nZ(n,e){const t=ym(e,this.size,4);n.uniform4fv(this.addr,t)}function iZ(n,e){const t=ym(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function aZ(n,e){const t=ym(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function sZ(n,e){const t=ym(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function rZ(n,e){n.uniform1iv(this.addr,e)}function oZ(n,e){n.uniform2iv(this.addr,e)}function lZ(n,e){n.uniform3iv(this.addr,e)}function cZ(n,e){n.uniform4iv(this.addr,e)}function uZ(n,e){n.uniform1uiv(this.addr,e)}function fZ(n,e){n.uniform2uiv(this.addr,e)}function hZ(n,e){n.uniform3uiv(this.addr,e)}function dZ(n,e){n.uniform4uiv(this.addr,e)}function pZ(n,e,t){const i=this.cache,a=e.length,r=N_(t,a);Oa(i,r)||(n.uniform1iv(this.addr,r),Ua(i,r));for(let l=0;l!==a;++l)t.setTexture2D(e[l]||v5,r[l])}function mZ(n,e,t){const i=this.cache,a=e.length,r=N_(t,a);Oa(i,r)||(n.uniform1iv(this.addr,r),Ua(i,r));for(let l=0;l!==a;++l)t.setTexture3D(e[l]||x5,r[l])}function gZ(n,e,t){const i=this.cache,a=e.length,r=N_(t,a);Oa(i,r)||(n.uniform1iv(this.addr,r),Ua(i,r));for(let l=0;l!==a;++l)t.setTextureCube(e[l]||b5,r[l])}function vZ(n,e,t){const i=this.cache,a=e.length,r=N_(t,a);Oa(i,r)||(n.uniform1iv(this.addr,r),Ua(i,r));for(let l=0;l!==a;++l)t.setTexture2DArray(e[l]||y5,r[l])}function yZ(n){switch(n){case 5126:return $Y;case 35664:return eZ;case 35665:return tZ;case 35666:return nZ;case 35674:return iZ;case 35675:return aZ;case 35676:return sZ;case 5124:case 35670:return rZ;case 35667:case 35671:return oZ;case 35668:case 35672:return lZ;case 35669:case 35673:return cZ;case 5125:return uZ;case 36294:return fZ;case 36295:return hZ;case 36296:return dZ;case 35678:case 36198:case 36298:case 36306:case 35682:return pZ;case 35679:case 36299:case 36307:return mZ;case 35680:case 36300:case 36308:case 36293:return gZ;case 36289:case 36303:case 36311:case 36292:return vZ}}class xZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=JY(t.type)}}class bZ{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=yZ(t.type)}}class _Z{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const a=this.seq;for(let r=0,l=a.length;r!==l;++r){const u=a[r];u.setValue(e,t[u.id],i)}}}const Iw=/(\w+)(\])?(\[|\.)?/g;function SR(n,e){n.seq.push(e),n.map[e.id]=e}function SZ(n,e,t){const i=n.name,a=i.length;for(Iw.lastIndex=0;;){const r=Iw.exec(i),l=Iw.lastIndex;let u=r[1];const h=r[2]==="]",p=r[3];if(h&&(u=u|0),p===void 0||p==="["&&l+2===a){SR(t,p===void 0?new xZ(u,n,e):new bZ(u,n,e));break}else{let v=t.map[u];v===void 0&&(v=new _Z(u),SR(t,v)),t=v}}}class gb{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const r=e.getActiveUniform(t,a),l=e.getUniformLocation(t,r.name);SZ(r,l,this)}}setValue(e,t,i,a){const r=this.map[t];r!==void 0&&r.setValue(e,i,a)}setOptional(e,t,i){const a=t[i];a!==void 0&&this.setValue(e,i,a)}static upload(e,t,i,a){for(let r=0,l=t.length;r!==l;++r){const u=t[r],h=i[u.id];h.needsUpdate!==!1&&u.setValue(e,h.value,a)}}static seqWithValue(e,t){const i=[];for(let a=0,r=e.length;a!==r;++a){const l=e[a];l.id in t&&i.push(l)}return i}}function wR(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const wZ=37297;let MZ=0;function EZ(n,e){const t=n.split(`
`),i=[],a=Math.max(e-6,0),r=Math.min(e+6,t.length);for(let l=a;l<r;l++){const u=l+1;i.push(`${u===e?">":" "} ${u}: ${t[l]}`)}return i.join(`
`)}const MR=new Sn;function TZ(n){kn._getMatrix(MR,kn.workingColorSpace,n);const e=`mat3( ${MR.elements.map(t=>t.toFixed(4))} )`;switch(kn.getTransfer(n)){case Bg:return[e,"LinearTransferOETF"];case ui:return[e,"sRGBTransferOETF"];default:return At("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function ER(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=(n.getShaderInfoLog(e)||"").trim();if(i&&r==="")return"";const l=/ERROR: 0:(\d+)/.exec(r);if(l){const u=parseInt(l[1]);return t.toUpperCase()+`

`+r+`

`+EZ(n.getShaderSource(e),u)}else return r}function AZ(n,e){const t=TZ(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function CZ(n,e){let t;switch(e){case WL:t="Linear";break;case qL:t="Reinhard";break;case YL:t="Cineon";break;case mE:t="ACESFilmic";break;case KL:t="AgX";break;case QL:t="Neutral";break;case ZL:t="Custom";break;default:At("WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Kx=new te;function RZ(){kn.getLuminanceCoefficients(Kx);const n=Kx.x.toFixed(4),e=Kx.y.toFixed(4),t=Kx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function DZ(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(ig).join(`
`)}function NZ(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function LZ(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const r=n.getActiveAttrib(e,a),l=r.name;let u=1;r.type===n.FLOAT_MAT2&&(u=2),r.type===n.FLOAT_MAT3&&(u=3),r.type===n.FLOAT_MAT4&&(u=4),t[l]={type:r.type,location:n.getAttribLocation(e,l),locationSize:u}}return t}function ig(n){return n!==""}function TR(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function AR(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const OZ=/^[ \t]*#include +<([\w\d./]+)>/gm;function $2(n){return n.replace(OZ,IZ)}const UZ=new Map;function IZ(n,e){let t=Rn[e];if(t===void 0){const i=UZ.get(e);if(i!==void 0)t=Rn[i],At('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return $2(t)}const PZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function CR(n){return n.replace(PZ,BZ)}function BZ(n,e,t,i){let a="";for(let r=parseInt(e);r<parseInt(t);r++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return a}function RR(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function zZ(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===J1?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===ug?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===jo&&(e="SHADOWMAP_TYPE_VSM"),e}function VZ(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xl:case sf:e="ENVMAP_TYPE_CUBE";break;case gm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function FZ(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case sf:e="ENVMAP_MODE_REFRACTION";break}return e}function HZ(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fv:e="ENVMAP_BLENDING_MULTIPLY";break;case jL:e="ENVMAP_BLENDING_MIX";break;case XL:e="ENVMAP_BLENDING_ADD";break}return e}function kZ(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}function GZ(n,e,t,i){const a=n.getContext(),r=t.defines;let l=t.vertexShader,u=t.fragmentShader;const h=zZ(t),p=VZ(t),m=FZ(t),v=HZ(t),x=kZ(t),b=DZ(t),M=NZ(r),C=a.createProgram();let E,w,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(ig).join(`
`),E.length>0&&(E+=`
`),w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M].filter(ig).join(`
`),w.length>0&&(w+=`
`)):(E=[RR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+m:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(ig).join(`
`),w=[RR(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,M,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+m:"",t.envMap?"#define "+v:"",x?"#define CUBEUV_TEXEL_WIDTH "+x.texelWidth:"",x?"#define CUBEUV_TEXEL_HEIGHT "+x.texelHeight:"",x?"#define CUBEUV_MAX_MIP "+x.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+h:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==kl?"#define TONE_MAPPING":"",t.toneMapping!==kl?Rn.tonemapping_pars_fragment:"",t.toneMapping!==kl?CZ("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Rn.colorspace_pars_fragment,AZ("linearToOutputTexel",t.outputColorSpace),RZ(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(ig).join(`
`)),l=$2(l),l=TR(l,t),l=AR(l,t),u=$2(u),u=TR(u,t),u=AR(u,t),l=CR(l),u=CR(u),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,E=[b,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+E,w=["#define varying in",t.glslVersion===G2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===G2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const D=R+E+l,O=R+w+u,P=wR(a,a.VERTEX_SHADER,D),U=wR(a,a.FRAGMENT_SHADER,O);a.attachShader(C,P),a.attachShader(C,U),t.index0AttributeName!==void 0?a.bindAttribLocation(C,0,t.index0AttributeName):t.morphTargets===!0&&a.bindAttribLocation(C,0,"position"),a.linkProgram(C);function V(q){if(n.debug.checkShaderErrors){const J=a.getProgramInfoLog(C)||"",re=a.getShaderInfoLog(P)||"",de=a.getShaderInfoLog(U)||"",ve=J.trim(),G=re.trim(),K=de.trim();let $=!0,pe=!0;if(a.getProgramParameter(C,a.LINK_STATUS)===!1)if($=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,C,P,U);else{const X=ER(a,P,"vertex"),fe=ER(a,U,"fragment");hn("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(C,a.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+ve+`
`+X+`
`+fe)}else ve!==""?At("WebGLProgram: Program Info Log:",ve):(G===""||K==="")&&(pe=!1);pe&&(q.diagnostics={runnable:$,programLog:ve,vertexShader:{log:G,prefix:E},fragmentShader:{log:K,prefix:w}})}a.deleteShader(P),a.deleteShader(U),H=new gb(a,C),I=LZ(a,C)}let H;this.getUniforms=function(){return H===void 0&&V(this),H};let I;this.getAttributes=function(){return I===void 0&&V(this),I};let L=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=a.getProgramParameter(C,wZ)),L},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(C),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=MZ++,this.cacheKey=e,this.usedTimes=1,this.program=C,this.vertexShader=P,this.fragmentShader=U,this}let jZ=0;class XZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,a=this._getShaderStage(t),r=this._getShaderStage(i),l=this._getShaderCacheForMaterial(e);return l.has(a)===!1&&(l.add(a),a.usedTimes++),l.has(r)===!1&&(l.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new WZ(e),t.set(e,i)),i}}class WZ{constructor(e){this.id=jZ++,this.code=e,this.usedTimes=0}}function qZ(n,e,t,i,a,r,l){const u=new $p,h=new XZ,p=new Set,m=[],v=a.logarithmicDepthBuffer,x=a.vertexTextures;let b=a.precision;const M={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function C(I){return p.add(I),I===0?"uv":`uv${I}`}function E(I,L,q,J,re){const de=J.fog,ve=re.geometry,G=I.isMeshStandardMaterial?J.environment:null,K=(I.isMeshStandardMaterial?t:e).get(I.envMap||G),$=K&&K.mapping===gm?K.image.height:null,pe=M[I.type];I.precision!==null&&(b=a.getMaxPrecision(I.precision),b!==I.precision&&At("WebGLProgram.getParameters:",I.precision,"not supported, using",b,"instead."));const X=ve.morphAttributes.position||ve.morphAttributes.normal||ve.morphAttributes.color,fe=X!==void 0?X.length:0;let xe=0;ve.morphAttributes.position!==void 0&&(xe=1),ve.morphAttributes.normal!==void 0&&(xe=2),ve.morphAttributes.color!==void 0&&(xe=3);let Ce,Be,ft,ge;if(pe){const vn=Xo[pe];Ce=vn.vertexShader,Be=vn.fragmentShader}else Ce=I.vertexShader,Be=I.fragmentShader,h.update(I),ft=h.getVertexShaderID(I),ge=h.getFragmentShaderID(I);const ze=n.getRenderTarget(),Ke=n.state.buffers.depth.getReversed(),St=re.isInstancedMesh===!0,Rt=re.isBatchedMesh===!0,Gt=!!I.map,Qt=!!I.matcap,kt=!!K,Je=!!I.aoMap,ee=!!I.lightMap,nt=!!I.bumpMap,$e=!!I.normalMap,mt=!!I.displacementMap,st=!!I.emissiveMap,bt=!!I.metalnessMap,pt=!!I.roughnessMap,wt=I.anisotropy>0,Q=I.clearcoat>0,j=I.dispersion>0,_e=I.iridescence>0,Ve=I.sheen>0,ke=I.transmission>0,Oe=wt&&!!I.anisotropyMap,xt=Q&&!!I.clearcoatMap,yt=Q&&!!I.clearcoatNormalMap,Vt=Q&&!!I.clearcoatRoughnessMap,Nt=_e&&!!I.iridescenceMap,je=_e&&!!I.iridescenceThicknessMap,et=Ve&&!!I.sheenColorMap,Ot=Ve&&!!I.sheenRoughnessMap,oe=!!I.specularMap,we=!!I.specularColorMap,Ze=!!I.specularIntensityMap,ae=ke&&!!I.transmissionMap,Ee=ke&&!!I.thicknessMap,rt=!!I.gradientMap,ct=!!I.alphaMap,lt=I.alphaTest>0,Ye=!!I.alphaHash,_t=!!I.extensions;let Pt=kl;I.toneMapped&&(ze===null||ze.isXRRenderTarget===!0)&&(Pt=n.toneMapping);const bn={shaderID:pe,shaderType:I.type,shaderName:I.name,vertexShader:Ce,fragmentShader:Be,defines:I.defines,customVertexShaderID:ft,customFragmentShaderID:ge,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:b,batching:Rt,batchingColor:Rt&&re._colorsTexture!==null,instancing:St,instancingColor:St&&re.instanceColor!==null,instancingMorph:St&&re.morphTexture!==null,supportsVertexTextures:x,outputColorSpace:ze===null?n.outputColorSpace:ze.isXRRenderTarget===!0?ze.texture.colorSpace:Ko,alphaToCoverage:!!I.alphaToCoverage,map:Gt,matcap:Qt,envMap:kt,envMapMode:kt&&K.mapping,envMapCubeUVHeight:$,aoMap:Je,lightMap:ee,bumpMap:nt,normalMap:$e,displacementMap:x&&mt,emissiveMap:st,normalMapObjectSpace:$e&&I.normalMapType===aO,normalMapTangentSpace:$e&&I.normalMapType===cf,metalnessMap:bt,roughnessMap:pt,anisotropy:wt,anisotropyMap:Oe,clearcoat:Q,clearcoatMap:xt,clearcoatNormalMap:yt,clearcoatRoughnessMap:Vt,dispersion:j,iridescence:_e,iridescenceMap:Nt,iridescenceThicknessMap:je,sheen:Ve,sheenColorMap:et,sheenRoughnessMap:Ot,specularMap:oe,specularColorMap:we,specularIntensityMap:Ze,transmission:ke,transmissionMap:ae,thicknessMap:Ee,gradientMap:rt,opaque:I.transparent===!1&&I.blending===Bh&&I.alphaToCoverage===!1,alphaMap:ct,alphaTest:lt,alphaHash:Ye,combine:I.combine,mapUv:Gt&&C(I.map.channel),aoMapUv:Je&&C(I.aoMap.channel),lightMapUv:ee&&C(I.lightMap.channel),bumpMapUv:nt&&C(I.bumpMap.channel),normalMapUv:$e&&C(I.normalMap.channel),displacementMapUv:mt&&C(I.displacementMap.channel),emissiveMapUv:st&&C(I.emissiveMap.channel),metalnessMapUv:bt&&C(I.metalnessMap.channel),roughnessMapUv:pt&&C(I.roughnessMap.channel),anisotropyMapUv:Oe&&C(I.anisotropyMap.channel),clearcoatMapUv:xt&&C(I.clearcoatMap.channel),clearcoatNormalMapUv:yt&&C(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Vt&&C(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Nt&&C(I.iridescenceMap.channel),iridescenceThicknessMapUv:je&&C(I.iridescenceThicknessMap.channel),sheenColorMapUv:et&&C(I.sheenColorMap.channel),sheenRoughnessMapUv:Ot&&C(I.sheenRoughnessMap.channel),specularMapUv:oe&&C(I.specularMap.channel),specularColorMapUv:we&&C(I.specularColorMap.channel),specularIntensityMapUv:Ze&&C(I.specularIntensityMap.channel),transmissionMapUv:ae&&C(I.transmissionMap.channel),thicknessMapUv:Ee&&C(I.thicknessMap.channel),alphaMapUv:ct&&C(I.alphaMap.channel),vertexTangents:!!ve.attributes.tangent&&($e||wt),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ve.attributes.color&&ve.attributes.color.itemSize===4,pointsUvs:re.isPoints===!0&&!!ve.attributes.uv&&(Gt||ct),fog:!!de,useFog:I.fog===!0,fogExp2:!!de&&de.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reversedDepthBuffer:Ke,skinning:re.isSkinnedMesh===!0,morphTargets:ve.morphAttributes.position!==void 0,morphNormals:ve.morphAttributes.normal!==void 0,morphColors:ve.morphAttributes.color!==void 0,morphTargetsCount:fe,morphTextureStride:xe,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&q.length>0,shadowMapType:n.shadowMap.type,toneMapping:Pt,decodeVideoTexture:Gt&&I.map.isVideoTexture===!0&&kn.getTransfer(I.map.colorSpace)===ui,decodeVideoTextureEmissive:st&&I.emissiveMap.isVideoTexture===!0&&kn.getTransfer(I.emissiveMap.colorSpace)===ui,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Wo,flipSided:I.side===Xs,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:_t&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&I.extensions.multiDraw===!0||Rt)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return bn.vertexUv1s=p.has(1),bn.vertexUv2s=p.has(2),bn.vertexUv3s=p.has(3),p.clear(),bn}function w(I){const L=[];if(I.shaderID?L.push(I.shaderID):(L.push(I.customVertexShaderID),L.push(I.customFragmentShaderID)),I.defines!==void 0)for(const q in I.defines)L.push(q),L.push(I.defines[q]);return I.isRawShaderMaterial===!1&&(R(L,I),D(L,I),L.push(n.outputColorSpace)),L.push(I.customProgramCacheKey),L.join()}function R(I,L){I.push(L.precision),I.push(L.outputColorSpace),I.push(L.envMapMode),I.push(L.envMapCubeUVHeight),I.push(L.mapUv),I.push(L.alphaMapUv),I.push(L.lightMapUv),I.push(L.aoMapUv),I.push(L.bumpMapUv),I.push(L.normalMapUv),I.push(L.displacementMapUv),I.push(L.emissiveMapUv),I.push(L.metalnessMapUv),I.push(L.roughnessMapUv),I.push(L.anisotropyMapUv),I.push(L.clearcoatMapUv),I.push(L.clearcoatNormalMapUv),I.push(L.clearcoatRoughnessMapUv),I.push(L.iridescenceMapUv),I.push(L.iridescenceThicknessMapUv),I.push(L.sheenColorMapUv),I.push(L.sheenRoughnessMapUv),I.push(L.specularMapUv),I.push(L.specularColorMapUv),I.push(L.specularIntensityMapUv),I.push(L.transmissionMapUv),I.push(L.thicknessMapUv),I.push(L.combine),I.push(L.fogExp2),I.push(L.sizeAttenuation),I.push(L.morphTargetsCount),I.push(L.morphAttributeCount),I.push(L.numDirLights),I.push(L.numPointLights),I.push(L.numSpotLights),I.push(L.numSpotLightMaps),I.push(L.numHemiLights),I.push(L.numRectAreaLights),I.push(L.numDirLightShadows),I.push(L.numPointLightShadows),I.push(L.numSpotLightShadows),I.push(L.numSpotLightShadowsWithMaps),I.push(L.numLightProbes),I.push(L.shadowMapType),I.push(L.toneMapping),I.push(L.numClippingPlanes),I.push(L.numClipIntersection),I.push(L.depthPacking)}function D(I,L){u.disableAll(),L.supportsVertexTextures&&u.enable(0),L.instancing&&u.enable(1),L.instancingColor&&u.enable(2),L.instancingMorph&&u.enable(3),L.matcap&&u.enable(4),L.envMap&&u.enable(5),L.normalMapObjectSpace&&u.enable(6),L.normalMapTangentSpace&&u.enable(7),L.clearcoat&&u.enable(8),L.iridescence&&u.enable(9),L.alphaTest&&u.enable(10),L.vertexColors&&u.enable(11),L.vertexAlphas&&u.enable(12),L.vertexUv1s&&u.enable(13),L.vertexUv2s&&u.enable(14),L.vertexUv3s&&u.enable(15),L.vertexTangents&&u.enable(16),L.anisotropy&&u.enable(17),L.alphaHash&&u.enable(18),L.batching&&u.enable(19),L.dispersion&&u.enable(20),L.batchingColor&&u.enable(21),L.gradientMap&&u.enable(22),I.push(u.mask),u.disableAll(),L.fog&&u.enable(0),L.useFog&&u.enable(1),L.flatShading&&u.enable(2),L.logarithmicDepthBuffer&&u.enable(3),L.reversedDepthBuffer&&u.enable(4),L.skinning&&u.enable(5),L.morphTargets&&u.enable(6),L.morphNormals&&u.enable(7),L.morphColors&&u.enable(8),L.premultipliedAlpha&&u.enable(9),L.shadowMapEnabled&&u.enable(10),L.doubleSided&&u.enable(11),L.flipSided&&u.enable(12),L.useDepthPacking&&u.enable(13),L.dithering&&u.enable(14),L.transmission&&u.enable(15),L.sheen&&u.enable(16),L.opaque&&u.enable(17),L.pointsUvs&&u.enable(18),L.decodeVideoTexture&&u.enable(19),L.decodeVideoTextureEmissive&&u.enable(20),L.alphaToCoverage&&u.enable(21),I.push(u.mask)}function O(I){const L=M[I.type];let q;if(L){const J=Xo[L];q=vO.clone(J.uniforms)}else q=I.uniforms;return q}function P(I,L){let q;for(let J=0,re=m.length;J<re;J++){const de=m[J];if(de.cacheKey===L){q=de,++q.usedTimes;break}}return q===void 0&&(q=new GZ(n,L,I,r),m.push(q)),q}function U(I){if(--I.usedTimes===0){const L=m.indexOf(I);m[L]=m[m.length-1],m.pop(),I.destroy()}}function V(I){h.remove(I)}function H(){h.dispose()}return{getParameters:E,getProgramCacheKey:w,getUniforms:O,acquireProgram:P,releaseProgram:U,releaseShaderCache:V,programs:m,dispose:H}}function YZ(){let n=new WeakMap;function e(l){return n.has(l)}function t(l){let u=n.get(l);return u===void 0&&(u={},n.set(l,u)),u}function i(l){n.delete(l)}function a(l,u,h){n.get(l)[u]=h}function r(){n=new WeakMap}return{has:e,get:t,remove:i,update:a,dispose:r}}function ZZ(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function DR(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function NR(){const n=[];let e=0;const t=[],i=[],a=[];function r(){e=0,t.length=0,i.length=0,a.length=0}function l(v,x,b,M,C,E){let w=n[e];return w===void 0?(w={id:v.id,object:v,geometry:x,material:b,groupOrder:M,renderOrder:v.renderOrder,z:C,group:E},n[e]=w):(w.id=v.id,w.object=v,w.geometry=x,w.material=b,w.groupOrder=M,w.renderOrder=v.renderOrder,w.z=C,w.group=E),e++,w}function u(v,x,b,M,C,E){const w=l(v,x,b,M,C,E);b.transmission>0?i.push(w):b.transparent===!0?a.push(w):t.push(w)}function h(v,x,b,M,C,E){const w=l(v,x,b,M,C,E);b.transmission>0?i.unshift(w):b.transparent===!0?a.unshift(w):t.unshift(w)}function p(v,x){t.length>1&&t.sort(v||ZZ),i.length>1&&i.sort(x||DR),a.length>1&&a.sort(x||DR)}function m(){for(let v=e,x=n.length;v<x;v++){const b=n[v];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:i,transparent:a,init:r,push:u,unshift:h,finish:m,sort:p}}function KZ(){let n=new WeakMap;function e(i,a){const r=n.get(i);let l;return r===void 0?(l=new NR,n.set(i,[l])):a>=r.length?(l=new NR,r.push(l)):l=r[a],l}function t(){n=new WeakMap}return{get:e,dispose:t}}function QZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new te,color:new Lt};break;case"SpotLight":t={position:new te,direction:new te,color:new Lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new te,color:new Lt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new te,skyColor:new Lt,groundColor:new Lt};break;case"RectAreaLight":t={color:new Lt,position:new te,halfWidth:new te,halfHeight:new te};break}return n[e.id]=t,t}}}function JZ(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let $Z=0;function eK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function tK(n){const e=new QZ,t=JZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)i.probe.push(new te);const a=new te,r=new cn,l=new cn;function u(p){let m=0,v=0,x=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let b=0,M=0,C=0,E=0,w=0,R=0,D=0,O=0,P=0,U=0,V=0;p.sort(eK);for(let I=0,L=p.length;I<L;I++){const q=p[I],J=q.color,re=q.intensity,de=q.distance,ve=q.shadow&&q.shadow.map?q.shadow.map.texture:null;if(q.isAmbientLight)m+=J.r*re,v+=J.g*re,x+=J.b*re;else if(q.isLightProbe){for(let G=0;G<9;G++)i.probe[G].addScaledVector(q.sh.coefficients[G],re);V++}else if(q.isDirectionalLight){const G=e.get(q);if(G.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const K=q.shadow,$=t.get(q);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.directionalShadow[b]=$,i.directionalShadowMap[b]=ve,i.directionalShadowMatrix[b]=q.shadow.matrix,R++}i.directional[b]=G,b++}else if(q.isSpotLight){const G=e.get(q);G.position.setFromMatrixPosition(q.matrixWorld),G.color.copy(J).multiplyScalar(re),G.distance=de,G.coneCos=Math.cos(q.angle),G.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),G.decay=q.decay,i.spot[C]=G;const K=q.shadow;if(q.map&&(i.spotLightMap[P]=q.map,P++,K.updateMatrices(q),q.castShadow&&U++),i.spotLightMatrix[C]=K.matrix,q.castShadow){const $=t.get(q);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,i.spotShadow[C]=$,i.spotShadowMap[C]=ve,O++}C++}else if(q.isRectAreaLight){const G=e.get(q);G.color.copy(J).multiplyScalar(re),G.halfWidth.set(q.width*.5,0,0),G.halfHeight.set(0,q.height*.5,0),i.rectArea[E]=G,E++}else if(q.isPointLight){const G=e.get(q);if(G.color.copy(q.color).multiplyScalar(q.intensity),G.distance=q.distance,G.decay=q.decay,q.castShadow){const K=q.shadow,$=t.get(q);$.shadowIntensity=K.intensity,$.shadowBias=K.bias,$.shadowNormalBias=K.normalBias,$.shadowRadius=K.radius,$.shadowMapSize=K.mapSize,$.shadowCameraNear=K.camera.near,$.shadowCameraFar=K.camera.far,i.pointShadow[M]=$,i.pointShadowMap[M]=ve,i.pointShadowMatrix[M]=q.shadow.matrix,D++}i.point[M]=G,M++}else if(q.isHemisphereLight){const G=e.get(q);G.skyColor.copy(q.color).multiplyScalar(re),G.groundColor.copy(q.groundColor).multiplyScalar(re),i.hemi[w]=G,w++}}E>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Tt.LTC_FLOAT_1,i.rectAreaLTC2=Tt.LTC_FLOAT_2):(i.rectAreaLTC1=Tt.LTC_HALF_1,i.rectAreaLTC2=Tt.LTC_HALF_2)),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=x;const H=i.hash;(H.directionalLength!==b||H.pointLength!==M||H.spotLength!==C||H.rectAreaLength!==E||H.hemiLength!==w||H.numDirectionalShadows!==R||H.numPointShadows!==D||H.numSpotShadows!==O||H.numSpotMaps!==P||H.numLightProbes!==V)&&(i.directional.length=b,i.spot.length=C,i.rectArea.length=E,i.point.length=M,i.hemi.length=w,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=D,i.pointShadowMap.length=D,i.spotShadow.length=O,i.spotShadowMap.length=O,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=D,i.spotLightMatrix.length=O+P-U,i.spotLightMap.length=P,i.numSpotLightShadowsWithMaps=U,i.numLightProbes=V,H.directionalLength=b,H.pointLength=M,H.spotLength=C,H.rectAreaLength=E,H.hemiLength=w,H.numDirectionalShadows=R,H.numPointShadows=D,H.numSpotShadows=O,H.numSpotMaps=P,H.numLightProbes=V,i.version=$Z++)}function h(p,m){let v=0,x=0,b=0,M=0,C=0;const E=m.matrixWorldInverse;for(let w=0,R=p.length;w<R;w++){const D=p[w];if(D.isDirectionalLight){const O=i.directional[v];O.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),O.direction.sub(a),O.direction.transformDirection(E),v++}else if(D.isSpotLight){const O=i.spot[b];O.position.setFromMatrixPosition(D.matrixWorld),O.position.applyMatrix4(E),O.direction.setFromMatrixPosition(D.matrixWorld),a.setFromMatrixPosition(D.target.matrixWorld),O.direction.sub(a),O.direction.transformDirection(E),b++}else if(D.isRectAreaLight){const O=i.rectArea[M];O.position.setFromMatrixPosition(D.matrixWorld),O.position.applyMatrix4(E),l.identity(),r.copy(D.matrixWorld),r.premultiply(E),l.extractRotation(r),O.halfWidth.set(D.width*.5,0,0),O.halfHeight.set(0,D.height*.5,0),O.halfWidth.applyMatrix4(l),O.halfHeight.applyMatrix4(l),M++}else if(D.isPointLight){const O=i.point[x];O.position.setFromMatrixPosition(D.matrixWorld),O.position.applyMatrix4(E),x++}else if(D.isHemisphereLight){const O=i.hemi[C];O.direction.setFromMatrixPosition(D.matrixWorld),O.direction.transformDirection(E),C++}}}return{setup:u,setupView:h,state:i}}function LR(n){const e=new tK(n),t=[],i=[];function a(m){p.camera=m,t.length=0,i.length=0}function r(m){t.push(m)}function l(m){i.push(m)}function u(){e.setup(t)}function h(m){e.setupView(t,m)}const p={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:a,state:p,setupLights:u,setupLightsView:h,pushLight:r,pushShadow:l}}function nK(n){let e=new WeakMap;function t(a,r=0){const l=e.get(a);let u;return l===void 0?(u=new LR(n),e.set(a,[u])):r>=l.length?(u=new LR(n),l.push(u)):u=l[r],u}function i(){e=new WeakMap}return{get:t,dispose:i}}const iK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,aK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function sK(n,e,t){let i=new vm;const a=new qe,r=new qe,l=new Wn,u=new FE({depthPacking:iO}),h=new HE,p={},m=t.maxTextureSize,v={[Hc]:Xs,[Xs]:Hc,[Wo]:Wo},x=new Ys({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:iK,fragmentShader:aK}),b=x.clone();b.defines.HORIZONTAL_PASS=1;const M=new wn;M.setAttribute("position",new yi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const C=new na(M,x),E=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=J1;let w=this.type;this.render=function(U,V,H){if(E.enabled===!1||E.autoUpdate===!1&&E.needsUpdate===!1||U.length===0)return;const I=n.getRenderTarget(),L=n.getActiveCubeFace(),q=n.getActiveMipmapLevel(),J=n.state;J.setBlending(Zo),J.buffers.depth.getReversed()===!0?J.buffers.color.setClear(0,0,0,0):J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const re=w!==jo&&this.type===jo,de=w===jo&&this.type!==jo;for(let ve=0,G=U.length;ve<G;ve++){const K=U[ve],$=K.shadow;if($===void 0){At("WebGLShadowMap:",K,"has no shadow.");continue}if($.autoUpdate===!1&&$.needsUpdate===!1)continue;a.copy($.mapSize);const pe=$.getFrameExtents();if(a.multiply(pe),r.copy($.mapSize),(a.x>m||a.y>m)&&(a.x>m&&(r.x=Math.floor(m/pe.x),a.x=r.x*pe.x,$.mapSize.x=r.x),a.y>m&&(r.y=Math.floor(m/pe.y),a.y=r.y*pe.y,$.mapSize.y=r.y)),$.map===null||re===!0||de===!0){const fe=this.type!==jo?{minFilter:is,magFilter:is}:{};$.map!==null&&$.map.dispose(),$.map=new ho(a.x,a.y,fe),$.map.texture.name=K.name+".shadowMap",$.camera.updateProjectionMatrix()}n.setRenderTarget($.map),n.clear();const X=$.getViewportCount();for(let fe=0;fe<X;fe++){const xe=$.getViewport(fe);l.set(r.x*xe.x,r.y*xe.y,r.x*xe.z,r.y*xe.w),J.viewport(l),$.updateMatrices(K,fe),i=$.getFrustum(),O(V,H,$.camera,K,this.type)}$.isPointLightShadow!==!0&&this.type===jo&&R($,H),$.needsUpdate=!1}w=this.type,E.needsUpdate=!1,n.setRenderTarget(I,L,q)};function R(U,V){const H=e.update(C);x.defines.VSM_SAMPLES!==U.blurSamples&&(x.defines.VSM_SAMPLES=U.blurSamples,b.defines.VSM_SAMPLES=U.blurSamples,x.needsUpdate=!0,b.needsUpdate=!0),U.mapPass===null&&(U.mapPass=new ho(a.x,a.y)),x.uniforms.shadow_pass.value=U.map.texture,x.uniforms.resolution.value=U.mapSize,x.uniforms.radius.value=U.radius,n.setRenderTarget(U.mapPass),n.clear(),n.renderBufferDirect(V,null,H,x,C,null),b.uniforms.shadow_pass.value=U.mapPass.texture,b.uniforms.resolution.value=U.mapSize,b.uniforms.radius.value=U.radius,n.setRenderTarget(U.map),n.clear(),n.renderBufferDirect(V,null,H,b,C,null)}function D(U,V,H,I){let L=null;const q=H.isPointLight===!0?U.customDistanceMaterial:U.customDepthMaterial;if(q!==void 0)L=q;else if(L=H.isPointLight===!0?h:u,n.localClippingEnabled&&V.clipShadows===!0&&Array.isArray(V.clippingPlanes)&&V.clippingPlanes.length!==0||V.displacementMap&&V.displacementScale!==0||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0||V.alphaToCoverage===!0){const J=L.uuid,re=V.uuid;let de=p[J];de===void 0&&(de={},p[J]=de);let ve=de[re];ve===void 0&&(ve=L.clone(),de[re]=ve,V.addEventListener("dispose",P)),L=ve}if(L.visible=V.visible,L.wireframe=V.wireframe,I===jo?L.side=V.shadowSide!==null?V.shadowSide:V.side:L.side=V.shadowSide!==null?V.shadowSide:v[V.side],L.alphaMap=V.alphaMap,L.alphaTest=V.alphaToCoverage===!0?.5:V.alphaTest,L.map=V.map,L.clipShadows=V.clipShadows,L.clippingPlanes=V.clippingPlanes,L.clipIntersection=V.clipIntersection,L.displacementMap=V.displacementMap,L.displacementScale=V.displacementScale,L.displacementBias=V.displacementBias,L.wireframeLinewidth=V.wireframeLinewidth,L.linewidth=V.linewidth,H.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const J=n.properties.get(L);J.light=H}return L}function O(U,V,H,I,L){if(U.visible===!1)return;if(U.layers.test(V.layers)&&(U.isMesh||U.isLine||U.isPoints)&&(U.castShadow||U.receiveShadow&&L===jo)&&(!U.frustumCulled||i.intersectsObject(U))){U.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,U.matrixWorld);const re=e.update(U),de=U.material;if(Array.isArray(de)){const ve=re.groups;for(let G=0,K=ve.length;G<K;G++){const $=ve[G],pe=de[$.materialIndex];if(pe&&pe.visible){const X=D(U,pe,I,L);U.onBeforeShadow(n,U,V,H,re,X,$),n.renderBufferDirect(H,null,re,X,U,$),U.onAfterShadow(n,U,V,H,re,X,$)}}}else if(de.visible){const ve=D(U,de,I,L);U.onBeforeShadow(n,U,V,H,re,ve,null),n.renderBufferDirect(H,null,re,ve,U,null),U.onAfterShadow(n,U,V,H,re,ve,null)}}const J=U.children;for(let re=0,de=J.length;re<de;re++)O(J[re],V,H,I,L)}function P(U){U.target.removeEventListener("dispose",P);for(const H in p){const I=p[H],L=U.target.uuid;L in I&&(I[L].dispose(),delete I[L])}}}const rK={[kb]:Gb,[jb]:qb,[Xb]:Yb,[Hh]:Wb,[Gb]:kb,[qb]:jb,[Yb]:Xb,[Wb]:Hh};function oK(n,e){function t(){let ae=!1;const Ee=new Wn;let rt=null;const ct=new Wn(0,0,0,0);return{setMask:function(lt){rt!==lt&&!ae&&(n.colorMask(lt,lt,lt,lt),rt=lt)},setLocked:function(lt){ae=lt},setClear:function(lt,Ye,_t,Pt,bn){bn===!0&&(lt*=Pt,Ye*=Pt,_t*=Pt),Ee.set(lt,Ye,_t,Pt),ct.equals(Ee)===!1&&(n.clearColor(lt,Ye,_t,Pt),ct.copy(Ee))},reset:function(){ae=!1,rt=null,ct.set(-1,0,0,0)}}}function i(){let ae=!1,Ee=!1,rt=null,ct=null,lt=null;return{setReversed:function(Ye){if(Ee!==Ye){const _t=e.get("EXT_clip_control");Ye?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT),Ee=Ye;const Pt=lt;lt=null,this.setClear(Pt)}},getReversed:function(){return Ee},setTest:function(Ye){Ye?ze(n.DEPTH_TEST):Ke(n.DEPTH_TEST)},setMask:function(Ye){rt!==Ye&&!ae&&(n.depthMask(Ye),rt=Ye)},setFunc:function(Ye){if(Ee&&(Ye=rK[Ye]),ct!==Ye){switch(Ye){case kb:n.depthFunc(n.NEVER);break;case Gb:n.depthFunc(n.ALWAYS);break;case jb:n.depthFunc(n.LESS);break;case Hh:n.depthFunc(n.LEQUAL);break;case Xb:n.depthFunc(n.EQUAL);break;case Wb:n.depthFunc(n.GEQUAL);break;case qb:n.depthFunc(n.GREATER);break;case Yb:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ct=Ye}},setLocked:function(Ye){ae=Ye},setClear:function(Ye){lt!==Ye&&(Ee&&(Ye=1-Ye),n.clearDepth(Ye),lt=Ye)},reset:function(){ae=!1,rt=null,ct=null,lt=null,Ee=!1}}}function a(){let ae=!1,Ee=null,rt=null,ct=null,lt=null,Ye=null,_t=null,Pt=null,bn=null;return{setTest:function(vn){ae||(vn?ze(n.STENCIL_TEST):Ke(n.STENCIL_TEST))},setMask:function(vn){Ee!==vn&&!ae&&(n.stencilMask(vn),Ee=vn)},setFunc:function(vn,Pi,ni){(rt!==vn||ct!==Pi||lt!==ni)&&(n.stencilFunc(vn,Pi,ni),rt=vn,ct=Pi,lt=ni)},setOp:function(vn,Pi,ni){(Ye!==vn||_t!==Pi||Pt!==ni)&&(n.stencilOp(vn,Pi,ni),Ye=vn,_t=Pi,Pt=ni)},setLocked:function(vn){ae=vn},setClear:function(vn){bn!==vn&&(n.clearStencil(vn),bn=vn)},reset:function(){ae=!1,Ee=null,rt=null,ct=null,lt=null,Ye=null,_t=null,Pt=null,bn=null}}}const r=new t,l=new i,u=new a,h=new WeakMap,p=new WeakMap;let m={},v={},x=new WeakMap,b=[],M=null,C=!1,E=null,w=null,R=null,D=null,O=null,P=null,U=null,V=new Lt(0,0,0),H=0,I=!1,L=null,q=null,J=null,re=null,de=null;const ve=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let G=!1,K=0;const $=n.getParameter(n.VERSION);$.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec($)[1]),G=K>=1):$.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec($)[1]),G=K>=2);let pe=null,X={};const fe=n.getParameter(n.SCISSOR_BOX),xe=n.getParameter(n.VIEWPORT),Ce=new Wn().fromArray(fe),Be=new Wn().fromArray(xe);function ft(ae,Ee,rt,ct){const lt=new Uint8Array(4),Ye=n.createTexture();n.bindTexture(ae,Ye),n.texParameteri(ae,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(ae,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<rt;_t++)ae===n.TEXTURE_3D||ae===n.TEXTURE_2D_ARRAY?n.texImage3D(Ee,0,n.RGBA,1,1,ct,0,n.RGBA,n.UNSIGNED_BYTE,lt):n.texImage2D(Ee+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,lt);return Ye}const ge={};ge[n.TEXTURE_2D]=ft(n.TEXTURE_2D,n.TEXTURE_2D,1),ge[n.TEXTURE_CUBE_MAP]=ft(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[n.TEXTURE_2D_ARRAY]=ft(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),ge[n.TEXTURE_3D]=ft(n.TEXTURE_3D,n.TEXTURE_3D,1,1),r.setClear(0,0,0,1),l.setClear(1),u.setClear(0),ze(n.DEPTH_TEST),l.setFunc(Hh),nt(!1),$e(P2),ze(n.CULL_FACE),Je(Zo);function ze(ae){m[ae]!==!0&&(n.enable(ae),m[ae]=!0)}function Ke(ae){m[ae]!==!1&&(n.disable(ae),m[ae]=!1)}function St(ae,Ee){return v[ae]!==Ee?(n.bindFramebuffer(ae,Ee),v[ae]=Ee,ae===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Ee),ae===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Ee),!0):!1}function Rt(ae,Ee){let rt=b,ct=!1;if(ae){rt=x.get(Ee),rt===void 0&&(rt=[],x.set(Ee,rt));const lt=ae.textures;if(rt.length!==lt.length||rt[0]!==n.COLOR_ATTACHMENT0){for(let Ye=0,_t=lt.length;Ye<_t;Ye++)rt[Ye]=n.COLOR_ATTACHMENT0+Ye;rt.length=lt.length,ct=!0}}else rt[0]!==n.BACK&&(rt[0]=n.BACK,ct=!0);ct&&n.drawBuffers(rt)}function Gt(ae){return M!==ae?(n.useProgram(ae),M=ae,!0):!1}const Qt={[Yu]:n.FUNC_ADD,[AL]:n.FUNC_SUBTRACT,[CL]:n.FUNC_REVERSE_SUBTRACT};Qt[RL]=n.MIN,Qt[DL]=n.MAX;const kt={[NL]:n.ZERO,[LL]:n.ONE,[OL]:n.SRC_COLOR,[Fb]:n.SRC_ALPHA,[VL]:n.SRC_ALPHA_SATURATE,[BL]:n.DST_COLOR,[IL]:n.DST_ALPHA,[UL]:n.ONE_MINUS_SRC_COLOR,[Hb]:n.ONE_MINUS_SRC_ALPHA,[zL]:n.ONE_MINUS_DST_COLOR,[PL]:n.ONE_MINUS_DST_ALPHA,[FL]:n.CONSTANT_COLOR,[HL]:n.ONE_MINUS_CONSTANT_COLOR,[kL]:n.CONSTANT_ALPHA,[GL]:n.ONE_MINUS_CONSTANT_ALPHA};function Je(ae,Ee,rt,ct,lt,Ye,_t,Pt,bn,vn){if(ae===Zo){C===!0&&(Ke(n.BLEND),C=!1);return}if(C===!1&&(ze(n.BLEND),C=!0),ae!==TL){if(ae!==E||vn!==I){if((w!==Yu||O!==Yu)&&(n.blendEquation(n.FUNC_ADD),w=Yu,O=Yu),vn)switch(ae){case Bh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case B2:n.blendFunc(n.ONE,n.ONE);break;case z2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case V2:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:hn("WebGLState: Invalid blending: ",ae);break}else switch(ae){case Bh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case B2:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case z2:hn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case V2:hn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:hn("WebGLState: Invalid blending: ",ae);break}R=null,D=null,P=null,U=null,V.set(0,0,0),H=0,E=ae,I=vn}return}lt=lt||Ee,Ye=Ye||rt,_t=_t||ct,(Ee!==w||lt!==O)&&(n.blendEquationSeparate(Qt[Ee],Qt[lt]),w=Ee,O=lt),(rt!==R||ct!==D||Ye!==P||_t!==U)&&(n.blendFuncSeparate(kt[rt],kt[ct],kt[Ye],kt[_t]),R=rt,D=ct,P=Ye,U=_t),(Pt.equals(V)===!1||bn!==H)&&(n.blendColor(Pt.r,Pt.g,Pt.b,bn),V.copy(Pt),H=bn),E=ae,I=!1}function ee(ae,Ee){ae.side===Wo?Ke(n.CULL_FACE):ze(n.CULL_FACE);let rt=ae.side===Xs;Ee&&(rt=!rt),nt(rt),ae.blending===Bh&&ae.transparent===!1?Je(Zo):Je(ae.blending,ae.blendEquation,ae.blendSrc,ae.blendDst,ae.blendEquationAlpha,ae.blendSrcAlpha,ae.blendDstAlpha,ae.blendColor,ae.blendAlpha,ae.premultipliedAlpha),l.setFunc(ae.depthFunc),l.setTest(ae.depthTest),l.setMask(ae.depthWrite),r.setMask(ae.colorWrite);const ct=ae.stencilWrite;u.setTest(ct),ct&&(u.setMask(ae.stencilWriteMask),u.setFunc(ae.stencilFunc,ae.stencilRef,ae.stencilFuncMask),u.setOp(ae.stencilFail,ae.stencilZFail,ae.stencilZPass)),st(ae.polygonOffset,ae.polygonOffsetFactor,ae.polygonOffsetUnits),ae.alphaToCoverage===!0?ze(n.SAMPLE_ALPHA_TO_COVERAGE):Ke(n.SAMPLE_ALPHA_TO_COVERAGE)}function nt(ae){L!==ae&&(ae?n.frontFace(n.CW):n.frontFace(n.CCW),L=ae)}function $e(ae){ae!==wL?(ze(n.CULL_FACE),ae!==q&&(ae===P2?n.cullFace(n.BACK):ae===ML?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ke(n.CULL_FACE),q=ae}function mt(ae){ae!==J&&(G&&n.lineWidth(ae),J=ae)}function st(ae,Ee,rt){ae?(ze(n.POLYGON_OFFSET_FILL),(re!==Ee||de!==rt)&&(n.polygonOffset(Ee,rt),re=Ee,de=rt)):Ke(n.POLYGON_OFFSET_FILL)}function bt(ae){ae?ze(n.SCISSOR_TEST):Ke(n.SCISSOR_TEST)}function pt(ae){ae===void 0&&(ae=n.TEXTURE0+ve-1),pe!==ae&&(n.activeTexture(ae),pe=ae)}function wt(ae,Ee,rt){rt===void 0&&(pe===null?rt=n.TEXTURE0+ve-1:rt=pe);let ct=X[rt];ct===void 0&&(ct={type:void 0,texture:void 0},X[rt]=ct),(ct.type!==ae||ct.texture!==Ee)&&(pe!==rt&&(n.activeTexture(rt),pe=rt),n.bindTexture(ae,Ee||ge[ae]),ct.type=ae,ct.texture=Ee)}function Q(){const ae=X[pe];ae!==void 0&&ae.type!==void 0&&(n.bindTexture(ae.type,null),ae.type=void 0,ae.texture=void 0)}function j(){try{n.compressedTexImage2D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function _e(){try{n.compressedTexImage3D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function Ve(){try{n.texSubImage2D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function ke(){try{n.texSubImage3D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function Oe(){try{n.compressedTexSubImage2D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function xt(){try{n.compressedTexSubImage3D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function yt(){try{n.texStorage2D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function Vt(){try{n.texStorage3D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function Nt(){try{n.texImage2D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function je(){try{n.texImage3D(...arguments)}catch(ae){ae("WebGLState:",ae)}}function et(ae){Ce.equals(ae)===!1&&(n.scissor(ae.x,ae.y,ae.z,ae.w),Ce.copy(ae))}function Ot(ae){Be.equals(ae)===!1&&(n.viewport(ae.x,ae.y,ae.z,ae.w),Be.copy(ae))}function oe(ae,Ee){let rt=p.get(Ee);rt===void 0&&(rt=new WeakMap,p.set(Ee,rt));let ct=rt.get(ae);ct===void 0&&(ct=n.getUniformBlockIndex(Ee,ae.name),rt.set(ae,ct))}function we(ae,Ee){const ct=p.get(Ee).get(ae);h.get(Ee)!==ct&&(n.uniformBlockBinding(Ee,ct,ae.__bindingPointIndex),h.set(Ee,ct))}function Ze(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),l.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),m={},pe=null,X={},v={},x=new WeakMap,b=[],M=null,C=!1,E=null,w=null,R=null,D=null,O=null,P=null,U=null,V=new Lt(0,0,0),H=0,I=!1,L=null,q=null,J=null,re=null,de=null,Ce.set(0,0,n.canvas.width,n.canvas.height),Be.set(0,0,n.canvas.width,n.canvas.height),r.reset(),l.reset(),u.reset()}return{buffers:{color:r,depth:l,stencil:u},enable:ze,disable:Ke,bindFramebuffer:St,drawBuffers:Rt,useProgram:Gt,setBlending:Je,setMaterial:ee,setFlipSided:nt,setCullFace:$e,setLineWidth:mt,setPolygonOffset:st,setScissorTest:bt,activeTexture:pt,bindTexture:wt,unbindTexture:Q,compressedTexImage2D:j,compressedTexImage3D:_e,texImage2D:Nt,texImage3D:je,updateUBOMapping:oe,uniformBlockBinding:we,texStorage2D:yt,texStorage3D:Vt,texSubImage2D:Ve,texSubImage3D:ke,compressedTexSubImage2D:Oe,compressedTexSubImage3D:xt,scissor:et,viewport:Ot,reset:Ze}}function lK(n,e,t,i,a,r,l){const u=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new qe,m=new WeakMap;let v;const x=new WeakMap;let b=!1;try{b=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function M(Q,j){return b?new OffscreenCanvas(Q,j):Vg("canvas")}function C(Q,j,_e){let Ve=1;const ke=wt(Q);if((ke.width>_e||ke.height>_e)&&(Ve=_e/Math.max(ke.width,ke.height)),Ve<1)if(typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Q instanceof ImageBitmap||typeof VideoFrame<"u"&&Q instanceof VideoFrame){const Oe=Math.floor(Ve*ke.width),xt=Math.floor(Ve*ke.height);v===void 0&&(v=M(Oe,xt));const yt=j?M(Oe,xt):v;return yt.width=Oe,yt.height=xt,yt.getContext("2d").drawImage(Q,0,0,Oe,xt),At("WebGLRenderer: Texture has been resized from ("+ke.width+"x"+ke.height+") to ("+Oe+"x"+xt+")."),yt}else return"data"in Q&&At("WebGLRenderer: Image in DataTexture is too big ("+ke.width+"x"+ke.height+")."),Q;return Q}function E(Q){return Q.generateMipmaps}function w(Q){n.generateMipmap(Q)}function R(Q){return Q.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:Q.isWebGL3DRenderTarget?n.TEXTURE_3D:Q.isWebGLArrayRenderTarget||Q.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function D(Q,j,_e,Ve,ke=!1){if(Q!==null){if(n[Q]!==void 0)return n[Q];At("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Q+"'")}let Oe=j;if(j===n.RED&&(_e===n.FLOAT&&(Oe=n.R32F),_e===n.HALF_FLOAT&&(Oe=n.R16F),_e===n.UNSIGNED_BYTE&&(Oe=n.R8)),j===n.RED_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Oe=n.R8UI),_e===n.UNSIGNED_SHORT&&(Oe=n.R16UI),_e===n.UNSIGNED_INT&&(Oe=n.R32UI),_e===n.BYTE&&(Oe=n.R8I),_e===n.SHORT&&(Oe=n.R16I),_e===n.INT&&(Oe=n.R32I)),j===n.RG&&(_e===n.FLOAT&&(Oe=n.RG32F),_e===n.HALF_FLOAT&&(Oe=n.RG16F),_e===n.UNSIGNED_BYTE&&(Oe=n.RG8)),j===n.RG_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Oe=n.RG8UI),_e===n.UNSIGNED_SHORT&&(Oe=n.RG16UI),_e===n.UNSIGNED_INT&&(Oe=n.RG32UI),_e===n.BYTE&&(Oe=n.RG8I),_e===n.SHORT&&(Oe=n.RG16I),_e===n.INT&&(Oe=n.RG32I)),j===n.RGB_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Oe=n.RGB8UI),_e===n.UNSIGNED_SHORT&&(Oe=n.RGB16UI),_e===n.UNSIGNED_INT&&(Oe=n.RGB32UI),_e===n.BYTE&&(Oe=n.RGB8I),_e===n.SHORT&&(Oe=n.RGB16I),_e===n.INT&&(Oe=n.RGB32I)),j===n.RGBA_INTEGER&&(_e===n.UNSIGNED_BYTE&&(Oe=n.RGBA8UI),_e===n.UNSIGNED_SHORT&&(Oe=n.RGBA16UI),_e===n.UNSIGNED_INT&&(Oe=n.RGBA32UI),_e===n.BYTE&&(Oe=n.RGBA8I),_e===n.SHORT&&(Oe=n.RGBA16I),_e===n.INT&&(Oe=n.RGBA32I)),j===n.RGB&&(_e===n.UNSIGNED_INT_5_9_9_9_REV&&(Oe=n.RGB9_E5),_e===n.UNSIGNED_INT_10F_11F_11F_REV&&(Oe=n.R11F_G11F_B10F)),j===n.RGBA){const xt=ke?Bg:kn.getTransfer(Ve);_e===n.FLOAT&&(Oe=n.RGBA32F),_e===n.HALF_FLOAT&&(Oe=n.RGBA16F),_e===n.UNSIGNED_BYTE&&(Oe=xt===ui?n.SRGB8_ALPHA8:n.RGBA8),_e===n.UNSIGNED_SHORT_4_4_4_4&&(Oe=n.RGBA4),_e===n.UNSIGNED_SHORT_5_5_5_1&&(Oe=n.RGB5_A1)}return(Oe===n.R16F||Oe===n.R32F||Oe===n.RG16F||Oe===n.RG32F||Oe===n.RGBA16F||Oe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Oe}function O(Q,j){let _e;return Q?j===null||j===Wl||j===qp?_e=n.DEPTH24_STENCIL8:j===Wi?_e=n.DEPTH32F_STENCIL8:j===Wp&&(_e=n.DEPTH24_STENCIL8,At("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):j===null||j===Wl||j===qp?_e=n.DEPTH_COMPONENT24:j===Wi?_e=n.DEPTH_COMPONENT32F:j===Wp&&(_e=n.DEPTH_COMPONENT16),_e}function P(Q,j){return E(Q)===!0||Q.isFramebufferTexture&&Q.minFilter!==is&&Q.minFilter!==ti?Math.log2(Math.max(j.width,j.height))+1:Q.mipmaps!==void 0&&Q.mipmaps.length>0?Q.mipmaps.length:Q.isCompressedTexture&&Array.isArray(Q.image)?j.mipmaps.length:1}function U(Q){const j=Q.target;j.removeEventListener("dispose",U),H(j),j.isVideoTexture&&m.delete(j)}function V(Q){const j=Q.target;j.removeEventListener("dispose",V),L(j)}function H(Q){const j=i.get(Q);if(j.__webglInit===void 0)return;const _e=Q.source,Ve=x.get(_e);if(Ve){const ke=Ve[j.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&I(Q),Object.keys(Ve).length===0&&x.delete(_e)}i.remove(Q)}function I(Q){const j=i.get(Q);n.deleteTexture(j.__webglTexture);const _e=Q.source,Ve=x.get(_e);delete Ve[j.__cacheKey],l.memory.textures--}function L(Q){const j=i.get(Q);if(Q.depthTexture&&(Q.depthTexture.dispose(),i.remove(Q.depthTexture)),Q.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(j.__webglFramebuffer[Ve]))for(let ke=0;ke<j.__webglFramebuffer[Ve].length;ke++)n.deleteFramebuffer(j.__webglFramebuffer[Ve][ke]);else n.deleteFramebuffer(j.__webglFramebuffer[Ve]);j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer[Ve])}else{if(Array.isArray(j.__webglFramebuffer))for(let Ve=0;Ve<j.__webglFramebuffer.length;Ve++)n.deleteFramebuffer(j.__webglFramebuffer[Ve]);else n.deleteFramebuffer(j.__webglFramebuffer);if(j.__webglDepthbuffer&&n.deleteRenderbuffer(j.__webglDepthbuffer),j.__webglMultisampledFramebuffer&&n.deleteFramebuffer(j.__webglMultisampledFramebuffer),j.__webglColorRenderbuffer)for(let Ve=0;Ve<j.__webglColorRenderbuffer.length;Ve++)j.__webglColorRenderbuffer[Ve]&&n.deleteRenderbuffer(j.__webglColorRenderbuffer[Ve]);j.__webglDepthRenderbuffer&&n.deleteRenderbuffer(j.__webglDepthRenderbuffer)}const _e=Q.textures;for(let Ve=0,ke=_e.length;Ve<ke;Ve++){const Oe=i.get(_e[Ve]);Oe.__webglTexture&&(n.deleteTexture(Oe.__webglTexture),l.memory.textures--),i.remove(_e[Ve])}i.remove(Q)}let q=0;function J(){q=0}function re(){const Q=q;return Q>=a.maxTextures&&At("WebGLTextures: Trying to use "+Q+" texture units while this GPU supports only "+a.maxTextures),q+=1,Q}function de(Q){const j=[];return j.push(Q.wrapS),j.push(Q.wrapT),j.push(Q.wrapR||0),j.push(Q.magFilter),j.push(Q.minFilter),j.push(Q.anisotropy),j.push(Q.internalFormat),j.push(Q.format),j.push(Q.type),j.push(Q.generateMipmaps),j.push(Q.premultiplyAlpha),j.push(Q.flipY),j.push(Q.unpackAlignment),j.push(Q.colorSpace),j.join()}function ve(Q,j){const _e=i.get(Q);if(Q.isVideoTexture&&bt(Q),Q.isRenderTargetTexture===!1&&Q.isExternalTexture!==!0&&Q.version>0&&_e.__version!==Q.version){const Ve=Q.image;if(Ve===null)At("WebGLRenderer: Texture marked for update but no image data found.");else if(Ve.complete===!1)At("WebGLRenderer: Texture marked for update but image is incomplete");else{ge(_e,Q,j);return}}else Q.isExternalTexture&&(_e.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,_e.__webglTexture,n.TEXTURE0+j)}function G(Q,j){const _e=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&_e.__version!==Q.version){ge(_e,Q,j);return}else Q.isExternalTexture&&(_e.__webglTexture=Q.sourceTexture?Q.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,_e.__webglTexture,n.TEXTURE0+j)}function K(Q,j){const _e=i.get(Q);if(Q.isRenderTargetTexture===!1&&Q.version>0&&_e.__version!==Q.version){ge(_e,Q,j);return}t.bindTexture(n.TEXTURE_3D,_e.__webglTexture,n.TEXTURE0+j)}function $(Q,j){const _e=i.get(Q);if(Q.version>0&&_e.__version!==Q.version){ze(_e,Q,j);return}t.bindTexture(n.TEXTURE_CUBE_MAP,_e.__webglTexture,n.TEXTURE0+j)}const pe={[Og]:n.REPEAT,[ta]:n.CLAMP_TO_EDGE,[Ug]:n.MIRRORED_REPEAT},X={[is]:n.NEAREST,[gE]:n.NEAREST_MIPMAP_NEAREST,[Rp]:n.NEAREST_MIPMAP_LINEAR,[ti]:n.LINEAR,[fg]:n.LINEAR_MIPMAP_NEAREST,[Bl]:n.LINEAR_MIPMAP_LINEAR},fe={[sO]:n.NEVER,[fO]:n.ALWAYS,[rO]:n.LESS,[SE]:n.LEQUAL,[oO]:n.EQUAL,[uO]:n.GEQUAL,[lO]:n.GREATER,[cO]:n.NOTEQUAL};function xe(Q,j){if(j.type===Wi&&e.has("OES_texture_float_linear")===!1&&(j.magFilter===ti||j.magFilter===fg||j.magFilter===Rp||j.magFilter===Bl||j.minFilter===ti||j.minFilter===fg||j.minFilter===Rp||j.minFilter===Bl)&&At("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(Q,n.TEXTURE_WRAP_S,pe[j.wrapS]),n.texParameteri(Q,n.TEXTURE_WRAP_T,pe[j.wrapT]),(Q===n.TEXTURE_3D||Q===n.TEXTURE_2D_ARRAY)&&n.texParameteri(Q,n.TEXTURE_WRAP_R,pe[j.wrapR]),n.texParameteri(Q,n.TEXTURE_MAG_FILTER,X[j.magFilter]),n.texParameteri(Q,n.TEXTURE_MIN_FILTER,X[j.minFilter]),j.compareFunction&&(n.texParameteri(Q,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(Q,n.TEXTURE_COMPARE_FUNC,fe[j.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(j.magFilter===is||j.minFilter!==Rp&&j.minFilter!==Bl||j.type===Wi&&e.has("OES_texture_float_linear")===!1)return;if(j.anisotropy>1||i.get(j).__currentAnisotropy){const _e=e.get("EXT_texture_filter_anisotropic");n.texParameterf(Q,_e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(j.anisotropy,a.getMaxAnisotropy())),i.get(j).__currentAnisotropy=j.anisotropy}}}function Ce(Q,j){let _e=!1;Q.__webglInit===void 0&&(Q.__webglInit=!0,j.addEventListener("dispose",U));const Ve=j.source;let ke=x.get(Ve);ke===void 0&&(ke={},x.set(Ve,ke));const Oe=de(j);if(Oe!==Q.__cacheKey){ke[Oe]===void 0&&(ke[Oe]={texture:n.createTexture(),usedTimes:0},l.memory.textures++,_e=!0),ke[Oe].usedTimes++;const xt=ke[Q.__cacheKey];xt!==void 0&&(ke[Q.__cacheKey].usedTimes--,xt.usedTimes===0&&I(j)),Q.__cacheKey=Oe,Q.__webglTexture=ke[Oe].texture}return _e}function Be(Q,j,_e){return Math.floor(Math.floor(Q/_e)/j)}function ft(Q,j,_e,Ve){const Oe=Q.updateRanges;if(Oe.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,j.width,j.height,_e,Ve,j.data);else{Oe.sort((je,et)=>je.start-et.start);let xt=0;for(let je=1;je<Oe.length;je++){const et=Oe[xt],Ot=Oe[je],oe=et.start+et.count,we=Be(Ot.start,j.width,4),Ze=Be(et.start,j.width,4);Ot.start<=oe+1&&we===Ze&&Be(Ot.start+Ot.count-1,j.width,4)===we?et.count=Math.max(et.count,Ot.start+Ot.count-et.start):(++xt,Oe[xt]=Ot)}Oe.length=xt+1;const yt=n.getParameter(n.UNPACK_ROW_LENGTH),Vt=n.getParameter(n.UNPACK_SKIP_PIXELS),Nt=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,j.width);for(let je=0,et=Oe.length;je<et;je++){const Ot=Oe[je],oe=Math.floor(Ot.start/4),we=Math.ceil(Ot.count/4),Ze=oe%j.width,ae=Math.floor(oe/j.width),Ee=we,rt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Ze),n.pixelStorei(n.UNPACK_SKIP_ROWS,ae),t.texSubImage2D(n.TEXTURE_2D,0,Ze,ae,Ee,rt,_e,Ve,j.data)}Q.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,yt),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Vt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Nt)}}function ge(Q,j,_e){let Ve=n.TEXTURE_2D;(j.isDataArrayTexture||j.isCompressedArrayTexture)&&(Ve=n.TEXTURE_2D_ARRAY),j.isData3DTexture&&(Ve=n.TEXTURE_3D);const ke=Ce(Q,j),Oe=j.source;t.bindTexture(Ve,Q.__webglTexture,n.TEXTURE0+_e);const xt=i.get(Oe);if(Oe.version!==xt.__version||ke===!0){t.activeTexture(n.TEXTURE0+_e);const yt=kn.getPrimaries(kn.workingColorSpace),Vt=j.colorSpace===Lc?null:kn.getPrimaries(j.colorSpace),Nt=j.colorSpace===Lc||yt===Vt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Nt);let je=C(j.image,!1,a.maxTextureSize);je=pt(j,je);const et=r.convert(j.format,j.colorSpace),Ot=r.convert(j.type);let oe=D(j.internalFormat,et,Ot,j.colorSpace,j.isVideoTexture);xe(Ve,j);let we;const Ze=j.mipmaps,ae=j.isVideoTexture!==!0,Ee=xt.__version===void 0||ke===!0,rt=Oe.dataReady,ct=P(j,je);if(j.isDepthTexture)oe=O(j.format===Zp,j.type),Ee&&(ae?t.texStorage2D(n.TEXTURE_2D,1,oe,je.width,je.height):t.texImage2D(n.TEXTURE_2D,0,oe,je.width,je.height,0,et,Ot,null));else if(j.isDataTexture)if(Ze.length>0){ae&&Ee&&t.texStorage2D(n.TEXTURE_2D,ct,oe,Ze[0].width,Ze[0].height);for(let lt=0,Ye=Ze.length;lt<Ye;lt++)we=Ze[lt],ae?rt&&t.texSubImage2D(n.TEXTURE_2D,lt,0,0,we.width,we.height,et,Ot,we.data):t.texImage2D(n.TEXTURE_2D,lt,oe,we.width,we.height,0,et,Ot,we.data);j.generateMipmaps=!1}else ae?(Ee&&t.texStorage2D(n.TEXTURE_2D,ct,oe,je.width,je.height),rt&&ft(j,je,et,Ot)):t.texImage2D(n.TEXTURE_2D,0,oe,je.width,je.height,0,et,Ot,je.data);else if(j.isCompressedTexture)if(j.isCompressedArrayTexture){ae&&Ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,oe,Ze[0].width,Ze[0].height,je.depth);for(let lt=0,Ye=Ze.length;lt<Ye;lt++)if(we=Ze[lt],j.format!==ha)if(et!==null)if(ae){if(rt)if(j.layerUpdates.size>0){const _t=Q2(we.width,we.height,j.format,j.type);for(const Pt of j.layerUpdates){const bn=we.data.subarray(Pt*_t/we.data.BYTES_PER_ELEMENT,(Pt+1)*_t/we.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,lt,0,0,Pt,we.width,we.height,1,et,bn)}j.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,lt,0,0,0,we.width,we.height,je.depth,et,we.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,lt,oe,we.width,we.height,je.depth,0,we.data,0,0);else At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ae?rt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,lt,0,0,0,we.width,we.height,je.depth,et,Ot,we.data):t.texImage3D(n.TEXTURE_2D_ARRAY,lt,oe,we.width,we.height,je.depth,0,et,Ot,we.data)}else{ae&&Ee&&t.texStorage2D(n.TEXTURE_2D,ct,oe,Ze[0].width,Ze[0].height);for(let lt=0,Ye=Ze.length;lt<Ye;lt++)we=Ze[lt],j.format!==ha?et!==null?ae?rt&&t.compressedTexSubImage2D(n.TEXTURE_2D,lt,0,0,we.width,we.height,et,we.data):t.compressedTexImage2D(n.TEXTURE_2D,lt,oe,we.width,we.height,0,we.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ae?rt&&t.texSubImage2D(n.TEXTURE_2D,lt,0,0,we.width,we.height,et,Ot,we.data):t.texImage2D(n.TEXTURE_2D,lt,oe,we.width,we.height,0,et,Ot,we.data)}else if(j.isDataArrayTexture)if(ae){if(Ee&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,oe,je.width,je.height,je.depth),rt)if(j.layerUpdates.size>0){const lt=Q2(je.width,je.height,j.format,j.type);for(const Ye of j.layerUpdates){const _t=je.data.subarray(Ye*lt/je.data.BYTES_PER_ELEMENT,(Ye+1)*lt/je.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ye,je.width,je.height,1,et,Ot,_t)}j.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,je.width,je.height,je.depth,et,Ot,je.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,oe,je.width,je.height,je.depth,0,et,Ot,je.data);else if(j.isData3DTexture)ae?(Ee&&t.texStorage3D(n.TEXTURE_3D,ct,oe,je.width,je.height,je.depth),rt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,je.width,je.height,je.depth,et,Ot,je.data)):t.texImage3D(n.TEXTURE_3D,0,oe,je.width,je.height,je.depth,0,et,Ot,je.data);else if(j.isFramebufferTexture){if(Ee)if(ae)t.texStorage2D(n.TEXTURE_2D,ct,oe,je.width,je.height);else{let lt=je.width,Ye=je.height;for(let _t=0;_t<ct;_t++)t.texImage2D(n.TEXTURE_2D,_t,oe,lt,Ye,0,et,Ot,null),lt>>=1,Ye>>=1}}else if(Ze.length>0){if(ae&&Ee){const lt=wt(Ze[0]);t.texStorage2D(n.TEXTURE_2D,ct,oe,lt.width,lt.height)}for(let lt=0,Ye=Ze.length;lt<Ye;lt++)we=Ze[lt],ae?rt&&t.texSubImage2D(n.TEXTURE_2D,lt,0,0,et,Ot,we):t.texImage2D(n.TEXTURE_2D,lt,oe,et,Ot,we);j.generateMipmaps=!1}else if(ae){if(Ee){const lt=wt(je);t.texStorage2D(n.TEXTURE_2D,ct,oe,lt.width,lt.height)}rt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,et,Ot,je)}else t.texImage2D(n.TEXTURE_2D,0,oe,et,Ot,je);E(j)&&w(Ve),xt.__version=Oe.version,j.onUpdate&&j.onUpdate(j)}Q.__version=j.version}function ze(Q,j,_e){if(j.image.length!==6)return;const Ve=Ce(Q,j),ke=j.source;t.bindTexture(n.TEXTURE_CUBE_MAP,Q.__webglTexture,n.TEXTURE0+_e);const Oe=i.get(ke);if(ke.version!==Oe.__version||Ve===!0){t.activeTexture(n.TEXTURE0+_e);const xt=kn.getPrimaries(kn.workingColorSpace),yt=j.colorSpace===Lc?null:kn.getPrimaries(j.colorSpace),Vt=j.colorSpace===Lc||xt===yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,j.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,j.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Vt);const Nt=j.isCompressedTexture||j.image[0].isCompressedTexture,je=j.image[0]&&j.image[0].isDataTexture,et=[];for(let Ye=0;Ye<6;Ye++)!Nt&&!je?et[Ye]=C(j.image[Ye],!0,a.maxCubemapSize):et[Ye]=je?j.image[Ye].image:j.image[Ye],et[Ye]=pt(j,et[Ye]);const Ot=et[0],oe=r.convert(j.format,j.colorSpace),we=r.convert(j.type),Ze=D(j.internalFormat,oe,we,j.colorSpace),ae=j.isVideoTexture!==!0,Ee=Oe.__version===void 0||Ve===!0,rt=ke.dataReady;let ct=P(j,Ot);xe(n.TEXTURE_CUBE_MAP,j);let lt;if(Nt){ae&&Ee&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,Ze,Ot.width,Ot.height);for(let Ye=0;Ye<6;Ye++){lt=et[Ye].mipmaps;for(let _t=0;_t<lt.length;_t++){const Pt=lt[_t];j.format!==ha?oe!==null?ae?rt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t,0,0,Pt.width,Pt.height,oe,Pt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t,Ze,Pt.width,Pt.height,0,Pt.data):At("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ae?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t,0,0,Pt.width,Pt.height,oe,we,Pt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t,Ze,Pt.width,Pt.height,0,oe,we,Pt.data)}}}else{if(lt=j.mipmaps,ae&&Ee){lt.length>0&&ct++;const Ye=wt(et[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,Ze,Ye.width,Ye.height)}for(let Ye=0;Ye<6;Ye++)if(je){ae?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,et[Ye].width,et[Ye].height,oe,we,et[Ye].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,Ze,et[Ye].width,et[Ye].height,0,oe,we,et[Ye].data);for(let _t=0;_t<lt.length;_t++){const bn=lt[_t].image[Ye].image;ae?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t+1,0,0,bn.width,bn.height,oe,we,bn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t+1,Ze,bn.width,bn.height,0,oe,we,bn.data)}}else{ae?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,0,0,oe,we,et[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,0,Ze,oe,we,et[Ye]);for(let _t=0;_t<lt.length;_t++){const Pt=lt[_t];ae?rt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t+1,0,0,oe,we,Pt.image[Ye]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,_t+1,Ze,oe,we,Pt.image[Ye])}}}E(j)&&w(n.TEXTURE_CUBE_MAP),Oe.__version=ke.version,j.onUpdate&&j.onUpdate(j)}Q.__version=j.version}function Ke(Q,j,_e,Ve,ke,Oe){const xt=r.convert(_e.format,_e.colorSpace),yt=r.convert(_e.type),Vt=D(_e.internalFormat,xt,yt,_e.colorSpace),Nt=i.get(j),je=i.get(_e);if(je.__renderTarget=j,!Nt.__hasExternalTextures){const et=Math.max(1,j.width>>Oe),Ot=Math.max(1,j.height>>Oe);ke===n.TEXTURE_3D||ke===n.TEXTURE_2D_ARRAY?t.texImage3D(ke,Oe,Vt,et,Ot,j.depth,0,xt,yt,null):t.texImage2D(ke,Oe,Vt,et,Ot,0,xt,yt,null)}t.bindFramebuffer(n.FRAMEBUFFER,Q),st(j)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ve,ke,je.__webglTexture,0,mt(j)):(ke===n.TEXTURE_2D||ke>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ke<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ve,ke,je.__webglTexture,Oe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function St(Q,j,_e){if(n.bindRenderbuffer(n.RENDERBUFFER,Q),j.depthBuffer){const Ve=j.depthTexture,ke=Ve&&Ve.isDepthTexture?Ve.type:null,Oe=O(j.stencilBuffer,ke),xt=j.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,yt=mt(j);st(j)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,yt,Oe,j.width,j.height):_e?n.renderbufferStorageMultisample(n.RENDERBUFFER,yt,Oe,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,j.width,j.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,xt,n.RENDERBUFFER,Q)}else{const Ve=j.textures;for(let ke=0;ke<Ve.length;ke++){const Oe=Ve[ke],xt=r.convert(Oe.format,Oe.colorSpace),yt=r.convert(Oe.type),Vt=D(Oe.internalFormat,xt,yt,Oe.colorSpace),Nt=mt(j);_e&&st(j)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Nt,Vt,j.width,j.height):st(j)?u.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Nt,Vt,j.width,j.height):n.renderbufferStorage(n.RENDERBUFFER,Vt,j.width,j.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Rt(Q,j){if(j&&j.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,Q),!(j.depthTexture&&j.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ve=i.get(j.depthTexture);Ve.__renderTarget=j,(!Ve.__webglTexture||j.depthTexture.image.width!==j.width||j.depthTexture.image.height!==j.height)&&(j.depthTexture.image.width=j.width,j.depthTexture.image.height=j.height,j.depthTexture.needsUpdate=!0),ve(j.depthTexture,0);const ke=Ve.__webglTexture,Oe=mt(j);if(j.depthTexture.format===Yp)st(j)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ke,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ke,0);else if(j.depthTexture.format===Zp)st(j)?u.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ke,0,Oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ke,0);else throw new Error("Unknown depthTexture format")}function Gt(Q){const j=i.get(Q),_e=Q.isWebGLCubeRenderTarget===!0;if(j.__boundDepthTexture!==Q.depthTexture){const Ve=Q.depthTexture;if(j.__depthDisposeCallback&&j.__depthDisposeCallback(),Ve){const ke=()=>{delete j.__boundDepthTexture,delete j.__depthDisposeCallback,Ve.removeEventListener("dispose",ke)};Ve.addEventListener("dispose",ke),j.__depthDisposeCallback=ke}j.__boundDepthTexture=Ve}if(Q.depthTexture&&!j.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");const Ve=Q.texture.mipmaps;Ve&&Ve.length>0?Rt(j.__webglFramebuffer[0],Q):Rt(j.__webglFramebuffer,Q)}else if(_e){j.__webglDepthbuffer=[];for(let Ve=0;Ve<6;Ve++)if(t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[Ve]),j.__webglDepthbuffer[Ve]===void 0)j.__webglDepthbuffer[Ve]=n.createRenderbuffer(),St(j.__webglDepthbuffer[Ve],Q,!1);else{const ke=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=j.__webglDepthbuffer[Ve];n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ke,n.RENDERBUFFER,Oe)}}else{const Ve=Q.texture.mipmaps;if(Ve&&Ve.length>0?t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,j.__webglFramebuffer),j.__webglDepthbuffer===void 0)j.__webglDepthbuffer=n.createRenderbuffer(),St(j.__webglDepthbuffer,Q,!1);else{const ke=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Oe=j.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Oe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ke,n.RENDERBUFFER,Oe)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qt(Q,j,_e){const Ve=i.get(Q);j!==void 0&&Ke(Ve.__webglFramebuffer,Q,Q.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),_e!==void 0&&Gt(Q)}function kt(Q){const j=Q.texture,_e=i.get(Q),Ve=i.get(j);Q.addEventListener("dispose",V);const ke=Q.textures,Oe=Q.isWebGLCubeRenderTarget===!0,xt=ke.length>1;if(xt||(Ve.__webglTexture===void 0&&(Ve.__webglTexture=n.createTexture()),Ve.__version=j.version,l.memory.textures++),Oe){_e.__webglFramebuffer=[];for(let yt=0;yt<6;yt++)if(j.mipmaps&&j.mipmaps.length>0){_e.__webglFramebuffer[yt]=[];for(let Vt=0;Vt<j.mipmaps.length;Vt++)_e.__webglFramebuffer[yt][Vt]=n.createFramebuffer()}else _e.__webglFramebuffer[yt]=n.createFramebuffer()}else{if(j.mipmaps&&j.mipmaps.length>0){_e.__webglFramebuffer=[];for(let yt=0;yt<j.mipmaps.length;yt++)_e.__webglFramebuffer[yt]=n.createFramebuffer()}else _e.__webglFramebuffer=n.createFramebuffer();if(xt)for(let yt=0,Vt=ke.length;yt<Vt;yt++){const Nt=i.get(ke[yt]);Nt.__webglTexture===void 0&&(Nt.__webglTexture=n.createTexture(),l.memory.textures++)}if(Q.samples>0&&st(Q)===!1){_e.__webglMultisampledFramebuffer=n.createFramebuffer(),_e.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let yt=0;yt<ke.length;yt++){const Vt=ke[yt];_e.__webglColorRenderbuffer[yt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,_e.__webglColorRenderbuffer[yt]);const Nt=r.convert(Vt.format,Vt.colorSpace),je=r.convert(Vt.type),et=D(Vt.internalFormat,Nt,je,Vt.colorSpace,Q.isXRRenderTarget===!0),Ot=mt(Q);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ot,et,Q.width,Q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,_e.__webglColorRenderbuffer[yt])}n.bindRenderbuffer(n.RENDERBUFFER,null),Q.depthBuffer&&(_e.__webglDepthRenderbuffer=n.createRenderbuffer(),St(_e.__webglDepthRenderbuffer,Q,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Oe){t.bindTexture(n.TEXTURE_CUBE_MAP,Ve.__webglTexture),xe(n.TEXTURE_CUBE_MAP,j);for(let yt=0;yt<6;yt++)if(j.mipmaps&&j.mipmaps.length>0)for(let Vt=0;Vt<j.mipmaps.length;Vt++)Ke(_e.__webglFramebuffer[yt][Vt],Q,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,Vt);else Ke(_e.__webglFramebuffer[yt],Q,j,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+yt,0);E(j)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(xt){for(let yt=0,Vt=ke.length;yt<Vt;yt++){const Nt=ke[yt],je=i.get(Nt);let et=n.TEXTURE_2D;(Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(et=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(et,je.__webglTexture),xe(et,Nt),Ke(_e.__webglFramebuffer,Q,Nt,n.COLOR_ATTACHMENT0+yt,et,0),E(Nt)&&w(et)}t.unbindTexture()}else{let yt=n.TEXTURE_2D;if((Q.isWebGL3DRenderTarget||Q.isWebGLArrayRenderTarget)&&(yt=Q.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(yt,Ve.__webglTexture),xe(yt,j),j.mipmaps&&j.mipmaps.length>0)for(let Vt=0;Vt<j.mipmaps.length;Vt++)Ke(_e.__webglFramebuffer[Vt],Q,j,n.COLOR_ATTACHMENT0,yt,Vt);else Ke(_e.__webglFramebuffer,Q,j,n.COLOR_ATTACHMENT0,yt,0);E(j)&&w(yt),t.unbindTexture()}Q.depthBuffer&&Gt(Q)}function Je(Q){const j=Q.textures;for(let _e=0,Ve=j.length;_e<Ve;_e++){const ke=j[_e];if(E(ke)){const Oe=R(Q),xt=i.get(ke).__webglTexture;t.bindTexture(Oe,xt),w(Oe),t.unbindTexture()}}}const ee=[],nt=[];function $e(Q){if(Q.samples>0){if(st(Q)===!1){const j=Q.textures,_e=Q.width,Ve=Q.height;let ke=n.COLOR_BUFFER_BIT;const Oe=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,xt=i.get(Q),yt=j.length>1;if(yt)for(let Nt=0;Nt<j.length;Nt++)t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,xt.__webglMultisampledFramebuffer);const Vt=Q.texture.mipmaps;Vt&&Vt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglFramebuffer);for(let Nt=0;Nt<j.length;Nt++){if(Q.resolveDepthBuffer&&(Q.depthBuffer&&(ke|=n.DEPTH_BUFFER_BIT),Q.stencilBuffer&&Q.resolveStencilBuffer&&(ke|=n.STENCIL_BUFFER_BIT)),yt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,xt.__webglColorRenderbuffer[Nt]);const je=i.get(j[Nt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,je,0)}n.blitFramebuffer(0,0,_e,Ve,0,0,_e,Ve,ke,n.NEAREST),h===!0&&(ee.length=0,nt.length=0,ee.push(n.COLOR_ATTACHMENT0+Nt),Q.depthBuffer&&Q.resolveDepthBuffer===!1&&(ee.push(Oe),nt.push(Oe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,nt)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ee))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),yt)for(let Nt=0;Nt<j.length;Nt++){t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.RENDERBUFFER,xt.__webglColorRenderbuffer[Nt]);const je=i.get(j[Nt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,xt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Nt,n.TEXTURE_2D,je,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,xt.__webglMultisampledFramebuffer)}else if(Q.depthBuffer&&Q.resolveDepthBuffer===!1&&h){const j=Q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[j])}}}function mt(Q){return Math.min(a.maxSamples,Q.samples)}function st(Q){const j=i.get(Q);return Q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&j.__useRenderToTexture!==!1}function bt(Q){const j=l.render.frame;m.get(Q)!==j&&(m.set(Q,j),Q.update())}function pt(Q,j){const _e=Q.colorSpace,Ve=Q.format,ke=Q.type;return Q.isCompressedTexture===!0||Q.isVideoTexture===!0||_e!==Ko&&_e!==Lc&&(kn.getTransfer(_e)===ui?(Ve!==ha||ke!==qs)&&At("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):hn("WebGLTextures: Unsupported texture color space:",_e)),j}function wt(Q){return typeof HTMLImageElement<"u"&&Q instanceof HTMLImageElement?(p.width=Q.naturalWidth||Q.width,p.height=Q.naturalHeight||Q.height):typeof VideoFrame<"u"&&Q instanceof VideoFrame?(p.width=Q.displayWidth,p.height=Q.displayHeight):(p.width=Q.width,p.height=Q.height),p}this.allocateTextureUnit=re,this.resetTextureUnits=J,this.setTexture2D=ve,this.setTexture2DArray=G,this.setTexture3D=K,this.setTextureCube=$,this.rebindTextures=Qt,this.setupRenderTarget=kt,this.updateRenderTargetMipmap=Je,this.updateMultisampleRenderTarget=$e,this.setupDepthRenderbuffer=Gt,this.setupFrameBufferTexture=Ke,this.useMultisampledRTT=st}function _5(n,e){function t(i,a=Lc){let r;const l=kn.getTransfer(a);if(i===qs)return n.UNSIGNED_BYTE;if(i===t_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===n_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===vE)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===yE)return n.UNSIGNED_INT_10F_11F_11F_REV;if(i===$1)return n.BYTE;if(i===e_)return n.SHORT;if(i===Wp)return n.UNSIGNED_SHORT;if(i===hv)return n.INT;if(i===Wl)return n.UNSIGNED_INT;if(i===Wi)return n.FLOAT;if(i===La)return n.HALF_FLOAT;if(i===xE)return n.ALPHA;if(i===bE)return n.RGB;if(i===ha)return n.RGBA;if(i===Yp)return n.DEPTH_COMPONENT;if(i===Zp)return n.DEPTH_STENCIL;if(i===dv)return n.RED;if(i===pv)return n.RED_INTEGER;if(i===i_)return n.RG;if(i===a_)return n.RG_INTEGER;if(i===s_)return n.RGBA_INTEGER;if(i===hg||i===dg||i===pg||i===mg)if(l===ui)if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),r!==null){if(i===hg)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===dg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===pg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===mg)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(r=e.get("WEBGL_compressed_texture_s3tc"),r!==null){if(i===hg)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===dg)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===pg)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===mg)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Zb||i===Kb||i===Qb||i===Jb)if(r=e.get("WEBGL_compressed_texture_pvrtc"),r!==null){if(i===Zb)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Kb)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Qb)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Jb)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===$b||i===e1||i===t1)if(r=e.get("WEBGL_compressed_texture_etc"),r!==null){if(i===$b||i===e1)return l===ui?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(i===t1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===n1||i===i1||i===a1||i===s1||i===r1||i===o1||i===l1||i===c1||i===u1||i===f1||i===h1||i===d1||i===p1||i===m1)if(r=e.get("WEBGL_compressed_texture_astc"),r!==null){if(i===n1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===i1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===a1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===s1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===r1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===o1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===l1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===c1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===u1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===f1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===h1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===d1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===p1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===m1)return l===ui?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===g1||i===v1||i===y1)if(r=e.get("EXT_texture_compression_bptc"),r!==null){if(i===g1)return l===ui?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===v1)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===y1)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===x1||i===b1||i===_1||i===S1)if(r=e.get("EXT_texture_compression_rgtc"),r!==null){if(i===x1)return r.COMPRESSED_RED_RGTC1_EXT;if(i===b1)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===_1)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===S1)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===qp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const cK=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,uK=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class fK{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const i=new LE(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Ys({vertexShader:cK,fragmentShader:uK,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new na(new ff(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class hK extends Yl{constructor(e,t){super();const i=this;let a=null,r=1,l=null,u="local-floor",h=1,p=null,m=null,v=null,x=null,b=null,M=null;const C=typeof XRWebGLBinding<"u",E=new fK,w={},R=t.getContextAttributes();let D=null,O=null;const P=[],U=[],V=new qe;let H=null;const I=new fa;I.viewport=new Wn;const L=new fa;L.viewport=new Wn;const q=[I,L],J=new f5;let re=null,de=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let ze=P[ge];return ze===void 0&&(ze=new mb,P[ge]=ze),ze.getTargetRaySpace()},this.getControllerGrip=function(ge){let ze=P[ge];return ze===void 0&&(ze=new mb,P[ge]=ze),ze.getGripSpace()},this.getHand=function(ge){let ze=P[ge];return ze===void 0&&(ze=new mb,P[ge]=ze),ze.getHandSpace()};function ve(ge){const ze=U.indexOf(ge.inputSource);if(ze===-1)return;const Ke=P[ze];Ke!==void 0&&(Ke.update(ge.inputSource,ge.frame,p||l),Ke.dispatchEvent({type:ge.type,data:ge.inputSource}))}function G(){a.removeEventListener("select",ve),a.removeEventListener("selectstart",ve),a.removeEventListener("selectend",ve),a.removeEventListener("squeeze",ve),a.removeEventListener("squeezestart",ve),a.removeEventListener("squeezeend",ve),a.removeEventListener("end",G),a.removeEventListener("inputsourceschange",K);for(let ge=0;ge<P.length;ge++){const ze=U[ge];ze!==null&&(U[ge]=null,P[ge].disconnect(ze))}re=null,de=null,E.reset();for(const ge in w)delete w[ge];e.setRenderTarget(D),b=null,x=null,v=null,a=null,O=null,ft.stop(),i.isPresenting=!1,e.setPixelRatio(H),e.setSize(V.width,V.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){r=ge,i.isPresenting===!0&&At("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){u=ge,i.isPresenting===!0&&At("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||l},this.setReferenceSpace=function(ge){p=ge},this.getBaseLayer=function(){return x!==null?x:b},this.getBinding=function(){return v===null&&C&&(v=new XRWebGLBinding(a,t)),v},this.getFrame=function(){return M},this.getSession=function(){return a},this.setSession=async function(ge){if(a=ge,a!==null){if(D=e.getRenderTarget(),a.addEventListener("select",ve),a.addEventListener("selectstart",ve),a.addEventListener("selectend",ve),a.addEventListener("squeeze",ve),a.addEventListener("squeezestart",ve),a.addEventListener("squeezeend",ve),a.addEventListener("end",G),a.addEventListener("inputsourceschange",K),R.xrCompatible!==!0&&await t.makeXRCompatible(),H=e.getPixelRatio(),e.getSize(V),C&&"createProjectionLayer"in XRWebGLBinding.prototype){let Ke=null,St=null,Rt=null;R.depth&&(Rt=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Ke=R.stencil?Zp:Yp,St=R.stencil?qp:Wl);const Gt={colorFormat:t.RGBA8,depthFormat:Rt,scaleFactor:r};v=this.getBinding(),x=v.createProjectionLayer(Gt),a.updateRenderState({layers:[x]}),e.setPixelRatio(1),e.setSize(x.textureWidth,x.textureHeight,!1),O=new ho(x.textureWidth,x.textureHeight,{format:ha,type:qs,depthTexture:new NE(x.textureWidth,x.textureHeight,St,void 0,void 0,void 0,void 0,void 0,void 0,Ke),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}else{const Ke={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:r};b=new XRWebGLLayer(a,t,Ke),a.updateRenderState({baseLayer:b}),e.setPixelRatio(1),e.setSize(b.framebufferWidth,b.framebufferHeight,!1),O=new ho(b.framebufferWidth,b.framebufferHeight,{format:ha,type:qs,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(h),p=null,l=await a.requestReferenceSpace(u),ft.setContext(a),ft.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return E.getDepthTexture()};function K(ge){for(let ze=0;ze<ge.removed.length;ze++){const Ke=ge.removed[ze],St=U.indexOf(Ke);St>=0&&(U[St]=null,P[St].disconnect(Ke))}for(let ze=0;ze<ge.added.length;ze++){const Ke=ge.added[ze];let St=U.indexOf(Ke);if(St===-1){for(let Gt=0;Gt<P.length;Gt++)if(Gt>=U.length){U.push(Ke),St=Gt;break}else if(U[Gt]===null){U[Gt]=Ke,St=Gt;break}if(St===-1)break}const Rt=P[St];Rt&&Rt.connect(Ke)}}const $=new te,pe=new te;function X(ge,ze,Ke){$.setFromMatrixPosition(ze.matrixWorld),pe.setFromMatrixPosition(Ke.matrixWorld);const St=$.distanceTo(pe),Rt=ze.projectionMatrix.elements,Gt=Ke.projectionMatrix.elements,Qt=Rt[14]/(Rt[10]-1),kt=Rt[14]/(Rt[10]+1),Je=(Rt[9]+1)/Rt[5],ee=(Rt[9]-1)/Rt[5],nt=(Rt[8]-1)/Rt[0],$e=(Gt[8]+1)/Gt[0],mt=Qt*nt,st=Qt*$e,bt=St/(-nt+$e),pt=bt*-nt;if(ze.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(pt),ge.translateZ(bt),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert(),Rt[10]===-1)ge.projectionMatrix.copy(ze.projectionMatrix),ge.projectionMatrixInverse.copy(ze.projectionMatrixInverse);else{const wt=Qt+bt,Q=kt+bt,j=mt-pt,_e=st+(St-pt),Ve=Je*kt/Q*wt,ke=ee*kt/Q*wt;ge.projectionMatrix.makePerspective(j,_e,Ve,ke,wt,Q),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}}function fe(ge,ze){ze===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(ze.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(a===null)return;let ze=ge.near,Ke=ge.far;E.texture!==null&&(E.depthNear>0&&(ze=E.depthNear),E.depthFar>0&&(Ke=E.depthFar)),J.near=L.near=I.near=ze,J.far=L.far=I.far=Ke,(re!==J.near||de!==J.far)&&(a.updateRenderState({depthNear:J.near,depthFar:J.far}),re=J.near,de=J.far),J.layers.mask=ge.layers.mask|6,I.layers.mask=J.layers.mask&3,L.layers.mask=J.layers.mask&5;const St=ge.parent,Rt=J.cameras;fe(J,St);for(let Gt=0;Gt<Rt.length;Gt++)fe(Rt[Gt],St);Rt.length===2?X(J,I,L):J.projectionMatrix.copy(I.projectionMatrix),xe(ge,J,St)};function xe(ge,ze,Ke){Ke===null?ge.matrix.copy(ze.matrixWorld):(ge.matrix.copy(Ke.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(ze.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(ze.projectionMatrix),ge.projectionMatrixInverse.copy(ze.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Jp*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return J},this.getFoveation=function(){if(!(x===null&&b===null))return h},this.setFoveation=function(ge){h=ge,x!==null&&(x.fixedFoveation=ge),b!==null&&b.fixedFoveation!==void 0&&(b.fixedFoveation=ge)},this.hasDepthSensing=function(){return E.texture!==null},this.getDepthSensingMesh=function(){return E.getMesh(J)},this.getCameraTexture=function(ge){return w[ge]};let Ce=null;function Be(ge,ze){if(m=ze.getViewerPose(p||l),M=ze,m!==null){const Ke=m.views;b!==null&&(e.setRenderTargetFramebuffer(O,b.framebuffer),e.setRenderTarget(O));let St=!1;Ke.length!==J.cameras.length&&(J.cameras.length=0,St=!0);for(let kt=0;kt<Ke.length;kt++){const Je=Ke[kt];let ee=null;if(b!==null)ee=b.getViewport(Je);else{const $e=v.getViewSubImage(x,Je);ee=$e.viewport,kt===0&&(e.setRenderTargetTextures(O,$e.colorTexture,$e.depthStencilTexture),e.setRenderTarget(O))}let nt=q[kt];nt===void 0&&(nt=new fa,nt.layers.enable(kt),nt.viewport=new Wn,q[kt]=nt),nt.matrix.fromArray(Je.transform.matrix),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale),nt.projectionMatrix.fromArray(Je.projectionMatrix),nt.projectionMatrixInverse.copy(nt.projectionMatrix).invert(),nt.viewport.set(ee.x,ee.y,ee.width,ee.height),kt===0&&(J.matrix.copy(nt.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale)),St===!0&&J.cameras.push(nt)}const Rt=a.enabledFeatures;if(Rt&&Rt.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&C){v=i.getBinding();const kt=v.getDepthInformation(Ke[0]);kt&&kt.isValid&&kt.texture&&E.init(kt,a.renderState)}if(Rt&&Rt.includes("camera-access")&&C){e.state.unbindTexture(),v=i.getBinding();for(let kt=0;kt<Ke.length;kt++){const Je=Ke[kt].camera;if(Je){let ee=w[Je];ee||(ee=new LE,w[Je]=ee);const nt=v.getCameraImage(Je);ee.sourceTexture=nt}}}}for(let Ke=0;Ke<P.length;Ke++){const St=U[Ke],Rt=P[Ke];St!==null&&Rt!==void 0&&Rt.update(St,ze,p||l)}Ce&&Ce(ge,ze),ze.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ze}),M=null}const ft=new g5;ft.setAnimationLoop(Be),this.setAnimationLoop=function(ge){Ce=ge},this.dispose=function(){}}}const yh=new Br,dK=new cn;function pK(n,e){function t(E,w){E.matrixAutoUpdate===!0&&E.updateMatrix(),w.value.copy(E.matrix)}function i(E,w){w.color.getRGB(E.fogColor.value,gO(n)),w.isFog?(E.fogNear.value=w.near,E.fogFar.value=w.far):w.isFogExp2&&(E.fogDensity.value=w.density)}function a(E,w,R,D,O){w.isMeshBasicMaterial||w.isMeshLambertMaterial?r(E,w):w.isMeshToonMaterial?(r(E,w),v(E,w)):w.isMeshPhongMaterial?(r(E,w),m(E,w)):w.isMeshStandardMaterial?(r(E,w),x(E,w),w.isMeshPhysicalMaterial&&b(E,w,O)):w.isMeshMatcapMaterial?(r(E,w),M(E,w)):w.isMeshDepthMaterial?r(E,w):w.isMeshDistanceMaterial?(r(E,w),C(E,w)):w.isMeshNormalMaterial?r(E,w):w.isLineBasicMaterial?(l(E,w),w.isLineDashedMaterial&&u(E,w)):w.isPointsMaterial?h(E,w,R,D):w.isSpriteMaterial?p(E,w):w.isShadowMaterial?(E.color.value.copy(w.color),E.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function r(E,w){E.opacity.value=w.opacity,w.color&&E.diffuse.value.copy(w.color),w.emissive&&E.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(E.map.value=w.map,t(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.bumpMap&&(E.bumpMap.value=w.bumpMap,t(w.bumpMap,E.bumpMapTransform),E.bumpScale.value=w.bumpScale,w.side===Xs&&(E.bumpScale.value*=-1)),w.normalMap&&(E.normalMap.value=w.normalMap,t(w.normalMap,E.normalMapTransform),E.normalScale.value.copy(w.normalScale),w.side===Xs&&E.normalScale.value.negate()),w.displacementMap&&(E.displacementMap.value=w.displacementMap,t(w.displacementMap,E.displacementMapTransform),E.displacementScale.value=w.displacementScale,E.displacementBias.value=w.displacementBias),w.emissiveMap&&(E.emissiveMap.value=w.emissiveMap,t(w.emissiveMap,E.emissiveMapTransform)),w.specularMap&&(E.specularMap.value=w.specularMap,t(w.specularMap,E.specularMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest);const R=e.get(w),D=R.envMap,O=R.envMapRotation;D&&(E.envMap.value=D,yh.copy(O),yh.x*=-1,yh.y*=-1,yh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(yh.y*=-1,yh.z*=-1),E.envMapRotation.value.setFromMatrix4(dK.makeRotationFromEuler(yh)),E.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,E.reflectivity.value=w.reflectivity,E.ior.value=w.ior,E.refractionRatio.value=w.refractionRatio),w.lightMap&&(E.lightMap.value=w.lightMap,E.lightMapIntensity.value=w.lightMapIntensity,t(w.lightMap,E.lightMapTransform)),w.aoMap&&(E.aoMap.value=w.aoMap,E.aoMapIntensity.value=w.aoMapIntensity,t(w.aoMap,E.aoMapTransform))}function l(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,w.map&&(E.map.value=w.map,t(w.map,E.mapTransform))}function u(E,w){E.dashSize.value=w.dashSize,E.totalSize.value=w.dashSize+w.gapSize,E.scale.value=w.scale}function h(E,w,R,D){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.size.value=w.size*R,E.scale.value=D*.5,w.map&&(E.map.value=w.map,t(w.map,E.uvTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function p(E,w){E.diffuse.value.copy(w.color),E.opacity.value=w.opacity,E.rotation.value=w.rotation,w.map&&(E.map.value=w.map,t(w.map,E.mapTransform)),w.alphaMap&&(E.alphaMap.value=w.alphaMap,t(w.alphaMap,E.alphaMapTransform)),w.alphaTest>0&&(E.alphaTest.value=w.alphaTest)}function m(E,w){E.specular.value.copy(w.specular),E.shininess.value=Math.max(w.shininess,1e-4)}function v(E,w){w.gradientMap&&(E.gradientMap.value=w.gradientMap)}function x(E,w){E.metalness.value=w.metalness,w.metalnessMap&&(E.metalnessMap.value=w.metalnessMap,t(w.metalnessMap,E.metalnessMapTransform)),E.roughness.value=w.roughness,w.roughnessMap&&(E.roughnessMap.value=w.roughnessMap,t(w.roughnessMap,E.roughnessMapTransform)),w.envMap&&(E.envMapIntensity.value=w.envMapIntensity)}function b(E,w,R){E.ior.value=w.ior,w.sheen>0&&(E.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),E.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(E.sheenColorMap.value=w.sheenColorMap,t(w.sheenColorMap,E.sheenColorMapTransform)),w.sheenRoughnessMap&&(E.sheenRoughnessMap.value=w.sheenRoughnessMap,t(w.sheenRoughnessMap,E.sheenRoughnessMapTransform))),w.clearcoat>0&&(E.clearcoat.value=w.clearcoat,E.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(E.clearcoatMap.value=w.clearcoatMap,t(w.clearcoatMap,E.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(E.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,t(w.clearcoatRoughnessMap,E.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(E.clearcoatNormalMap.value=w.clearcoatNormalMap,t(w.clearcoatNormalMap,E.clearcoatNormalMapTransform),E.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===Xs&&E.clearcoatNormalScale.value.negate())),w.dispersion>0&&(E.dispersion.value=w.dispersion),w.iridescence>0&&(E.iridescence.value=w.iridescence,E.iridescenceIOR.value=w.iridescenceIOR,E.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],E.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(E.iridescenceMap.value=w.iridescenceMap,t(w.iridescenceMap,E.iridescenceMapTransform)),w.iridescenceThicknessMap&&(E.iridescenceThicknessMap.value=w.iridescenceThicknessMap,t(w.iridescenceThicknessMap,E.iridescenceThicknessMapTransform))),w.transmission>0&&(E.transmission.value=w.transmission,E.transmissionSamplerMap.value=R.texture,E.transmissionSamplerSize.value.set(R.width,R.height),w.transmissionMap&&(E.transmissionMap.value=w.transmissionMap,t(w.transmissionMap,E.transmissionMapTransform)),E.thickness.value=w.thickness,w.thicknessMap&&(E.thicknessMap.value=w.thicknessMap,t(w.thicknessMap,E.thicknessMapTransform)),E.attenuationDistance.value=w.attenuationDistance,E.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(E.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(E.anisotropyMap.value=w.anisotropyMap,t(w.anisotropyMap,E.anisotropyMapTransform))),E.specularIntensity.value=w.specularIntensity,E.specularColor.value.copy(w.specularColor),w.specularColorMap&&(E.specularColorMap.value=w.specularColorMap,t(w.specularColorMap,E.specularColorMapTransform)),w.specularIntensityMap&&(E.specularIntensityMap.value=w.specularIntensityMap,t(w.specularIntensityMap,E.specularIntensityMapTransform))}function M(E,w){w.matcap&&(E.matcap.value=w.matcap)}function C(E,w){const R=e.get(w).light;E.referencePosition.value.setFromMatrixPosition(R.matrixWorld),E.nearDistance.value=R.shadow.camera.near,E.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function mK(n,e,t,i){let a={},r={},l=[];const u=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(R,D){const O=D.program;i.uniformBlockBinding(R,O)}function p(R,D){let O=a[R.id];O===void 0&&(M(R),O=m(R),a[R.id]=O,R.addEventListener("dispose",E));const P=D.program;i.updateUBOMapping(R,P);const U=e.render.frame;r[R.id]!==U&&(x(R),r[R.id]=U)}function m(R){const D=v();R.__bindingPointIndex=D;const O=n.createBuffer(),P=R.__size,U=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,O),n.bufferData(n.UNIFORM_BUFFER,P,U),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,D,O),O}function v(){for(let R=0;R<u;R++)if(l.indexOf(R)===-1)return l.push(R),R;return hn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function x(R){const D=a[R.id],O=R.uniforms,P=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,D);for(let U=0,V=O.length;U<V;U++){const H=Array.isArray(O[U])?O[U]:[O[U]];for(let I=0,L=H.length;I<L;I++){const q=H[I];if(b(q,U,I,P)===!0){const J=q.__offset,re=Array.isArray(q.value)?q.value:[q.value];let de=0;for(let ve=0;ve<re.length;ve++){const G=re[ve],K=C(G);typeof G=="number"||typeof G=="boolean"?(q.__data[0]=G,n.bufferSubData(n.UNIFORM_BUFFER,J+de,q.__data)):G.isMatrix3?(q.__data[0]=G.elements[0],q.__data[1]=G.elements[1],q.__data[2]=G.elements[2],q.__data[3]=0,q.__data[4]=G.elements[3],q.__data[5]=G.elements[4],q.__data[6]=G.elements[5],q.__data[7]=0,q.__data[8]=G.elements[6],q.__data[9]=G.elements[7],q.__data[10]=G.elements[8],q.__data[11]=0):(G.toArray(q.__data,de),de+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,q.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function b(R,D,O,P){const U=R.value,V=D+"_"+O;if(P[V]===void 0)return typeof U=="number"||typeof U=="boolean"?P[V]=U:P[V]=U.clone(),!0;{const H=P[V];if(typeof U=="number"||typeof U=="boolean"){if(H!==U)return P[V]=U,!0}else if(H.equals(U)===!1)return H.copy(U),!0}return!1}function M(R){const D=R.uniforms;let O=0;const P=16;for(let V=0,H=D.length;V<H;V++){const I=Array.isArray(D[V])?D[V]:[D[V]];for(let L=0,q=I.length;L<q;L++){const J=I[L],re=Array.isArray(J.value)?J.value:[J.value];for(let de=0,ve=re.length;de<ve;de++){const G=re[de],K=C(G),$=O%P,pe=$%K.boundary,X=$+pe;O+=pe,X!==0&&P-X<K.storage&&(O+=P-X),J.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=O,O+=K.storage}}}const U=O%P;return U>0&&(O+=P-U),R.__size=O,R.__cache={},this}function C(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?At("WebGLRenderer: Texture samplers can not be part of an uniforms group."):At("WebGLRenderer: Unsupported uniform value type.",R),D}function E(R){const D=R.target;D.removeEventListener("dispose",E);const O=l.indexOf(D.__bindingPointIndex);l.splice(O,1),n.deleteBuffer(a[D.id]),delete a[D.id],delete r[D.id]}function w(){for(const R in a)n.deleteBuffer(a[R]);l=[],a={},r={}}return{bind:h,update:p,dispose:w}}const gK=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let Cc=null;function vK(){return Cc===null&&(Cc=new co(gK,32,32,i_,La),Cc.minFilter=ti,Cc.magFilter=ti,Cc.wrapS=ta,Cc.wrapT=ta,Cc.generateMipmaps=!1,Cc.needsUpdate=!0),Cc}class eT{constructor(e={}){const{canvas:t=dO(),context:i=null,depth:a=!0,stencil:r=!1,alpha:l=!1,antialias:u=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:p=!1,powerPreference:m="default",failIfMajorPerformanceCaveat:v=!1,reversedDepthBuffer:x=!1}=e;this.isWebGLRenderer=!0;let b;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=i.getContextAttributes().alpha}else b=l;const M=new Set([s_,a_,pv]),C=new Set([qs,Wl,Wp,qp,t_,n_]),E=new Uint32Array(4),w=new Int32Array(4);let R=null,D=null;const O=[],P=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=kl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const U=this;let V=!1;this._outputColorSpace=ts;let H=0,I=0,L=null,q=-1,J=null;const re=new Wn,de=new Wn;let ve=null;const G=new Lt(0);let K=0,$=t.width,pe=t.height,X=1,fe=null,xe=null;const Ce=new Wn(0,0,$,pe),Be=new Wn(0,0,$,pe);let ft=!1;const ge=new vm;let ze=!1,Ke=!1;const St=new cn,Rt=new te,Gt=new Wn,Qt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let kt=!1;function Je(){return L===null?X:1}let ee=i;function nt(F,ie){return t.getContext(F,ie)}try{const F={alpha:!0,depth:a,stencil:r,antialias:u,premultipliedAlpha:h,preserveDrawingBuffer:p,powerPreference:m,failIfMajorPerformanceCaveat:v};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${uv}`),t.addEventListener("webglcontextlost",lt,!1),t.addEventListener("webglcontextrestored",Ye,!1),t.addEventListener("webglcontextcreationerror",_t,!1),ee===null){const ie="webgl2";if(ee=nt(ie,F),ee===null)throw nt(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(F){throw F("WebGLRenderer: "+F.message),F}let $e,mt,st,bt,pt,wt,Q,j,_e,Ve,ke,Oe,xt,yt,Vt,Nt,je,et,Ot,oe,we,Ze,ae,Ee;function rt(){$e=new AY(ee),$e.init(),Ze=new _5(ee,$e),mt=new yY(ee,$e,e,Ze),st=new oK(ee,$e),mt.reversedDepthBuffer&&x&&st.buffers.depth.setReversed(!0),bt=new DY(ee),pt=new YZ,wt=new lK(ee,$e,st,pt,mt,Ze,bt),Q=new bY(U),j=new TY(U),_e=new UX(ee),ae=new gY(ee,_e),Ve=new CY(ee,_e,bt,ae),ke=new LY(ee,Ve,_e,bt),Ot=new NY(ee,mt,wt),Nt=new xY(pt),Oe=new qZ(U,Q,j,$e,mt,ae,Nt),xt=new pK(U,pt),yt=new KZ,Vt=new nK($e),et=new mY(U,Q,j,st,ke,b,h),je=new sK(U,ke,mt),Ee=new mK(ee,bt,mt,st),oe=new vY(ee,$e,bt),we=new RY(ee,$e,bt),bt.programs=Oe.programs,U.capabilities=mt,U.extensions=$e,U.properties=pt,U.renderLists=yt,U.shadowMap=je,U.state=st,U.info=bt}rt();const ct=new hK(U,ee);this.xr=ct,this.getContext=function(){return ee},this.getContextAttributes=function(){return ee.getContextAttributes()},this.forceContextLoss=function(){const F=$e.get("WEBGL_lose_context");F&&F.loseContext()},this.forceContextRestore=function(){const F=$e.get("WEBGL_lose_context");F&&F.restoreContext()},this.getPixelRatio=function(){return X},this.setPixelRatio=function(F){F!==void 0&&(X=F,this.setSize($,pe,!1))},this.getSize=function(F){return F.set($,pe)},this.setSize=function(F,ie,ce=!0){if(ct.isPresenting){At("WebGLRenderer: Can't change size while VR device is presenting.");return}$=F,pe=ie,t.width=Math.floor(F*X),t.height=Math.floor(ie*X),ce===!0&&(t.style.width=F+"px",t.style.height=ie+"px"),this.setViewport(0,0,F,ie)},this.getDrawingBufferSize=function(F){return F.set($*X,pe*X).floor()},this.setDrawingBufferSize=function(F,ie,ce){$=F,pe=ie,X=ce,t.width=Math.floor(F*ce),t.height=Math.floor(ie*ce),this.setViewport(0,0,F,ie)},this.getCurrentViewport=function(F){return F.copy(re)},this.getViewport=function(F){return F.copy(Ce)},this.setViewport=function(F,ie,ce,Me){F.isVector4?Ce.set(F.x,F.y,F.z,F.w):Ce.set(F,ie,ce,Me),st.viewport(re.copy(Ce).multiplyScalar(X).round())},this.getScissor=function(F){return F.copy(Be)},this.setScissor=function(F,ie,ce,Me){F.isVector4?Be.set(F.x,F.y,F.z,F.w):Be.set(F,ie,ce,Me),st.scissor(de.copy(Be).multiplyScalar(X).round())},this.getScissorTest=function(){return ft},this.setScissorTest=function(F){st.setScissorTest(ft=F)},this.setOpaqueSort=function(F){fe=F},this.setTransparentSort=function(F){xe=F},this.getClearColor=function(F){return F.copy(et.getClearColor())},this.setClearColor=function(){et.setClearColor(...arguments)},this.getClearAlpha=function(){return et.getClearAlpha()},this.setClearAlpha=function(){et.setClearAlpha(...arguments)},this.clear=function(F=!0,ie=!0,ce=!0){let Me=0;if(F){let se=!1;if(L!==null){const Ie=L.texture.format;se=M.has(Ie)}if(se){const Ie=L.texture.type,Ge=C.has(Ie),at=et.getClearColor(),ut=et.getClearAlpha(),vt=at.r,Ct=at.g,Mt=at.b;Ge?(E[0]=vt,E[1]=Ct,E[2]=Mt,E[3]=ut,ee.clearBufferuiv(ee.COLOR,0,E)):(w[0]=vt,w[1]=Ct,w[2]=Mt,w[3]=ut,ee.clearBufferiv(ee.COLOR,0,w))}else Me|=ee.COLOR_BUFFER_BIT}ie&&(Me|=ee.DEPTH_BUFFER_BIT),ce&&(Me|=ee.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ee.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",lt,!1),t.removeEventListener("webglcontextrestored",Ye,!1),t.removeEventListener("webglcontextcreationerror",_t,!1),et.dispose(),yt.dispose(),Vt.dispose(),pt.dispose(),Q.dispose(),j.dispose(),ke.dispose(),ae.dispose(),Ee.dispose(),Oe.dispose(),ct.dispose(),ct.removeEventListener("sessionstart",zi),ct.removeEventListener("sessionend",Ia),Yi.stop()};function lt(F){F.preventDefault(),Fg("WebGLRenderer: Context Lost."),V=!0}function Ye(){Fg("WebGLRenderer: Context Restored."),V=!1;const F=bt.autoReset,ie=je.enabled,ce=je.autoUpdate,Me=je.needsUpdate,se=je.type;rt(),bt.autoReset=F,je.enabled=ie,je.autoUpdate=ce,je.needsUpdate=Me,je.type=se}function _t(F){hn("WebGLRenderer: A WebGL context could not be created. Reason: ",F.statusMessage)}function Pt(F){const ie=F.target;ie.removeEventListener("dispose",Pt),bn(ie)}function bn(F){vn(F),pt.remove(F)}function vn(F){const ie=pt.get(F).programs;ie!==void 0&&(ie.forEach(function(ce){Oe.releaseProgram(ce)}),F.isShaderMaterial&&Oe.releaseShaderCache(F))}this.renderBufferDirect=function(F,ie,ce,Me,se,Ie){ie===null&&(ie=Qt);const Ge=se.isMesh&&se.matrixWorld.determinant()<0,at=Re(F,ie,ce,Me,se);st.setMaterial(Me,Ge);let ut=ce.index,vt=1;if(Me.wireframe===!0){if(ut=Ve.getWireframeAttribute(ce),ut===void 0)return;vt=2}const Ct=ce.drawRange,Mt=ce.attributes.position;let Ut=Ct.start*vt,dn=(Ct.start+Ct.count)*vt;Ie!==null&&(Ut=Math.max(Ut,Ie.start*vt),dn=Math.min(dn,(Ie.start+Ie.count)*vt)),ut!==null?(Ut=Math.max(Ut,0),dn=Math.min(dn,ut.count)):Mt!=null&&(Ut=Math.max(Ut,0),dn=Math.min(dn,Mt.count));const Bt=dn-Ut;if(Bt<0||Bt===1/0)return;ae.setup(se,Me,at,ce,ut);let un,An=oe;if(ut!==null&&(un=_e.get(ut),An=we,An.setIndex(un)),se.isMesh)Me.wireframe===!0?(st.setLineWidth(Me.wireframeLinewidth*Je()),An.setMode(ee.LINES)):An.setMode(ee.TRIANGLES);else if(se.isLine){let zt=Me.linewidth;zt===void 0&&(zt=1),st.setLineWidth(zt*Je()),se.isLineSegments?An.setMode(ee.LINES):se.isLineLoop?An.setMode(ee.LINE_LOOP):An.setMode(ee.LINE_STRIP)}else se.isPoints?An.setMode(ee.POINTS):se.isSprite&&An.setMode(ee.TRIANGLES);if(se.isBatchedMesh)if(se._multiDrawInstances!==null)Qp("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),An.renderMultiDrawInstances(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount,se._multiDrawInstances);else if($e.get("WEBGL_multi_draw"))An.renderMultiDraw(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount);else{const zt=se._multiDrawStarts,Mn=se._multiDrawCounts,It=se._multiDrawCount,zn=ut?_e.get(ut).bytesPerElement:1,fn=pt.get(Me).currentProgram.getUniforms();for(let tn=0;tn<It;tn++)fn.setValue(ee,"_gl_DrawID",tn),An.render(zt[tn]/zn,Mn[tn])}else if(se.isInstancedMesh)An.renderInstances(Ut,Bt,se.count);else if(ce.isInstancedBufferGeometry){const zt=ce._maxInstanceCount!==void 0?ce._maxInstanceCount:1/0,Mn=Math.min(ce.instanceCount,zt);An.renderInstances(Ut,Bt,Mn)}else An.render(Ut,Bt)};function Pi(F,ie,ce){F.transparent===!0&&F.side===Wo&&F.forceSinglePass===!1?(F.side=Xs,F.needsUpdate=!0,k(F,ie,ce),F.side=Hc,F.needsUpdate=!0,k(F,ie,ce),F.side=Wo):k(F,ie,ce)}this.compile=function(F,ie,ce=null){ce===null&&(ce=F),D=Vt.get(ce),D.init(ie),P.push(D),ce.traverseVisible(function(se){se.isLight&&se.layers.test(ie.layers)&&(D.pushLight(se),se.castShadow&&D.pushShadow(se))}),F!==ce&&F.traverseVisible(function(se){se.isLight&&se.layers.test(ie.layers)&&(D.pushLight(se),se.castShadow&&D.pushShadow(se))}),D.setupLights();const Me=new Set;return F.traverse(function(se){if(!(se.isMesh||se.isPoints||se.isLine||se.isSprite))return;const Ie=se.material;if(Ie)if(Array.isArray(Ie))for(let Ge=0;Ge<Ie.length;Ge++){const at=Ie[Ge];Pi(at,ce,se),Me.add(at)}else Pi(Ie,ce,se),Me.add(Ie)}),D=P.pop(),Me},this.compileAsync=function(F,ie,ce=null){const Me=this.compile(F,ie,ce);return new Promise(se=>{function Ie(){if(Me.forEach(function(Ge){pt.get(Ge).currentProgram.isReady()&&Me.delete(Ge)}),Me.size===0){se(F);return}setTimeout(Ie,10)}$e.get("KHR_parallel_shader_compile")!==null?Ie():setTimeout(Ie,10)})};let ni=null;function Bi(F){ni&&ni(F)}function zi(){Yi.stop()}function Ia(){Yi.start()}const Yi=new g5;Yi.setAnimationLoop(Bi),typeof self<"u"&&Yi.setContext(self),this.setAnimationLoop=function(F){ni=F,ct.setAnimationLoop(F),F===null?Yi.stop():Yi.start()},ct.addEventListener("sessionstart",zi),ct.addEventListener("sessionend",Ia),this.render=function(F,ie){if(ie!==void 0&&ie.isCamera!==!0){hn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(V===!0)return;if(F.matrixWorldAutoUpdate===!0&&F.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),ct.enabled===!0&&ct.isPresenting===!0&&(ct.cameraAutoUpdate===!0&&ct.updateCamera(ie),ie=ct.getCamera()),F.isScene===!0&&F.onBeforeRender(U,F,ie,L),D=Vt.get(F,P.length),D.init(ie),P.push(D),St.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),ge.setFromProjectionMatrix(St,Or,ie.reversedDepth),Ke=this.localClippingEnabled,ze=Nt.init(this.clippingPlanes,Ke),R=yt.get(F,O.length),R.init(),O.push(R),ct.enabled===!0&&ct.isPresenting===!0){const Ie=U.xr.getDepthSensingMesh();Ie!==null&&Js(Ie,ie,-1/0,U.sortObjects)}Js(F,ie,0,U.sortObjects),R.finish(),U.sortObjects===!0&&R.sort(fe,xe),kt=ct.enabled===!1||ct.isPresenting===!1||ct.hasDepthSensing()===!1,kt&&et.addToRenderList(R,F),this.info.render.frame++,ze===!0&&Nt.beginShadows();const ce=D.state.shadowsArray;je.render(ce,F,ie),ze===!0&&Nt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Me=R.opaque,se=R.transmissive;if(D.setupLights(),ie.isArrayCamera){const Ie=ie.cameras;if(se.length>0)for(let Ge=0,at=Ie.length;Ge<at;Ge++){const ut=Ie[Ge];Jt(Me,se,F,ut)}kt&&et.render(F);for(let Ge=0,at=Ie.length;Ge<at;Ge++){const ut=Ie[Ge];Sa(R,F,ut,ut.viewport)}}else se.length>0&&Jt(Me,se,F,ie),kt&&et.render(F),Sa(R,F,ie);L!==null&&I===0&&(wt.updateMultisampleRenderTarget(L),wt.updateRenderTargetMipmap(L)),F.isScene===!0&&F.onAfterRender(U,F,ie),ae.resetDefaultState(),q=-1,J=null,P.pop(),P.length>0?(D=P[P.length-1],ze===!0&&Nt.setGlobalState(U.clippingPlanes,D.state.camera)):D=null,O.pop(),O.length>0?R=O[O.length-1]:R=null};function Js(F,ie,ce,Me){if(F.visible===!1)return;if(F.layers.test(ie.layers)){if(F.isGroup)ce=F.renderOrder;else if(F.isLOD)F.autoUpdate===!0&&F.update(ie);else if(F.isLight)D.pushLight(F),F.castShadow&&D.pushShadow(F);else if(F.isSprite){if(!F.frustumCulled||ge.intersectsSprite(F)){Me&&Gt.setFromMatrixPosition(F.matrixWorld).applyMatrix4(St);const Ge=ke.update(F),at=F.material;at.visible&&R.push(F,Ge,at,ce,Gt.z,null)}}else if((F.isMesh||F.isLine||F.isPoints)&&(!F.frustumCulled||ge.intersectsObject(F))){const Ge=ke.update(F),at=F.material;if(Me&&(F.boundingSphere!==void 0?(F.boundingSphere===null&&F.computeBoundingSphere(),Gt.copy(F.boundingSphere.center)):(Ge.boundingSphere===null&&Ge.computeBoundingSphere(),Gt.copy(Ge.boundingSphere.center)),Gt.applyMatrix4(F.matrixWorld).applyMatrix4(St)),Array.isArray(at)){const ut=Ge.groups;for(let vt=0,Ct=ut.length;vt<Ct;vt++){const Mt=ut[vt],Ut=at[Mt.materialIndex];Ut&&Ut.visible&&R.push(F,Ge,Ut,ce,Gt.z,Mt)}}else at.visible&&R.push(F,Ge,at,ce,Gt.z,null)}}const Ie=F.children;for(let Ge=0,at=Ie.length;Ge<at;Ge++)Js(Ie[Ge],ie,ce,Me)}function Sa(F,ie,ce,Me){const{opaque:se,transmissive:Ie,transparent:Ge}=F;D.setupLightsView(ce),ze===!0&&Nt.setGlobalState(U.clippingPlanes,ce),Me&&st.viewport(re.copy(Me)),se.length>0&&Pa(se,ie,ce),Ie.length>0&&Pa(Ie,ie,ce),Ge.length>0&&Pa(Ge,ie,ce),st.buffers.depth.setTest(!0),st.buffers.depth.setMask(!0),st.buffers.color.setMask(!0),st.setPolygonOffset(!1)}function Jt(F,ie,ce,Me){if((ce.isScene===!0?ce.overrideMaterial:null)!==null)return;D.state.transmissionRenderTarget[Me.id]===void 0&&(D.state.transmissionRenderTarget[Me.id]=new ho(1,1,{generateMipmaps:!0,type:$e.has("EXT_color_buffer_half_float")||$e.has("EXT_color_buffer_float")?La:qs,minFilter:Bl,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:kn.workingColorSpace}));const Ie=D.state.transmissionRenderTarget[Me.id],Ge=Me.viewport||re;Ie.setSize(Ge.z*U.transmissionResolutionScale,Ge.w*U.transmissionResolutionScale);const at=U.getRenderTarget(),ut=U.getActiveCubeFace(),vt=U.getActiveMipmapLevel();U.setRenderTarget(Ie),U.getClearColor(G),K=U.getClearAlpha(),K<1&&U.setClearColor(16777215,.5),U.clear(),kt&&et.render(ce);const Ct=U.toneMapping;U.toneMapping=kl;const Mt=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),D.setupLightsView(Me),ze===!0&&Nt.setGlobalState(U.clippingPlanes,Me),Pa(F,ce,Me),wt.updateMultisampleRenderTarget(Ie),wt.updateRenderTargetMipmap(Ie),$e.has("WEBGL_multisampled_render_to_texture")===!1){let Ut=!1;for(let dn=0,Bt=ie.length;dn<Bt;dn++){const un=ie[dn],{object:An,geometry:zt,material:Mn,group:It}=un;if(Mn.side===Wo&&An.layers.test(Me.layers)){const zn=Mn.side;Mn.side=Xs,Mn.needsUpdate=!0,ii(An,ce,Me,zt,Mn,It),Mn.side=zn,Mn.needsUpdate=!0,Ut=!0}}Ut===!0&&(wt.updateMultisampleRenderTarget(Ie),wt.updateRenderTargetMipmap(Ie))}U.setRenderTarget(at,ut,vt),U.setClearColor(G,K),Mt!==void 0&&(Me.viewport=Mt),U.toneMapping=Ct}function Pa(F,ie,ce){const Me=ie.isScene===!0?ie.overrideMaterial:null;for(let se=0,Ie=F.length;se<Ie;se++){const Ge=F[se],{object:at,geometry:ut,group:vt}=Ge;let Ct=Ge.material;Ct.allowOverride===!0&&Me!==null&&(Ct=Me),at.layers.test(ce.layers)&&ii(at,ie,ce,ut,Ct,vt)}}function ii(F,ie,ce,Me,se,Ie){F.onBeforeRender(U,ie,ce,Me,se,Ie),F.modelViewMatrix.multiplyMatrices(ce.matrixWorldInverse,F.matrixWorld),F.normalMatrix.getNormalMatrix(F.modelViewMatrix),se.onBeforeRender(U,ie,ce,Me,F,Ie),se.transparent===!0&&se.side===Wo&&se.forceSinglePass===!1?(se.side=Xs,se.needsUpdate=!0,U.renderBufferDirect(ce,ie,Me,se,F,Ie),se.side=Hc,se.needsUpdate=!0,U.renderBufferDirect(ce,ie,Me,se,F,Ie),se.side=Wo):U.renderBufferDirect(ce,ie,Me,se,F,Ie),F.onAfterRender(U,ie,ce,Me,se,Ie)}function k(F,ie,ce){ie.isScene!==!0&&(ie=Qt);const Me=pt.get(F),se=D.state.lights,Ie=D.state.shadowsArray,Ge=se.state.version,at=Oe.getParameters(F,se.state,Ie,ie,ce),ut=Oe.getProgramCacheKey(at);let vt=Me.programs;Me.environment=F.isMeshStandardMaterial?ie.environment:null,Me.fog=ie.fog,Me.envMap=(F.isMeshStandardMaterial?j:Q).get(F.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&F.envMap===null?ie.environmentRotation:F.envMapRotation,vt===void 0&&(F.addEventListener("dispose",Pt),vt=new Map,Me.programs=vt);let Ct=vt.get(ut);if(Ct!==void 0){if(Me.currentProgram===Ct&&Me.lightsStateVersion===Ge)return he(F,at),Ct}else at.uniforms=Oe.getUniforms(F),F.onBeforeCompile(at,U),Ct=Oe.acquireProgram(at,ut),vt.set(ut,Ct),Me.uniforms=at.uniforms;const Mt=Me.uniforms;return(!F.isShaderMaterial&&!F.isRawShaderMaterial||F.clipping===!0)&&(Mt.clippingPlanes=Nt.uniform),he(F,at),Me.needsLights=Fe(F),Me.lightsStateVersion=Ge,Me.needsLights&&(Mt.ambientLightColor.value=se.state.ambient,Mt.lightProbe.value=se.state.probe,Mt.directionalLights.value=se.state.directional,Mt.directionalLightShadows.value=se.state.directionalShadow,Mt.spotLights.value=se.state.spot,Mt.spotLightShadows.value=se.state.spotShadow,Mt.rectAreaLights.value=se.state.rectArea,Mt.ltc_1.value=se.state.rectAreaLTC1,Mt.ltc_2.value=se.state.rectAreaLTC2,Mt.pointLights.value=se.state.point,Mt.pointLightShadows.value=se.state.pointShadow,Mt.hemisphereLights.value=se.state.hemi,Mt.directionalShadowMap.value=se.state.directionalShadowMap,Mt.directionalShadowMatrix.value=se.state.directionalShadowMatrix,Mt.spotShadowMap.value=se.state.spotShadowMap,Mt.spotLightMatrix.value=se.state.spotLightMatrix,Mt.spotLightMap.value=se.state.spotLightMap,Mt.pointShadowMap.value=se.state.pointShadowMap,Mt.pointShadowMatrix.value=se.state.pointShadowMatrix),Me.currentProgram=Ct,Me.uniformsList=null,Ct}function Z(F){if(F.uniformsList===null){const ie=F.currentProgram.getUniforms();F.uniformsList=gb.seqWithValue(ie.seq,F.uniforms)}return F.uniformsList}function he(F,ie){const ce=pt.get(F);ce.outputColorSpace=ie.outputColorSpace,ce.batching=ie.batching,ce.batchingColor=ie.batchingColor,ce.instancing=ie.instancing,ce.instancingColor=ie.instancingColor,ce.instancingMorph=ie.instancingMorph,ce.skinning=ie.skinning,ce.morphTargets=ie.morphTargets,ce.morphNormals=ie.morphNormals,ce.morphColors=ie.morphColors,ce.morphTargetsCount=ie.morphTargetsCount,ce.numClippingPlanes=ie.numClippingPlanes,ce.numIntersection=ie.numClipIntersection,ce.vertexAlphas=ie.vertexAlphas,ce.vertexTangents=ie.vertexTangents,ce.toneMapping=ie.toneMapping}function Re(F,ie,ce,Me,se){ie.isScene!==!0&&(ie=Qt),wt.resetTextureUnits();const Ie=ie.fog,Ge=Me.isMeshStandardMaterial?ie.environment:null,at=L===null?U.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:Ko,ut=(Me.isMeshStandardMaterial?j:Q).get(Me.envMap||Ge),vt=Me.vertexColors===!0&&!!ce.attributes.color&&ce.attributes.color.itemSize===4,Ct=!!ce.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),Mt=!!ce.morphAttributes.position,Ut=!!ce.morphAttributes.normal,dn=!!ce.morphAttributes.color;let Bt=kl;Me.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Bt=U.toneMapping);const un=ce.morphAttributes.position||ce.morphAttributes.normal||ce.morphAttributes.color,An=un!==void 0?un.length:0,zt=pt.get(Me),Mn=D.state.lights;if(ze===!0&&(Ke===!0||F!==J)){const ia=F===J&&Me.id===q;Nt.setState(Me,F,ia)}let It=!1;Me.version===zt.__version?(zt.needsLights&&zt.lightsStateVersion!==Mn.state.version||zt.outputColorSpace!==at||se.isBatchedMesh&&zt.batching===!1||!se.isBatchedMesh&&zt.batching===!0||se.isBatchedMesh&&zt.batchingColor===!0&&se.colorTexture===null||se.isBatchedMesh&&zt.batchingColor===!1&&se.colorTexture!==null||se.isInstancedMesh&&zt.instancing===!1||!se.isInstancedMesh&&zt.instancing===!0||se.isSkinnedMesh&&zt.skinning===!1||!se.isSkinnedMesh&&zt.skinning===!0||se.isInstancedMesh&&zt.instancingColor===!0&&se.instanceColor===null||se.isInstancedMesh&&zt.instancingColor===!1&&se.instanceColor!==null||se.isInstancedMesh&&zt.instancingMorph===!0&&se.morphTexture===null||se.isInstancedMesh&&zt.instancingMorph===!1&&se.morphTexture!==null||zt.envMap!==ut||Me.fog===!0&&zt.fog!==Ie||zt.numClippingPlanes!==void 0&&(zt.numClippingPlanes!==Nt.numPlanes||zt.numIntersection!==Nt.numIntersection)||zt.vertexAlphas!==vt||zt.vertexTangents!==Ct||zt.morphTargets!==Mt||zt.morphNormals!==Ut||zt.morphColors!==dn||zt.toneMapping!==Bt||zt.morphTargetsCount!==An)&&(It=!0):(It=!0,zt.__version=Me.version);let zn=zt.currentProgram;It===!0&&(zn=k(Me,ie,se));let fn=!1,tn=!1,Ri=!1;const On=zn.getUniforms(),Un=zt.uniforms;if(st.useProgram(zn.program)&&(fn=!0,tn=!0,Ri=!0),Me.id!==q&&(q=Me.id,tn=!0),fn||J!==F){st.buffers.depth.getReversed()&&F.reversedDepth!==!0&&(F._reversedDepth=!0,F.updateProjectionMatrix()),On.setValue(ee,"projectionMatrix",F.projectionMatrix),On.setValue(ee,"viewMatrix",F.matrixWorldInverse);const fi=On.map.cameraPosition;fi!==void 0&&fi.setValue(ee,Rt.setFromMatrixPosition(F.matrixWorld)),mt.logarithmicDepthBuffer&&On.setValue(ee,"logDepthBufFC",2/(Math.log(F.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&On.setValue(ee,"isOrthographic",F.isOrthographicCamera===!0),J!==F&&(J=F,tn=!0,Ri=!0)}if(se.isSkinnedMesh){On.setOptional(ee,se,"bindMatrix"),On.setOptional(ee,se,"bindMatrixInverse");const ia=se.skeleton;ia&&(ia.boneTexture===null&&ia.computeBoneTexture(),On.setValue(ee,"boneTexture",ia.boneTexture,wt))}se.isBatchedMesh&&(On.setOptional(ee,se,"batchingTexture"),On.setValue(ee,"batchingTexture",se._matricesTexture,wt),On.setOptional(ee,se,"batchingIdTexture"),On.setValue(ee,"batchingIdTexture",se._indirectTexture,wt),On.setOptional(ee,se,"batchingColorTexture"),se._colorsTexture!==null&&On.setValue(ee,"batchingColorTexture",se._colorsTexture,wt));const _i=ce.morphAttributes;if((_i.position!==void 0||_i.normal!==void 0||_i.color!==void 0)&&Ot.update(se,ce,zn),(tn||zt.receiveShadow!==se.receiveShadow)&&(zt.receiveShadow=se.receiveShadow,On.setValue(ee,"receiveShadow",se.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(Un.envMap.value=ut,Un.flipEnvMap.value=ut.isCubeTexture&&ut.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&ie.environment!==null&&(Un.envMapIntensity.value=ie.environmentIntensity),Un.dfgLUT!==void 0&&(Un.dfgLUT.value=vK()),tn&&(On.setValue(ee,"toneMappingExposure",U.toneMappingExposure),zt.needsLights&&Ne(Un,Ri),Ie&&Me.fog===!0&&xt.refreshFogUniforms(Un,Ie),xt.refreshMaterialUniforms(Un,Me,X,pe,D.state.transmissionRenderTarget[F.id]),gb.upload(ee,Z(zt),Un,wt)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(gb.upload(ee,Z(zt),Un,wt),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&On.setValue(ee,"center",se.center),On.setValue(ee,"modelViewMatrix",se.modelViewMatrix),On.setValue(ee,"normalMatrix",se.normalMatrix),On.setValue(ee,"modelMatrix",se.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const ia=Me.uniformsGroups;for(let fi=0,Xc=ia.length;fi<Xc;fi++){const ws=ia[fi];Ee.update(ws,zn),Ee.bind(ws,zn)}}return zn}function Ne(F,ie){F.ambientLightColor.needsUpdate=ie,F.lightProbe.needsUpdate=ie,F.directionalLights.needsUpdate=ie,F.directionalLightShadows.needsUpdate=ie,F.pointLights.needsUpdate=ie,F.pointLightShadows.needsUpdate=ie,F.spotLights.needsUpdate=ie,F.spotLightShadows.needsUpdate=ie,F.rectAreaLights.needsUpdate=ie,F.hemisphereLights.needsUpdate=ie}function Fe(F){return F.isMeshLambertMaterial||F.isMeshToonMaterial||F.isMeshPhongMaterial||F.isMeshStandardMaterial||F.isShadowMaterial||F.isShaderMaterial&&F.lights===!0}this.getActiveCubeFace=function(){return H},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(F,ie,ce){const Me=pt.get(F);Me.__autoAllocateDepthBuffer=F.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),pt.get(F.texture).__webglTexture=ie,pt.get(F.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:ce,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(F,ie){const ce=pt.get(F);ce.__webglFramebuffer=ie,ce.__useDefaultFramebuffer=ie===void 0};const ht=ee.createFramebuffer();this.setRenderTarget=function(F,ie=0,ce=0){L=F,H=ie,I=ce;let Me=!0,se=null,Ie=!1,Ge=!1;if(F){const ut=pt.get(F);if(ut.__useDefaultFramebuffer!==void 0)st.bindFramebuffer(ee.FRAMEBUFFER,null),Me=!1;else if(ut.__webglFramebuffer===void 0)wt.setupRenderTarget(F);else if(ut.__hasExternalTextures)wt.rebindTextures(F,pt.get(F.texture).__webglTexture,pt.get(F.depthTexture).__webglTexture);else if(F.depthBuffer){const Mt=F.depthTexture;if(ut.__boundDepthTexture!==Mt){if(Mt!==null&&pt.has(Mt)&&(F.width!==Mt.image.width||F.height!==Mt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");wt.setupDepthRenderbuffer(F)}}const vt=F.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&(Ge=!0);const Ct=pt.get(F).__webglFramebuffer;F.isWebGLCubeRenderTarget?(Array.isArray(Ct[ie])?se=Ct[ie][ce]:se=Ct[ie],Ie=!0):F.samples>0&&wt.useMultisampledRTT(F)===!1?se=pt.get(F).__webglMultisampledFramebuffer:Array.isArray(Ct)?se=Ct[ce]:se=Ct,re.copy(F.viewport),de.copy(F.scissor),ve=F.scissorTest}else re.copy(Ce).multiplyScalar(X).floor(),de.copy(Be).multiplyScalar(X).floor(),ve=ft;if(ce!==0&&(se=ht),st.bindFramebuffer(ee.FRAMEBUFFER,se)&&Me&&st.drawBuffers(F,se),st.viewport(re),st.scissor(de),st.setScissorTest(ve),Ie){const ut=pt.get(F.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+ie,ut.__webglTexture,ce)}else if(Ge){const ut=ie;for(let vt=0;vt<F.textures.length;vt++){const Ct=pt.get(F.textures[vt]);ee.framebufferTextureLayer(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0+vt,Ct.__webglTexture,ce,ut)}}else if(F!==null&&ce!==0){const ut=pt.get(F.texture);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ut.__webglTexture,ce)}q=-1},this.readRenderTargetPixels=function(F,ie,ce,Me,se,Ie,Ge,at=0){if(!(F&&F.isWebGLRenderTarget)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=pt.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ge!==void 0&&(ut=ut[Ge]),ut){st.bindFramebuffer(ee.FRAMEBUFFER,ut);try{const vt=F.textures[at],Ct=vt.format,Mt=vt.type;if(!mt.textureFormatReadable(Ct)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!mt.textureTypeReadable(Mt)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=F.width-Me&&ce>=0&&ce<=F.height-se&&(F.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+at),ee.readPixels(ie,ce,Me,se,Ze.convert(Ct),Ze.convert(Mt),Ie))}finally{const vt=L!==null?pt.get(L).__webglFramebuffer:null;st.bindFramebuffer(ee.FRAMEBUFFER,vt)}}},this.readRenderTargetPixelsAsync=async function(F,ie,ce,Me,se,Ie,Ge,at=0){if(!(F&&F.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ut=pt.get(F).__webglFramebuffer;if(F.isWebGLCubeRenderTarget&&Ge!==void 0&&(ut=ut[Ge]),ut)if(ie>=0&&ie<=F.width-Me&&ce>=0&&ce<=F.height-se){st.bindFramebuffer(ee.FRAMEBUFFER,ut);const vt=F.textures[at],Ct=vt.format,Mt=vt.type;if(!mt.textureFormatReadable(Ct))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!mt.textureTypeReadable(Mt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ut=ee.createBuffer();ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Ut),ee.bufferData(ee.PIXEL_PACK_BUFFER,Ie.byteLength,ee.STREAM_READ),F.textures.length>1&&ee.readBuffer(ee.COLOR_ATTACHMENT0+at),ee.readPixels(ie,ce,Me,se,Ze.convert(Ct),Ze.convert(Mt),0);const dn=L!==null?pt.get(L).__webglFramebuffer:null;st.bindFramebuffer(ee.FRAMEBUFFER,dn);const Bt=ee.fenceSync(ee.SYNC_GPU_COMMANDS_COMPLETE,0);return ee.flush(),await zk(ee,Bt,4),ee.bindBuffer(ee.PIXEL_PACK_BUFFER,Ut),ee.getBufferSubData(ee.PIXEL_PACK_BUFFER,0,Ie),ee.deleteBuffer(Ut),ee.deleteSync(Bt),Ie}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(F,ie=null,ce=0){const Me=Math.pow(2,-ce),se=Math.floor(F.image.width*Me),Ie=Math.floor(F.image.height*Me),Ge=ie!==null?ie.x:0,at=ie!==null?ie.y:0;wt.setTexture2D(F,0),ee.copyTexSubImage2D(ee.TEXTURE_2D,ce,0,0,Ge,at,se,Ie),st.unbindTexture()};const it=ee.createFramebuffer(),ot=ee.createFramebuffer();this.copyTextureToTexture=function(F,ie,ce=null,Me=null,se=0,Ie=null){Ie===null&&(se!==0?(Qp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ie=se,se=0):Ie=0);let Ge,at,ut,vt,Ct,Mt,Ut,dn,Bt;const un=F.isCompressedTexture?F.mipmaps[Ie]:F.image;if(ce!==null)Ge=ce.max.x-ce.min.x,at=ce.max.y-ce.min.y,ut=ce.isBox3?ce.max.z-ce.min.z:1,vt=ce.min.x,Ct=ce.min.y,Mt=ce.isBox3?ce.min.z:0;else{const _i=Math.pow(2,-se);Ge=Math.floor(un.width*_i),at=Math.floor(un.height*_i),F.isDataArrayTexture?ut=un.depth:F.isData3DTexture?ut=Math.floor(un.depth*_i):ut=1,vt=0,Ct=0,Mt=0}Me!==null?(Ut=Me.x,dn=Me.y,Bt=Me.z):(Ut=0,dn=0,Bt=0);const An=Ze.convert(ie.format),zt=Ze.convert(ie.type);let Mn;ie.isData3DTexture?(wt.setTexture3D(ie,0),Mn=ee.TEXTURE_3D):ie.isDataArrayTexture||ie.isCompressedArrayTexture?(wt.setTexture2DArray(ie,0),Mn=ee.TEXTURE_2D_ARRAY):(wt.setTexture2D(ie,0),Mn=ee.TEXTURE_2D),ee.pixelStorei(ee.UNPACK_FLIP_Y_WEBGL,ie.flipY),ee.pixelStorei(ee.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),ee.pixelStorei(ee.UNPACK_ALIGNMENT,ie.unpackAlignment);const It=ee.getParameter(ee.UNPACK_ROW_LENGTH),zn=ee.getParameter(ee.UNPACK_IMAGE_HEIGHT),fn=ee.getParameter(ee.UNPACK_SKIP_PIXELS),tn=ee.getParameter(ee.UNPACK_SKIP_ROWS),Ri=ee.getParameter(ee.UNPACK_SKIP_IMAGES);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,un.width),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,un.height),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,vt),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,Ct),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Mt);const On=F.isDataArrayTexture||F.isData3DTexture,Un=ie.isDataArrayTexture||ie.isData3DTexture;if(F.isDepthTexture){const _i=pt.get(F),ia=pt.get(ie),fi=pt.get(_i.__renderTarget),Xc=pt.get(ia.__renderTarget);st.bindFramebuffer(ee.READ_FRAMEBUFFER,fi.__webglFramebuffer),st.bindFramebuffer(ee.DRAW_FRAMEBUFFER,Xc.__webglFramebuffer);for(let ws=0;ws<ut;ws++)On&&(ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,pt.get(F).__webglTexture,se,Mt+ws),ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,pt.get(ie).__webglTexture,Ie,Bt+ws)),ee.blitFramebuffer(vt,Ct,Ge,at,Ut,dn,Ge,at,ee.DEPTH_BUFFER_BIT,ee.NEAREST);st.bindFramebuffer(ee.READ_FRAMEBUFFER,null),st.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else if(se!==0||F.isRenderTargetTexture||pt.has(F)){const _i=pt.get(F),ia=pt.get(ie);st.bindFramebuffer(ee.READ_FRAMEBUFFER,it),st.bindFramebuffer(ee.DRAW_FRAMEBUFFER,ot);for(let fi=0;fi<ut;fi++)On?ee.framebufferTextureLayer(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,_i.__webglTexture,se,Mt+fi):ee.framebufferTexture2D(ee.READ_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,_i.__webglTexture,se),Un?ee.framebufferTextureLayer(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ia.__webglTexture,Ie,Bt+fi):ee.framebufferTexture2D(ee.DRAW_FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_2D,ia.__webglTexture,Ie),se!==0?ee.blitFramebuffer(vt,Ct,Ge,at,Ut,dn,Ge,at,ee.COLOR_BUFFER_BIT,ee.NEAREST):Un?ee.copyTexSubImage3D(Mn,Ie,Ut,dn,Bt+fi,vt,Ct,Ge,at):ee.copyTexSubImage2D(Mn,Ie,Ut,dn,vt,Ct,Ge,at);st.bindFramebuffer(ee.READ_FRAMEBUFFER,null),st.bindFramebuffer(ee.DRAW_FRAMEBUFFER,null)}else Un?F.isDataTexture||F.isData3DTexture?ee.texSubImage3D(Mn,Ie,Ut,dn,Bt,Ge,at,ut,An,zt,un.data):ie.isCompressedArrayTexture?ee.compressedTexSubImage3D(Mn,Ie,Ut,dn,Bt,Ge,at,ut,An,un.data):ee.texSubImage3D(Mn,Ie,Ut,dn,Bt,Ge,at,ut,An,zt,un):F.isDataTexture?ee.texSubImage2D(ee.TEXTURE_2D,Ie,Ut,dn,Ge,at,An,zt,un.data):F.isCompressedTexture?ee.compressedTexSubImage2D(ee.TEXTURE_2D,Ie,Ut,dn,un.width,un.height,An,un.data):ee.texSubImage2D(ee.TEXTURE_2D,Ie,Ut,dn,Ge,at,An,zt,un);ee.pixelStorei(ee.UNPACK_ROW_LENGTH,It),ee.pixelStorei(ee.UNPACK_IMAGE_HEIGHT,zn),ee.pixelStorei(ee.UNPACK_SKIP_PIXELS,fn),ee.pixelStorei(ee.UNPACK_SKIP_ROWS,tn),ee.pixelStorei(ee.UNPACK_SKIP_IMAGES,Ri),Ie===0&&ie.generateMipmaps&&ee.generateMipmap(Mn),st.unbindTexture()},this.initRenderTarget=function(F){pt.get(F).__webglFramebuffer===void 0&&wt.setupRenderTarget(F)},this.initTexture=function(F){F.isCubeTexture?wt.setTextureCube(F,0):F.isData3DTexture?wt.setTexture3D(F,0):F.isDataArrayTexture||F.isCompressedArrayTexture?wt.setTexture2DArray(F,0):wt.setTexture2D(F,0),st.unbindTexture()},this.resetState=function(){H=0,I=0,L=null,st.reset(),ae.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Or}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=kn._getDrawingBufferColorSpace(e),t.unpackColorSpace=kn._getUnpackColorSpace()}}const yK=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:mE,AddEquation:Yu,AddOperation:XL,AdditiveAnimationBlendMode:_E,AdditiveBlending:B2,AgXToneMapping:KL,AlphaFormat:xE,AlwaysCompare:fO,AlwaysDepth:Gb,AlwaysStencilFunc:k2,AmbientLight:s5,AnimationAction:p5,AnimationClip:Wg,AnimationLoader:Aj,AnimationMixer:eX,AnimationObjectGroup:Jj,AnimationUtils:wj,ArcCurve:RO,ArrayCamera:f5,ArrowHelper:EX,AttachedBindMode:F2,Audio:h5,AudioAnalyser:kj,AudioContext:qE,AudioListener:Vj,AudioLoader:Pj,AxesHelper:TX,BackSide:Xs,BasicDepthPacking:nO,BasicShadowMap:EL,BatchedMesh:MO,Bone:RE,BooleanKeyframeTrack:Zh,Box2:cX,Box3:bs,Box3Helper:wX,BoxGeometry:Yh,BoxHelper:SX,BufferAttribute:yi,BufferGeometry:wn,BufferGeometryLoader:u5,ByteType:$1,Cache:zl,Camera:c_,CameraHelper:_X,CanvasTexture:WG,CapsuleGeometry:g_,CatmullRomCurve3:DO,CineonToneMapping:YL,CircleGeometry:v_,ClampToEdgeWrapping:ta,Clock:YE,Color:Lt,ColorKeyframeTrack:jE,ColorManagement:kn,CompressedArrayTexture:jG,CompressedCubeTexture:XG,CompressedTexture:m_,CompressedTextureLoader:Cj,ConeGeometry:yv,ConstantAlphaFactor:kL,ConstantColorFactor:FL,Controls:CX,CubeCamera:yO,CubeReflectionMapping:Xl,CubeRefractionMapping:sf,CubeTexture:mv,CubeTextureLoader:e5,CubeUVReflectionMapping:gm,CubicBezierCurve:UE,CubicBezierCurve3:NO,CubicInterpolant:KO,CullFaceBack:P2,CullFaceFront:ML,CullFaceFrontBack:$7,CullFaceNone:wL,Curve:Qo,CurvePath:OO,CustomBlending:TL,CustomToneMapping:ZL,CylinderGeometry:vv,Cylindrical:lX,Data3DTexture:l_,DataArrayTexture:o_,DataTexture:co,DataTextureLoader:XE,DataUtils:Rh,DecrementStencilOp:hk,DecrementWrapStencilOp:pk,DefaultLoadingManager:$O,DepthFormat:Yp,DepthStencilFormat:Zp,DepthTexture:NE,DetachedBindMode:JL,DirectionalLight:a5,DirectionalLightHelper:bX,DiscreteInterpolant:QO,DodecahedronGeometry:y_,DoubleSide:Wo,DstAlphaFactor:IL,DstColorFactor:BL,DynamicCopyUsage:Rk,DynamicDrawUsage:wk,DynamicReadUsage:Tk,EdgesGeometry:CO,EllipseCurve:x_,EqualCompare:oO,EqualDepth:Xb,EqualStencilFunc:yk,EquirectangularReflectionMapping:Xp,EquirectangularRefractionMapping:Lg,Euler:Br,EventDispatcher:Yl,ExternalTexture:LE,ExtrudeGeometry:b_,FileLoader:Ir,Float16BufferAttribute:SG,Float32BufferAttribute:Ht,FloatType:Wi,Fog:f_,FogExp2:u_,FramebufferTexture:GG,FrontSide:Hc,Frustum:vm,FrustumArray:p_,GLBufferAttribute:sX,GLSL1:Nk,GLSL3:G2,GreaterCompare:lO,GreaterDepth:qb,GreaterEqualCompare:uO,GreaterEqualDepth:Wb,GreaterEqualStencilFunc:Sk,GreaterStencilFunc:bk,GridHelper:yX,Group:Np,HalfFloatType:La,HemisphereLight:t5,HemisphereLightHelper:vX,IcosahedronGeometry:xv,ImageBitmapLoader:Ij,ImageLoader:qg,ImageUtils:pO,IncrementStencilOp:fk,IncrementWrapStencilOp:dk,InstancedBufferAttribute:tm,InstancedBufferGeometry:c5,InstancedInterleavedBuffer:aX,InstancedMesh:wO,Int16BufferAttribute:bG,Int32BufferAttribute:_G,Int8BufferAttribute:vG,IntType:hv,InterleavedBuffer:h_,InterleavedBufferAttribute:kh,Interpolant:Sv,InterpolateDiscrete:Ig,InterpolateLinear:w1,InterpolateSmooth:pb,InterpolationSamplingMode:Uk,InterpolationSamplingType:Ok,InvertStencilOp:mk,KeepStencilOp:Sh,KeyframeTrack:po,LOD:_O,LatheGeometry:__,Layers:$p,LessCompare:rO,LessDepth:jb,LessEqualCompare:SE,LessEqualDepth:Hh,LessEqualStencilFunc:xk,LessStencilFunc:vk,Light:hf,LightProbe:l5,Line:of,Line3:hX,LineBasicMaterial:Ks,LineCurve:IE,LineCurve3:LO,LineDashedMaterial:qO,LineLoop:EO,LineSegments:Zl,LinearFilter:ti,LinearInterpolant:GE,LinearMipMapLinearFilter:H2,LinearMipMapNearestFilter:nk,LinearMipmapLinearFilter:Bl,LinearMipmapNearestFilter:fg,LinearSRGBColorSpace:Ko,LinearToneMapping:WL,LinearTransfer:Bg,Loader:Qs,LoaderUtils:Y2,LoadingManager:C_,LoopOnce:$L,LoopPingPong:tO,LoopRepeat:eO,MOUSE:bh,Material:Ss,MaterialLoader:R_,MathUtils:tG,Matrix2:$E,Matrix3:Sn,Matrix4:cn,MaxEquation:DL,Mesh:na,MeshBasicMaterial:jc,MeshDepthMaterial:FE,MeshDistanceMaterial:HE,MeshLambertMaterial:XO,MeshMatcapMaterial:WO,MeshNormalMaterial:jO,MeshPhongMaterial:kO,MeshPhysicalMaterial:HO,MeshStandardMaterial:VE,MeshToonMaterial:GO,MinEquation:RL,MirroredRepeatWrapping:Ug,MixOperation:jL,MultiplyBlending:V2,MultiplyOperation:fv,NearestFilter:is,NearestMipMapLinearFilter:tk,NearestMipMapNearestFilter:ek,NearestMipmapLinearFilter:Rp,NearestMipmapNearestFilter:gE,NeutralToneMapping:QL,NeverCompare:sO,NeverDepth:kb,NeverStencilFunc:gk,NoBlending:Zo,NoColorSpace:Lc,NoToneMapping:kl,NormalAnimationBlendMode:r_,NormalBlending:Bh,NotEqualCompare:cO,NotEqualDepth:Yb,NotEqualStencilFunc:_k,NumberKeyframeTrack:jg,Object3D:qn,ObjectLoader:Oj,ObjectSpaceNormalMap:aO,OctahedronGeometry:bv,OneFactor:LL,OneMinusConstantAlphaFactor:GL,OneMinusConstantColorFactor:HL,OneMinusDstAlphaFactor:PL,OneMinusDstColorFactor:zL,OneMinusSrcAlphaFactor:Hb,OneMinusSrcColorFactor:UL,OrthographicCamera:Bc,PCFShadowMap:J1,PCFSoftShadowMap:ug,PMREMGenerator:J2,Path:A1,PerspectiveCamera:fa,Plane:Nc,PlaneGeometry:ff,PlaneHelper:MX,PointLight:i5,PointLightHelper:mX,Points:TO,PointsMaterial:DE,PolarGridHelper:xX,PolyhedronGeometry:uf,PositionalAudio:Hj,PropertyBinding:Xn,PropertyMixer:d5,QuadraticBezierCurve:PE,QuadraticBezierCurve3:BE,Quaternion:xs,QuaternionKeyframeTrack:wv,QuaternionLinearInterpolant:JO,RED_GREEN_RGTC2_Format:_1,RED_RGTC1_Format:x1,REVISION:uv,RGBADepthPacking:iO,RGBAFormat:ha,RGBAIntegerFormat:s_,RGBA_ASTC_10x10_Format:d1,RGBA_ASTC_10x5_Format:u1,RGBA_ASTC_10x6_Format:f1,RGBA_ASTC_10x8_Format:h1,RGBA_ASTC_12x10_Format:p1,RGBA_ASTC_12x12_Format:m1,RGBA_ASTC_4x4_Format:n1,RGBA_ASTC_5x4_Format:i1,RGBA_ASTC_5x5_Format:a1,RGBA_ASTC_6x5_Format:s1,RGBA_ASTC_6x6_Format:r1,RGBA_ASTC_8x5_Format:o1,RGBA_ASTC_8x6_Format:l1,RGBA_ASTC_8x8_Format:c1,RGBA_BPTC_Format:g1,RGBA_ETC2_EAC_Format:t1,RGBA_PVRTC_2BPPV1_Format:Jb,RGBA_PVRTC_4BPPV1_Format:Qb,RGBA_S3TC_DXT1_Format:dg,RGBA_S3TC_DXT3_Format:pg,RGBA_S3TC_DXT5_Format:mg,RGBDepthPacking:ok,RGBFormat:bE,RGBIntegerFormat:ik,RGB_BPTC_SIGNED_Format:v1,RGB_BPTC_UNSIGNED_Format:y1,RGB_ETC1_Format:$b,RGB_ETC2_Format:e1,RGB_PVRTC_2BPPV1_Format:Kb,RGB_PVRTC_4BPPV1_Format:Zb,RGB_S3TC_DXT1_Format:hg,RGDepthPacking:lk,RGFormat:i_,RGIntegerFormat:a_,RawShaderMaterial:FO,Ray:qh,Raycaster:JE,RectAreaLight:r5,RedFormat:dv,RedIntegerFormat:pv,ReinhardToneMapping:qL,RenderTarget:ME,RenderTarget3D:tX,RepeatWrapping:Og,ReplaceStencilOp:uk,ReverseSubtractEquation:CL,RingGeometry:S_,SIGNED_RED_GREEN_RGTC2_Format:S1,SIGNED_RED_RGTC1_Format:b1,SRGBColorSpace:ts,SRGBTransfer:ui,Scene:gv,ShaderChunk:Rn,ShaderLib:Xo,ShaderMaterial:Ys,ShadowMaterial:VO,Shape:Vh,ShapeGeometry:w_,ShapePath:AX,ShapeUtils:qo,ShortType:e_,Skeleton:d_,SkeletonHelper:pX,SkinnedMesh:SO,Source:Qu,Sphere:as,SphereGeometry:_v,Spherical:K2,SphericalHarmonics3:o5,SplineCurve:zE,SpotLight:n5,SpotLightHelper:dX,Sprite:bO,SpriteMaterial:CE,SrcAlphaFactor:Fb,SrcAlphaSaturateFactor:VL,SrcColorFactor:OL,StaticCopyUsage:Ck,StaticDrawUsage:zg,StaticReadUsage:Ek,StereoCamera:Bj,StreamCopyUsage:Dk,StreamDrawUsage:Mk,StreamReadUsage:Ak,StringKeyframeTrack:Kh,SubtractEquation:AL,SubtractiveBlending:z2,TOUCH:_h,TangentSpaceNormalMap:cf,TetrahedronGeometry:M_,Texture:vi,TextureLoader:Rj,TextureUtils:OX,Timer:rX,TimestampQuery:Lk,TorusGeometry:E_,TorusKnotGeometry:T_,Triangle:pr,TriangleFanDrawMode:rk,TriangleStripDrawMode:sk,TrianglesDrawMode:ak,TubeGeometry:A_,UVMapping:af,Uint16BufferAttribute:EE,Uint32BufferAttribute:TE,Uint8BufferAttribute:yG,Uint8ClampedBufferAttribute:xG,Uniform:QE,UniformsGroup:iX,UniformsLib:Tt,UniformsUtils:vO,UnsignedByteType:qs,UnsignedInt101111Type:yE,UnsignedInt248Type:qp,UnsignedInt5999Type:vE,UnsignedIntType:Wl,UnsignedShort4444Type:t_,UnsignedShort5551Type:n_,UnsignedShortType:Wp,VSMShadowMap:jo,Vector2:qe,Vector3:te,Vector4:Wn,VectorKeyframeTrack:Xg,VideoFrameTexture:kG,VideoTexture:AO,WebGL3DRenderTarget:rG,WebGLArrayRenderTarget:sG,WebGLCoordinateSystem:Or,WebGLCubeRenderTarget:AE,WebGLRenderTarget:ho,WebGLRenderer:eT,WebGLUtils:_5,WebGPUCoordinateSystem:Kp,WebXRController:mb,WireframeGeometry:zO,WrapAroundEnding:Pg,ZeroCurvatureEnding:Ah,ZeroFactor:NL,ZeroSlopeEnding:Ch,ZeroStencilOp:ck,createCanvasElement:dO,error:hn,getConsoleFunction:Bk,log:Fg,setConsoleFunction:Pk,warn:At,warnOnce:Qp},Symbol.toStringTag,{value:"Module"}));var Pw={exports:{}},Bw={},zw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function xK(){if(OR)return Vw;OR=1;var n=sm();function e(v,x){return v===x&&(v!==0||1/v===1/x)||v!==v&&x!==x}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,r=n.useLayoutEffect,l=n.useDebugValue;function u(v,x){var b=x(),M=i({inst:{value:b,getSnapshot:x}}),C=M[0].inst,E=M[1];return r(function(){C.value=b,C.getSnapshot=x,h(C)&&E({inst:C})},[v,b,x]),a(function(){return h(C)&&E({inst:C}),v(function(){h(C)&&E({inst:C})})},[v]),l(b),b}function h(v){var x=v.getSnapshot;v=v.value;try{var b=x();return!t(v,b)}catch{return!0}}function p(v,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return Vw.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:m,Vw}var UR;function bK(){return UR||(UR=1,zw.exports=xK()),zw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IR;function _K(){if(IR)return Bw;IR=1;var n=sm(),e=bK();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var i=typeof Object.is=="function"?Object.is:t,a=e.useSyncExternalStore,r=n.useRef,l=n.useEffect,u=n.useMemo,h=n.useDebugValue;return Bw.useSyncExternalStoreWithSelector=function(p,m,v,x,b){var M=r(null);if(M.current===null){var C={hasValue:!1,value:null};M.current=C}else C=M.current;M=u(function(){function w(U){if(!R){if(R=!0,D=U,U=x(U),b!==void 0&&C.hasValue){var V=C.value;if(b(V,U))return O=V}return O=U}if(V=O,i(D,U))return V;var H=x(U);return b!==void 0&&b(V,H)?(D=U,V):(D=U,O=H)}var R=!1,D,O,P=v===void 0?null:v;return[function(){return w(m())},P===null?void 0:function(){return w(P())}]},[m,v,x,b]);var E=a(p,M[0],M[1]);return l(function(){C.hasValue=!0,C.value=E},[E]),h(E),E},Bw}var PR;function SK(){return PR||(PR=1,Pw.exports=_K()),Pw.exports}var wK=SK();const MK=oM(wK),BR=n=>{let e;const t=new Set,i=(p,m)=>{const v=typeof p=="function"?p(e):p;if(!Object.is(v,e)){const x=e;e=m??(typeof v!="object"||v===null)?v:Object.assign({},e,v),t.forEach(b=>b(e,x))}},a=()=>e,u={setState:i,getState:a,getInitialState:()=>h,subscribe:p=>(t.add(p),()=>t.delete(p))},h=e=n(i,a,u);return u},EK=n=>n?BR(n):BR,{useSyncExternalStoreWithSelector:TK}=MK,AK=n=>n;function CK(n,e=AK,t){const i=TK(n.subscribe,n.getState,n.getInitialState,e,t);return ns.useDebugValue(i),i}const zR=(n,e)=>{const t=EK(n),i=(a,r=e)=>CK(t,a,r);return Object.assign(i,t),i},S5=(n,e)=>n?zR(n,e):zR,RK=n=>typeof n=="object"&&typeof n.then=="function",Nh=[];function w5(n,e,t=(i,a)=>i===a){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let a=0;a<i;a++)if(!t(n[a],e[a]))return!1;return!0}function M5(n,e=null,t=!1,i={}){e===null&&(e=[n]);for(const r of Nh)if(w5(e,r.keys,r.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return i.lifespan&&i.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,i.lifespan)),r.response;if(!t)throw r.promise}const a={keys:e,equal:i.equal,remove:()=>{const r=Nh.indexOf(a);r!==-1&&Nh.splice(r,1)},promise:(RK(n)?n:n(...e)).then(r=>{a.response=r,i.lifespan&&i.lifespan>0&&(a.timeout=setTimeout(a.remove,i.lifespan))}).catch(r=>a.error=r)};if(Nh.push(a),!t)throw a.promise}const DK=(n,e,t)=>M5(n,e,!1,t),NK=(n,e,t)=>void M5(n,e,!0,t),LK=n=>{if(n===void 0||n.length===0)Nh.splice(0,Nh.length);else{const e=Nh.find(t=>w5(n,t.keys,t.equal));e&&e.remove()}};var Fw={exports:{}},Hw={exports:{}},kw={exports:{}},Gw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VR;function OK(){return VR||(VR=1,function(n){function e(G,K){var $=G.length;G.push(K);e:for(;0<$;){var pe=$-1>>>1,X=G[pe];if(0<a(X,K))G[pe]=K,G[$]=X,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],$=G.pop();if($!==K){G[0]=$;e:for(var pe=0,X=G.length,fe=X>>>1;pe<fe;){var xe=2*(pe+1)-1,Ce=G[xe],Be=xe+1,ft=G[Be];if(0>a(Ce,$))Be<X&&0>a(ft,Ce)?(G[pe]=ft,G[Be]=$,pe=Be):(G[pe]=Ce,G[xe]=$,pe=xe);else if(Be<X&&0>a(ft,$))G[pe]=ft,G[Be]=$,pe=Be;else break e}}return K}function a(G,K){var $=G.sortIndex-K.sortIndex;return $!==0?$:G.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,x=3,b=!1,M=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=G)i(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(p)}}function O(G){if(C=!1,D(G),!M)if(t(h)!==null)M=!0,de();else{var K=t(p);K!==null&&ve(O,K.startTime-G)}}var P=!1,U=-1,V=5,H=-1;function I(){return!(n.unstable_now()-H<V)}function L(){if(P){var G=n.unstable_now();H=G;var K=!0;try{e:{M=!1,C&&(C=!1,w(U),U=-1),b=!0;var $=x;try{t:{for(D(G),v=t(h);v!==null&&!(v.expirationTime>G&&I());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,x=v.priorityLevel;var X=pe(v.expirationTime<=G);if(G=n.unstable_now(),typeof X=="function"){v.callback=X,D(G),K=!0;break t}v===t(h)&&i(h),D(G)}else i(h);v=t(h)}if(v!==null)K=!0;else{var fe=t(p);fe!==null&&ve(O,fe.startTime-G),K=!1}}break e}finally{v=null,x=$,b=!1}K=void 0}}finally{K?q():P=!1}}}var q;if(typeof R=="function")q=function(){R(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,re=J.port2;J.port1.onmessage=L,q=function(){re.postMessage(null)}}else q=function(){E(L,0)};function de(){P||(P=!0,q())}function ve(G,K){U=E(function(){G(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){M||b||(M=!0,de())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var $=x;x=K;try{return G()}finally{x=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=x;x=G;try{return K()}finally{x=$}},n.unstable_scheduleCallback=function(G,K,$){var pe=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,G={id:m++,callback:K,priorityLevel:G,startTime:$,expirationTime:X,sortIndex:-1},$>pe?(G.sortIndex=$,e(p,G),t(h)===null&&G===t(p)&&(C?(w(U),U=-1):C=!0,ve(O,$-pe))):(G.sortIndex=X,e(h,G),M||b||(M=!0,de())),G},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(G){var K=x;return function(){var $=x;x=K;try{return G.apply(this,arguments)}finally{x=$}}}}(Gw)),Gw}var FR;function UK(){return FR||(FR=1,kw.exports=OK()),kw.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR;function IK(){return HR||(HR=1,function(n){n.exports=function(e){function t(c,f,y,S){return new Ym(c,f,y,S)}function i(){}function a(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)f+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return c===null||typeof c!="object"?null:(c=Ao&&c[Ao]||c["@@iterator"],typeof c=="function"?c:null)}function l(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Jm?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case dl:return"Fragment";case nr:return"Portal";case bd:return"Profiler";case Vf:return"StrictMode";case _d:return"Suspense";case fu:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case xr:return(c.displayName||"Context")+".Provider";case Km:return(c._context.displayName||"Context")+".Consumer";case Hf:var f=c.render;return c=c.displayName,c||(c=f.displayName||f.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Sd:return f=c.displayName||null,f!==null?f:l(c.type)||"Memo";case ir:f=c._payload,c=c._init;try{return l(c(f))}catch{}}return null}function u(c){if(jr===void 0)try{throw Error()}catch(y){var f=y.stack.trim().match(/\n( *(at )?)/);jr=f&&f[1]||"",Co=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+c+Co}function h(c,f){if(!c||ec)return"";ec=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(mn){var Dt=mn}Reflect.construct(c,[],Et)}else{try{Et.call()}catch(mn){Dt=mn}c.call(Et.prototype)}}else{try{throw Error()}catch(mn){Dt=mn}(Et=c())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(mn){if(mn&&Dt&&typeof mn.stack=="string")return[mn.stack,Dt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=S.DetermineComponentFrameRoot(),Y=N[0],ue=N[1];if(Y&&ue){var Se=Y.split(`
`),Xe=ue.split(`
`);for(A=S=0;S<Se.length&&!Se[S].includes("DetermineComponentFrameRoot");)S++;for(;A<Xe.length&&!Xe[A].includes("DetermineComponentFrameRoot");)A++;if(S===Se.length||A===Xe.length)for(S=Se.length-1,A=Xe.length-1;1<=S&&0<=A&&Se[S]!==Xe[A];)A--;for(;1<=S&&0<=A;S--,A--)if(Se[S]!==Xe[A]){if(S!==1||A!==1)do if(S--,A--,0>A||Se[S]!==Xe[A]){var gt=`
`+Se[S].replace(" at new "," at ");return c.displayName&&gt.includes("<anonymous>")&&(gt=gt.replace("<anonymous>",c.displayName)),gt}while(1<=S&&0<=A);break}}}finally{ec=!1,Error.prepareStackTrace=y}return(y=c?c.displayName||c.name:"")?u(y):""}function p(c){switch(c.tag){case 26:case 27:case 5:return u(c.type);case 16:return u("Lazy");case 13:return u("Suspense");case 19:return u("SuspenseList");case 0:case 15:return c=h(c.type,!1),c;case 11:return c=h(c.type.render,!1),c;case 1:return c=h(c.type,!0),c;default:return""}}function m(c){try{var f="";do f+=p(c),c=c.return;while(c);return f}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}function v(c){var f=c,y=c;if(c.alternate)for(;f.return;)f=f.return;else{c=f;do f=c,(f.flags&4098)!==0&&(y=f.return),c=f.return;while(c)}return f.tag===3?y:null}function x(c){if(v(c)!==c)throw Error(a(188))}function b(c){var f=c.alternate;if(!f){if(f=v(c),f===null)throw Error(a(188));return f!==c?null:c}for(var y=c,S=f;;){var A=y.return;if(A===null)break;var N=A.alternate;if(N===null){if(S=A.return,S!==null){y=S;continue}break}if(A.child===N.child){for(N=A.child;N;){if(N===y)return x(A),c;if(N===S)return x(A),f;N=N.sibling}throw Error(a(188))}if(y.return!==S.return)y=A,S=N;else{for(var Y=!1,ue=A.child;ue;){if(ue===y){Y=!0,y=A,S=N;break}if(ue===S){Y=!0,S=A,y=N;break}ue=ue.sibling}if(!Y){for(ue=N.child;ue;){if(ue===y){Y=!0,y=N,S=A;break}if(ue===S){Y=!0,S=N,y=A;break}ue=ue.sibling}if(!Y)throw Error(a(189))}}if(y.alternate!==S)throw Error(a(190))}if(y.tag!==3)throw Error(a(188));return y.stateNode.current===y?c:f}function M(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(f=M(c),f!==null)return f;c=c.sibling}return null}function C(c){var f=c.tag;if(f===5||f===26||f===27||f===6)return c;for(c=c.child;c!==null;){if(c.tag!==4&&(f=C(c),f!==null))return f;c=c.sibling}return null}function E(c){return{current:c}}function w(c){0>Lo||(c.current=Hi[Lo],Hi[Lo]=null,Lo--)}function R(c,f){Lo++,Hi[Lo]=c.current,c.current=f}function D(c){return c>>>=0,c===0?32:31-(Dy(c)/Ny|0)|0}function O(c){var f=c&42;if(f!==0)return f;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function P(c,f){var y=c.pendingLanes;if(y===0)return 0;var S=0,A=c.suspendedLanes,N=c.pingedLanes,Y=c.warmLanes;c=c.finishedLanes!==0;var ue=y&134217727;return ue!==0?(y=ue&~A,y!==0?S=O(y):(N&=ue,N!==0?S=O(N):c||(Y=ue&~Y,Y!==0&&(S=O(Y))))):(ue=y&~A,ue!==0?S=O(ue):N!==0?S=O(N):c||(Y=y&~Y,Y!==0&&(S=O(Y)))),S===0?0:f!==0&&f!==S&&(f&A)===0&&(A=S&-S,Y=f&-f,A>=Y||A===32&&(Y&4194176)!==0)?f:S}function U(c,f){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&f)===0}function V(c,f){switch(c){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var c=Wr;return Wr<<=1,(Wr&4194176)===0&&(Wr=128),c}function I(){var c=ic;return ic<<=1,(ic&62914560)===0&&(ic=4194304),c}function L(c){for(var f=[],y=0;31>y;y++)f.push(c);return f}function q(c,f){c.pendingLanes|=f,f!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function J(c,f,y,S,A,N){var Y=c.pendingLanes;c.pendingLanes=y,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=y,c.entangledLanes&=y,c.errorRecoveryDisabledLanes&=y,c.shellSuspendCounter=0;var ue=c.entanglements,Se=c.expirationTimes,Xe=c.hiddenUpdates;for(y=Y&~y;0<y;){var gt=31-Ka(y),Et=1<<gt;ue[gt]=0,Se[gt]=-1;var Dt=Xe[gt];if(Dt!==null)for(Xe[gt]=null,gt=0;gt<Dt.length;gt++){var mn=Dt[gt];mn!==null&&(mn.lane&=-536870913)}y&=~Et}S!==0&&re(c,S,0),N!==0&&A===0&&c.tag!==0&&(c.suspendedLanes|=N&~(Y&~f))}function re(c,f,y){c.pendingLanes|=f,c.suspendedLanes&=~f;var S=31-Ka(f);c.entangledLanes|=f,c.entanglements[S]=c.entanglements[S]|1073741824|y&4194218}function de(c,f){var y=c.entangledLanes|=f;for(c=c.entanglements;y;){var S=31-Ka(y),A=1<<S;A&f|c[S]&f&&(c[S]|=f),y&=~A}}function ve(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function G(c){if(fs&&typeof fs.onCommitFiberRoot=="function")try{fs.onCommitFiberRoot(ki,c,void 0,(c.current.flags&128)===128)}catch{}}function K(c){if(typeof Uy=="function"&&ga(c),fs&&typeof fs.setStrictMode=="function")try{fs.setStrictMode(ki,c)}catch{}}function $(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}function pe(c,f){if(typeof c=="object"&&c!==null){var y=v0.get(c);return y!==void 0?y:(f={value:c,source:f,stack:m(f)},v0.set(c,f),f)}return{value:c,source:f,stack:m(f)}}function X(c,f){ac[sc++]=bu,ac[sc++]=rc,rc=c,bu=f}function fe(c,f,y){Cs[Rs++]=Sr,Cs[Rs++]=wr,Cs[Rs++]=bl,bl=c;var S=Sr;c=wr;var A=32-Ka(S)-1;S&=~(1<<A),y+=1;var N=32-Ka(f)+A;if(30<N){var Y=A-A%5;N=(S&(1<<Y)-1).toString(32),S>>=Y,A-=Y,Sr=1<<32-Ka(f)+A|y<<A|S,wr=N+c}else Sr=1<<N|y<<A|S,wr=c}function xe(c){c.return!==null&&(X(c,1),fe(c,1,0))}function Ce(c){for(;c===rc;)rc=ac[--sc],ac[sc]=null,bu=ac[--sc],ac[sc]=null;for(;c===bl;)bl=Cs[--Rs],Cs[Rs]=null,wr=Cs[--Rs],Cs[Rs]=null,Sr=Cs[--Rs],Cs[Rs]=null}function Be(c,f){R(qr,f),R(_u,c),R(sa,null),c=Zv(f),w(sa),R(sa,c)}function ft(){w(sa),w(_u),w(qr)}function ge(c){c.memoizedState!==null&&R(oc,c);var f=sa.current,y=mu(f,c.type);f!==y&&(R(_u,c),R(sa,y))}function ze(c){_u.current===c&&(w(sa),w(_u)),oc.current===c&&(w(oc),Ya?br._currentValue=ml:br._currentValue2=ml)}function Ke(c){var f=Error(a(418,""));throw kt(pe(f,c)),Kf}function St(c,f){if(!Ca)throw Error(a(175));by(c.stateNode,c.type,c.memoizedProps,f,c)||Ke(c)}function Rt(c){for(Ra=c.return;Ra;)switch(Ra.tag){case 3:case 27:va=!0;return;case 5:case 13:va=!1;return;default:Ra=Ra.return}}function Gt(c){if(!Ca||c!==Ra)return!1;if(!Vn)return Rt(c),Vn=!0,!1;var f=!1;if(ri?c.tag!==3&&c.tag!==27&&(c.tag!==5||Nd(c.type)&&!xn(c.type,c.memoizedProps))&&(f=!0):c.tag!==3&&(c.tag!==5||Nd(c.type)&&!xn(c.type,c.memoizedProps))&&(f=!0),f&&Da&&Ke(c),Rt(c),c.tag===13){if(!Ca)throw Error(a(316));if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));Da=Sy(c)}else Da=Ra?d0(c.stateNode):null;return!0}function Qt(){Ca&&(Da=Ra=null,Vn=!1)}function kt(c){rr===null?rr=[c]:rr.push(c)}function Je(){for(var c=lc,f=Mr=lc=0;f<c;){var y=or[f];or[f++]=null;var S=or[f];or[f++]=null;var A=or[f];or[f++]=null;var N=or[f];if(or[f++]=null,S!==null&&A!==null){var Y=S.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),S.pending=A}N!==0&&mt(y,A,N)}}function ee(c,f,y,S){or[lc++]=c,or[lc++]=f,or[lc++]=y,or[lc++]=S,Mr|=S,c.lanes|=S,c=c.alternate,c!==null&&(c.lanes|=S)}function nt(c,f,y,S){return ee(c,f,y,S),st(c)}function $e(c,f){return ee(c,null,null,f),st(c)}function mt(c,f,y){c.lanes|=y;var S=c.alternate;S!==null&&(S.lanes|=y);for(var A=!1,N=c.return;N!==null;)N.childLanes|=y,S=N.alternate,S!==null&&(S.childLanes|=y),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(A=!0)),c=N,N=N.return;A&&f!==null&&c.tag===3&&(N=c.stateNode,A=31-Ka(y),N=N.hiddenUpdates,c=N[A],c===null?N[A]=[f]:c.push(f),f.lane=y|536870912)}function st(c){if(50<Du)throw Du=0,Wd=null,Error(a(185));for(var f=c.return;f!==null;)c=f,f=c.return;return c.tag===3?c.stateNode:null}function bt(c){c!==Oo&&c.next===null&&(Oo===null?Qf=Oo=c:Oo=Oo.next=c),hi=!0,cc||(cc=!0,Ve(wt))}function pt(c,f){if(!y0&&hi){y0=!0;do for(var y=!1,S=Qf;S!==null;){if(c!==0){var A=S.pendingLanes;if(A===0)var N=0;else{var Y=S.suspendedLanes,ue=S.pingedLanes;N=(1<<31-Ka(42|c)+1)-1,N&=A&~(Y&~ue),N=N&201326677?N&201326677|1:N?N|2:0}N!==0&&(y=!0,_e(S,N))}else N=In,N=P(S,S===Kn?N:0),(N&3)===0||U(S,N)||(y=!0,_e(S,N));S=S.next}while(y);y0=!1}}function wt(){hi=cc=!1;var c=0;Su!==0&&($v()&&(c=Su),Su=0);for(var f=sr(),y=null,S=Qf;S!==null;){var A=S.next,N=Q(S,f);N===0?(S.next=null,y===null?Qf=A:y.next=A,A===null&&(Oo=y)):(y=S,(c!==0||(N&3)!==0)&&(hi=!0)),S=A}pt(c)}function Q(c,f){for(var y=c.suspendedLanes,S=c.pingedLanes,A=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var Y=31-Ka(N),ue=1<<Y,Se=A[Y];Se===-1?((ue&y)===0||(ue&S)!==0)&&(A[Y]=V(ue,f)):Se<=f&&(c.expiredLanes|=ue),N&=~ue}if(f=Kn,y=In,y=P(c,c===f?y:0),S=c.callbackNode,y===0||c===f&&ai===2||c.cancelPendingCommit!==null)return S!==null&&S!==null&&Id(S),c.callbackNode=null,c.callbackPriority=0;if((y&3)===0||U(c,y)){if(f=y&-y,f===c.callbackPriority)return f;switch(S!==null&&Id(S),ve(y)){case 2:case 8:y=Oy;break;case 32:y=zd;break;case 268435456:y=X_;break;default:y=zd}return S=j.bind(null,c),y=Zf(y,S),c.callbackPriority=f,c.callbackNode=y,f}return S!==null&&S!==null&&Id(S),c.callbackPriority=2,c.callbackNode=null,2}function j(c,f){var y=c.callbackNode;if(yr()&&c.callbackNode!==y)return null;var S=In;return S=P(c,c===Kn?S:0),S===0?null:(ll(c,S,f),Q(c,sr()),c.callbackNode!=null&&c.callbackNode===y?j.bind(null,c):null)}function _e(c,f){if(yr())return null;ll(c,f,!0)}function Ve(c){i0?No(function(){(Hn&6)!==0?Zf(Bd,c):c()}):Zf(Bd,c)}function ke(){return Su===0&&(Su=H()),Su}function Oe(c,f){if(wu===null){var y=wu=[];uc=0,Ds=ke(),fc={status:"pending",value:void 0,then:function(S){y.push(S)}}}return uc++,f.then(xt,xt),f}function xt(){if(--uc===0&&wu!==null){fc!==null&&(fc.status="fulfilled");var c=wu;wu=null,Ds=0,fc=null;for(var f=0;f<c.length;f++)(0,c[f])()}}function yt(c,f){var y=[],S={status:"pending",value:null,reason:null,then:function(A){y.push(A)}};return c.then(function(){S.status="fulfilled",S.value=f;for(var A=0;A<y.length;A++)(0,y[A])(f)},function(A){for(S.status="rejected",S.reason=A,A=0;A<y.length;A++)(0,y[A])(void 0)}),S}function Vt(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nt(c,f){c=c.updateQueue,f.updateQueue===c&&(f.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function je(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function et(c,f,y){var S=c.updateQueue;if(S===null)return null;if(S=S.shared,(Hn&2)!==0){var A=S.pending;return A===null?f.next=f:(f.next=A.next,A.next=f),S.pending=f,f=st(c),mt(c,null,y),f}return ee(c,S,f,y),st(c)}function Ot(c,f,y){if(f=f.updateQueue,f!==null&&(f=f.shared,(y&4194176)!==0)){var S=f.lanes;S&=c.pendingLanes,y|=S,f.lanes=y,de(c,y)}}function oe(c,f){var y=c.updateQueue,S=c.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var A=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var Y={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};N===null?A=N=Y:N=N.next=Y,y=y.next}while(y!==null);N===null?A=N=f:N=N.next=f}else A=N=f;y={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:N,shared:S.shared,callbacks:S.callbacks},c.updateQueue=y;return}c=y.lastBaseUpdate,c===null?y.firstBaseUpdate=f:c.next=f,y.lastBaseUpdate=f}function we(){if(hc){var c=fc;if(c!==null)throw c}}function Ze(c,f,y,S){hc=!1;var A=c.updateQueue;Uo=!1;var N=A.firstBaseUpdate,Y=A.lastBaseUpdate,ue=A.shared.pending;if(ue!==null){A.shared.pending=null;var Se=ue,Xe=Se.next;Se.next=null,Y===null?N=Xe:Y.next=Xe,Y=Se;var gt=c.alternate;gt!==null&&(gt=gt.updateQueue,ue=gt.lastBaseUpdate,ue!==Y&&(ue===null?gt.firstBaseUpdate=Xe:ue.next=Xe,gt.lastBaseUpdate=Se))}if(N!==null){var Et=A.baseState;Y=0,gt=Xe=Se=null,ue=N;do{var Dt=ue.lane&-536870913,mn=Dt!==ue.lane;if(mn?(In&Dt)===Dt:(S&Dt)===Dt){Dt!==0&&Dt===Ds&&(hc=!0),gt!==null&&(gt=gt.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var zs=c,Rl=ue;Dt=f;var Dl=y;switch(Rl.tag){case 1:if(zs=Rl.payload,typeof zs=="function"){Et=zs.call(Dl,Et,Dt);break e}Et=zs;break e;case 3:zs.flags=zs.flags&-65537|128;case 0:if(zs=Rl.payload,Dt=typeof zs=="function"?zs.call(Dl,Et,Dt):zs,Dt==null)break e;Et=xd({},Et,Dt);break e;case 2:Uo=!0}}Dt=ue.callback,Dt!==null&&(c.flags|=64,mn&&(c.flags|=8192),mn=A.callbacks,mn===null?A.callbacks=[Dt]:mn.push(Dt))}else mn={lane:Dt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},gt===null?(Xe=gt=mn,Se=Et):gt=gt.next=mn,Y|=Dt;if(ue=ue.next,ue===null){if(ue=A.shared.pending,ue===null)break;mn=ue,ue=mn.next,mn.next=null,A.lastBaseUpdate=mn,A.shared.pending=null}}while(!0);gt===null&&(Se=Et),A.baseState=Se,A.firstBaseUpdate=Xe,A.lastBaseUpdate=gt,N===null&&(A.shared.lanes=0),Ps|=Y,c.lanes=Y,c.memoizedState=Et}}function ae(c,f){if(typeof c!="function")throw Error(a(191,c));c.call(f)}function Ee(c,f){var y=c.callbacks;if(y!==null)for(c.callbacks=null,c=0;c<y.length;c++)ae(y[c],f)}function rt(c,f){if(hs(c,f))return!0;if(typeof c!="object"||c===null||typeof f!="object"||f===null)return!1;var y=Object.keys(c),S=Object.keys(f);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var A=y[S];if(!Yr.call(f,A)||!hs(c[A],f[A]))return!1}return!0}function ct(c){return c=c.status,c==="fulfilled"||c==="rejected"}function lt(){}function Ye(c,f,y){switch(y=c[y],y===void 0?c.push(f):y!==f&&(f.then(lt,lt),f=y),f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===Mu?Error(a(483)):c;default:if(typeof f.status=="string")f.then(lt,lt);else{if(c=Kn,c!==null&&100<c.shellSuspendCounter)throw Error(a(482));c=f,c.status="pending",c.then(function(S){if(f.status==="pending"){var A=f;A.status="fulfilled",A.value=S}},function(S){if(f.status==="pending"){var A=f;A.status="rejected",A.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw c=f.reason,c===Mu?Error(a(483)):c}throw _l=f,Mu}}function _t(){if(_l===null)throw Error(a(459));var c=_l;return _l=null,c}function Pt(c){var f=wl;return wl+=1,Sl===null&&(Sl=[]),Ye(Sl,c,f)}function bn(c,f){f=f.props.ref,c.ref=f!==void 0?f:null}function vn(c,f){throw f.$$typeof===z_?Error(a(525)):(c=Object.prototype.toString.call(f),Error(a(31,c==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":c)))}function Pi(c){var f=c._init;return f(c._payload)}function ni(c){function f(De,me){if(c){var Pe=De.deletions;Pe===null?(De.deletions=[me],De.flags|=16):Pe.push(me)}}function y(De,me){if(!c)return null;for(;me!==null;)f(De,me),me=me.sibling;return null}function S(De){for(var me=new Map;De!==null;)De.key!==null?me.set(De.key,De):me.set(De.index,De),De=De.sibling;return me}function A(De,me){return De=tr(De,me),De.index=0,De.sibling=null,De}function N(De,me,Pe){return De.index=Pe,c?(Pe=De.alternate,Pe!==null?(Pe=Pe.index,Pe<me?(De.flags|=33554434,me):Pe):(De.flags|=33554434,me)):(De.flags|=1048576,me)}function Y(De){return c&&De.alternate===null&&(De.flags|=33554434),De}function ue(De,me,Pe,dt){return me===null||me.tag!==6?(me=vd(Pe,De.mode,dt),me.return=De,me):(me=A(me,Pe),me.return=De,me)}function Se(De,me,Pe,dt){var jt=Pe.type;return jt===dl?gt(De,me,Pe.props.children,dt,Pe.key):me!==null&&(me.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ir&&Pi(jt)===me.type)?(me=A(me,Pe.props),bn(me,Pe),me.return=De,me):(me=Gr(Pe.type,Pe.key,Pe.props,null,De.mode,dt),bn(me,Pe),me.return=De,me)}function Xe(De,me,Pe,dt){return me===null||me.tag!==4||me.stateNode.containerInfo!==Pe.containerInfo||me.stateNode.implementation!==Pe.implementation?(me=Zm(Pe,De.mode,dt),me.return=De,me):(me=A(me,Pe.children||[]),me.return=De,me)}function gt(De,me,Pe,dt,jt){return me===null||me.tag!==7?(me=Di(Pe,De.mode,dt,jt),me.return=De,me):(me=A(me,Pe),me.return=De,me)}function Et(De,me,Pe){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=vd(""+me,De.mode,Pe),me.return=De,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case zf:return Pe=Gr(me.type,me.key,me.props,null,De.mode,Pe),bn(Pe,me),Pe.return=De,Pe;case nr:return me=Zm(me,De.mode,Pe),me.return=De,me;case ir:var dt=me._init;return me=dt(me._payload),Et(De,me,Pe)}if(hu(me)||r(me))return me=Di(me,De.mode,Pe,null),me.return=De,me;if(typeof me.then=="function")return Et(De,Pt(me),Pe);if(me.$$typeof===xr)return Et(De,wf(De,me),Pe);vn(De,me)}return null}function Dt(De,me,Pe,dt){var jt=me!==null?me.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return jt!==null?null:ue(De,me,""+Pe,dt);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case zf:return Pe.key===jt?Se(De,me,Pe,dt):null;case nr:return Pe.key===jt?Xe(De,me,Pe,dt):null;case ir:return jt=Pe._init,Pe=jt(Pe._payload),Dt(De,me,Pe,dt)}if(hu(Pe)||r(Pe))return jt!==null?null:gt(De,me,Pe,dt,null);if(typeof Pe.then=="function")return Dt(De,me,Pt(Pe),dt);if(Pe.$$typeof===xr)return Dt(De,me,wf(De,Pe),dt);vn(De,Pe)}return null}function mn(De,me,Pe,dt,jt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return De=De.get(Pe)||null,ue(me,De,""+dt,jt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case zf:return De=De.get(dt.key===null?Pe:dt.key)||null,Se(me,De,dt,jt);case nr:return De=De.get(dt.key===null?Pe:dt.key)||null,Xe(me,De,dt,jt);case ir:var bi=dt._init;return dt=bi(dt._payload),mn(De,me,Pe,dt,jt)}if(hu(dt)||r(dt))return De=De.get(Pe)||null,gt(me,De,dt,jt,null);if(typeof dt.then=="function")return mn(De,me,Pe,Pt(dt),jt);if(dt.$$typeof===xr)return mn(De,me,Pe,wf(me,dt),jt);vn(me,dt)}return null}function zs(De,me,Pe,dt){for(var jt=null,bi=null,sn=me,jn=me=0,Gi=null;sn!==null&&jn<Pe.length;jn++){sn.index>jn?(Gi=sn,sn=null):Gi=sn.sibling;var Ln=Dt(De,sn,Pe[jn],dt);if(Ln===null){sn===null&&(sn=Gi);break}c&&sn&&Ln.alternate===null&&f(De,sn),me=N(Ln,me,jn),bi===null?jt=Ln:bi.sibling=Ln,bi=Ln,sn=Gi}if(jn===Pe.length)return y(De,sn),Vn&&X(De,jn),jt;if(sn===null){for(;jn<Pe.length;jn++)sn=Et(De,Pe[jn],dt),sn!==null&&(me=N(sn,me,jn),bi===null?jt=sn:bi.sibling=sn,bi=sn);return Vn&&X(De,jn),jt}for(sn=S(sn);jn<Pe.length;jn++)Gi=mn(sn,De,jn,Pe[jn],dt),Gi!==null&&(c&&Gi.alternate!==null&&sn.delete(Gi.key===null?jn:Gi.key),me=N(Gi,me,jn),bi===null?jt=Gi:bi.sibling=Gi,bi=Gi);return c&&sn.forEach(function(no){return f(De,no)}),Vn&&X(De,jn),jt}function Rl(De,me,Pe,dt){if(Pe==null)throw Error(a(151));for(var jt=null,bi=null,sn=me,jn=me=0,Gi=null,Ln=Pe.next();sn!==null&&!Ln.done;jn++,Ln=Pe.next()){sn.index>jn?(Gi=sn,sn=null):Gi=sn.sibling;var no=Dt(De,sn,Ln.value,dt);if(no===null){sn===null&&(sn=Gi);break}c&&sn&&no.alternate===null&&f(De,sn),me=N(no,me,jn),bi===null?jt=no:bi.sibling=no,bi=no,sn=Gi}if(Ln.done)return y(De,sn),Vn&&X(De,jn),jt;if(sn===null){for(;!Ln.done;jn++,Ln=Pe.next())Ln=Et(De,Ln.value,dt),Ln!==null&&(me=N(Ln,me,jn),bi===null?jt=Ln:bi.sibling=Ln,bi=Ln);return Vn&&X(De,jn),jt}for(sn=S(sn);!Ln.done;jn++,Ln=Pe.next())Ln=mn(sn,De,jn,Ln.value,dt),Ln!==null&&(c&&Ln.alternate!==null&&sn.delete(Ln.key===null?jn:Ln.key),me=N(Ln,me,jn),bi===null?jt=Ln:bi.sibling=Ln,bi=Ln);return c&&sn.forEach(function(qd){return f(De,qd)}),Vn&&X(De,jn),jt}function Dl(De,me,Pe,dt){if(typeof Pe=="object"&&Pe!==null&&Pe.type===dl&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case zf:e:{for(var jt=Pe.key;me!==null;){if(me.key===jt){if(jt=Pe.type,jt===dl){if(me.tag===7){y(De,me.sibling),dt=A(me,Pe.props.children),dt.return=De,De=dt;break e}}else if(me.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===ir&&Pi(jt)===me.type){y(De,me.sibling),dt=A(me,Pe.props),bn(dt,Pe),dt.return=De,De=dt;break e}y(De,me);break}else f(De,me);me=me.sibling}Pe.type===dl?(dt=Di(Pe.props.children,De.mode,dt,Pe.key),dt.return=De,De=dt):(dt=Gr(Pe.type,Pe.key,Pe.props,null,De.mode,dt),bn(dt,Pe),dt.return=De,De=dt)}return Y(De);case nr:e:{for(jt=Pe.key;me!==null;){if(me.key===jt)if(me.tag===4&&me.stateNode.containerInfo===Pe.containerInfo&&me.stateNode.implementation===Pe.implementation){y(De,me.sibling),dt=A(me,Pe.children||[]),dt.return=De,De=dt;break e}else{y(De,me);break}else f(De,me);me=me.sibling}dt=Zm(Pe,De.mode,dt),dt.return=De,De=dt}return Y(De);case ir:return jt=Pe._init,Pe=jt(Pe._payload),Dl(De,me,Pe,dt)}if(hu(Pe))return zs(De,me,Pe,dt);if(r(Pe)){if(jt=r(Pe),typeof jt!="function")throw Error(a(150));return Pe=jt.call(Pe),Rl(De,me,Pe,dt)}if(typeof Pe.then=="function")return Dl(De,me,Pt(Pe),dt);if(Pe.$$typeof===xr)return Dl(De,me,wf(De,Pe),dt);vn(De,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint"?(Pe=""+Pe,me!==null&&me.tag===6?(y(De,me.sibling),dt=A(me,Pe),dt.return=De,De=dt):(y(De,me),dt=vd(Pe,De.mode,dt),dt.return=De,De=dt),Y(De)):y(De,me)}return function(De,me,Pe,dt){try{wl=0;var jt=Dl(De,me,Pe,dt);return Sl=null,jt}catch(sn){if(sn===Mu)throw sn;var bi=t(29,sn,null,De.mode);return bi.lanes=dt,bi.return=De,bi}finally{}}}function Bi(c,f){c=Fa,R(Eu,c),R(di,f),Fa=c|f.baseLanes}function zi(){R(Eu,Fa),R(di,di.current)}function Ia(){Fa=Eu.current,w(di),w(Eu)}function Yi(c){var f=c.alternate;R(ra,ra.current&1),R(Ns,c),oi===null&&(f===null||di.current!==null||f.memoizedState!==null)&&(oi=c)}function Js(c){if(c.tag===22){if(R(ra,ra.current),R(Ns,c),oi===null){var f=c.alternate;f!==null&&f.memoizedState!==null&&(oi=c)}}else Sa()}function Sa(){R(ra,ra.current),R(Ns,Ns.current)}function Jt(c){w(Ns),oi===c&&(oi=null),w(ra)}function Pa(c){for(var f=c;f!==null;){if(f.tag===13){var y=f.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Cd(y)||Rd(y)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function ii(){throw Error(a(321))}function k(c,f){if(f===null)return!1;for(var y=0;y<f.length&&y<c.length;y++)if(!hs(c[y],f[y]))return!1;return!0}function Z(c,f,y,S,A,N){return Io=N,En=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,an.H=c===null||c.memoizedState===null?Tl:Qa,El=!1,N=y(S,A),El=!1,dc&&(N=Re(f,y,S,A)),he(c),N}function he(c){an.H=Ni;var f=qt!==null&&qt.next!==null;if(Io=0,Fn=qt=En=null,lr=!1,pc=0,ya=null,f)throw Error(a(300));c===null||li||(c=c.dependencies,c!==null&&Sf(c)&&(li=!0))}function Re(c,f,y,S){En=c;var A=0;do{if(dc&&(ya=null),pc=0,dc=!1,25<=A)throw Error(a(301));if(A+=1,Fn=qt=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}an.H=Ls,N=f(y,S)}while(dc);return N}function Ne(){var c=an.H,f=c.useState()[0];return f=typeof f.then=="function"?ie(f):f,c=c.useState()[0],(qt!==null?qt.memoizedState:null)!==c&&(En.flags|=1024),f}function Fe(){var c=Vd!==0;return Vd=0,c}function ht(c,f,y){f.updateQueue=c.updateQueue,f.flags&=-2053,c.lanes&=~y}function it(c){if(lr){for(c=c.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}lr=!1}Io=0,Fn=qt=En=null,dc=!1,pc=Vd=0,ya=null}function ot(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?En.memoizedState=Fn=c:Fn=Fn.next=c,Fn}function F(){if(qt===null){var c=En.alternate;c=c!==null?c.memoizedState:null}else c=qt.next;var f=Fn===null?En.memoizedState:Fn.next;if(f!==null)Fn=f,qt=c;else{if(c===null)throw En.alternate===null?Error(a(467)):Error(a(310));qt=c,c={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Fn===null?En.memoizedState=Fn=c:Fn=Fn.next=c}return Fn}function ie(c){var f=pc;return pc+=1,ya===null&&(ya=[]),c=Ye(ya,c,f),f=En,(Fn===null?f.memoizedState:Fn.next)===null&&(f=f.alternate,an.H=f===null||f.memoizedState===null?Tl:Qa),c}function ce(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ie(c);if(c.$$typeof===xr)return Ma(c)}throw Error(a(438,String(c)))}function Me(c){var f=null,y=En.updateQueue;if(y!==null&&(f=y.memoCache),f==null){var S=En.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(A){return A.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),y===null&&(y=Fd(),En.updateQueue=y),y.memoCache=f,y=f.data[f.index],y===void 0)for(y=f.data[f.index]=Array(c),S=0;S<c;S++)y[S]=Yv;return f.index++,y}function se(c,f){return typeof f=="function"?f(c):f}function Ie(c){var f=F();return Ge(f,qt,c)}function Ge(c,f,y){var S=c.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=y;var A=c.baseQueue,N=S.pending;if(N!==null){if(A!==null){var Y=A.next;A.next=N.next,N.next=Y}f.baseQueue=A=N,S.pending=null}if(N=c.baseState,A===null)c.memoizedState=N;else{f=A.next;var ue=Y=null,Se=null,Xe=f,gt=!1;do{var Et=Xe.lane&-536870913;if(Et!==Xe.lane?(In&Et)===Et:(Io&Et)===Et){var Dt=Xe.revertLane;if(Dt===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),Et===Ds&&(gt=!0);else if((Io&Dt)===Dt){Xe=Xe.next,Dt===Ds&&(gt=!0);continue}else Et={lane:0,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Se===null?(ue=Se=Et,Y=N):Se=Se.next=Et,En.lanes|=Dt,Ps|=Dt;Et=Xe.action,El&&y(N,Et),N=Xe.hasEagerState?Xe.eagerState:y(N,Et)}else Dt={lane:Et,revertLane:Xe.revertLane,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Se===null?(ue=Se=Dt,Y=N):Se=Se.next=Dt,En.lanes|=Et,Ps|=Et;Xe=Xe.next}while(Xe!==null&&Xe!==f);if(Se===null?Y=N:Se.next=ue,!hs(N,c.memoizedState)&&(li=!0,gt&&(y=fc,y!==null)))throw y;c.memoizedState=N,c.baseState=Y,c.baseQueue=Se,S.lastRenderedState=N}return A===null&&(S.lanes=0),[c.memoizedState,S.dispatch]}function at(c){var f=F(),y=f.queue;if(y===null)throw Error(a(311));y.lastRenderedReducer=c;var S=y.dispatch,A=y.pending,N=f.memoizedState;if(A!==null){y.pending=null;var Y=A=A.next;do N=c(N,Y.action),Y=Y.next;while(Y!==A);hs(N,f.memoizedState)||(li=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),y.lastRenderedState=N}return[N,S]}function ut(c,f,y){var S=En,A=F(),N=Vn;if(N){if(y===void 0)throw Error(a(407));y=y()}else y=f();var Y=!hs((qt||A).memoizedState,y);if(Y&&(A.memoizedState=y,li=!0),A=A.queue,bm(Mt.bind(null,S,A,c),[c]),A.getSnapshot!==f||Y||Fn!==null&&Fn.memoizedState.tag&1){if(S.flags|=2048,fi(9,Ct.bind(null,S,A,y,f),{destroy:void 0},null),Kn===null)throw Error(a(349));N||(Io&60)!==0||vt(S,f,y)}return y}function vt(c,f,y){c.flags|=16384,c={getSnapshot:f,value:y},f=En.updateQueue,f===null?(f=Fd(),En.updateQueue=f,f.stores=[c]):(y=f.stores,y===null?f.stores=[c]:y.push(c))}function Ct(c,f,y,S){f.value=y,f.getSnapshot=S,Ut(f)&&dn(c)}function Mt(c,f,y){return y(function(){Ut(f)&&dn(c)})}function Ut(c){var f=c.getSnapshot;c=c.value;try{var y=f();return!hs(c,y)}catch{return!0}}function dn(c){var f=$e(c,2);f!==null&&ma(f,c,2)}function Bt(c){var f=ot();if(typeof c=="function"){var y=c;if(c=y(),El){K(!0);try{y()}finally{K(!1)}}}return f.memoizedState=f.baseState=c,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:se,lastRenderedState:c},f}function un(c,f,y,S){return c.baseState=y,Ge(c,qt,typeof S=="function"?S:se)}function An(c,f,y,S,A){if(vf(c))throw Error(a(485));if(c=f.action,c!==null){var N={payload:A,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){N.listeners.push(Y)}};an.T!==null?y(!0):N.isTransition=!1,S(N),y=f.pending,y===null?(N.next=f.pending=N,zt(f,N)):(N.next=y.next,f.pending=y.next=N)}}function zt(c,f){var y=f.action,S=f.payload,A=c.state;if(f.isTransition){var N=an.T,Y={};an.T=Y;try{var ue=y(A,S),Se=an.S;Se!==null&&Se(Y,ue),Mn(c,f,ue)}catch(Xe){zn(c,f,Xe)}finally{an.T=N}}else try{N=y(A,S),Mn(c,f,N)}catch(Xe){zn(c,f,Xe)}}function Mn(c,f,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(S){It(c,f,S)},function(S){return zn(c,f,S)}):It(c,f,y)}function It(c,f,y){f.status="fulfilled",f.value=y,fn(f),c.state=y,f=c.pending,f!==null&&(y=f.next,y===f?c.pending=null:(y=y.next,f.next=y,zt(c,y)))}function zn(c,f,y){var S=c.pending;if(c.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=y,fn(f),f=f.next;while(f!==S)}c.action=null}function fn(c){c=c.listeners;for(var f=0;f<c.length;f++)(0,c[f])()}function tn(c,f){return f}function Ri(c,f){if(Vn){var y=Kn.formState;if(y!==null){e:{var S=En;if(Vn){if(Da){var A=h0(Da,va);if(A){Da=d0(A),S=gy(A);break e}}Ke(S)}S=!1}S&&(f=y[0])}}y=ot(),y.memoizedState=y.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tn,lastRenderedState:f},y.queue=S,y=Mm.bind(null,En,S),S.dispatch=y,S=Bt(!1);var N=Yc.bind(null,En,!1,S.queue);return S=ot(),A={state:f,dispatch:null,action:c,pending:null},S.queue=A,y=An.bind(null,En,A,N,y),A.dispatch=y,S.memoizedState=c,[f,y,!1]}function On(c){var f=F();return Un(f,qt,c)}function Un(c,f,y){f=Ge(c,f,tn)[0],c=Ie(se)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?ie(f):f;var S=F(),A=S.queue,N=A.dispatch;return y!==S.memoizedState&&(En.flags|=2048,fi(9,_i.bind(null,A,y),{destroy:void 0},null)),[f,N,c]}function _i(c,f){c.action=f}function ia(c){var f=F(),y=qt;if(y!==null)return Un(f,y,c);F(),f=f.memoizedState,y=F();var S=y.queue.dispatch;return y.memoizedState=c,[f,S,!1]}function fi(c,f,y,S){return c={tag:c,create:f,inst:y,deps:S,next:null},f=En.updateQueue,f===null&&(f=Fd(),En.updateQueue=f),y=f.lastEffect,y===null?f.lastEffect=c.next=c:(S=y.next,y.next=c,c.next=S,f.lastEffect=c),c}function Xc(){return F().memoizedState}function ws(c,f,y,S){var A=ot();En.flags|=c,A.memoizedState=fi(1|f,y,{destroy:void 0},S===void 0?null:S)}function df(c,f,y,S){var A=F();S=S===void 0?null:S;var N=A.memoizedState.inst;qt!==null&&S!==null&&k(S,qt.memoizedState.deps)?A.memoizedState=fi(f,y,N,S):(En.flags|=c,A.memoizedState=fi(1|f,y,N,S))}function Qh(c,f){ws(8390656,8,c,f)}function bm(c,f){df(2048,8,c,f)}function Tv(c,f){return df(4,2,c,f)}function pf(c,f){return df(4,4,c,f)}function Jh(c,f){if(typeof f=="function"){c=c();var y=f(c);return function(){typeof y=="function"?y():f(null)}}if(f!=null)return c=c(),f.current=c,function(){f.current=null}}function $h(c,f,y){y=y!=null?y.concat([c]):null,df(4,4,Jh.bind(null,f,c),y)}function Jo(){}function Kl(c,f){var y=F();f=f===void 0?null:f;var S=y.memoizedState;return f!==null&&k(f,S[1])?S[0]:(y.memoizedState=[c,f],c)}function _m(c,f){var y=F();f=f===void 0?null:f;var S=y.memoizedState;if(f!==null&&k(f,S[1]))return S[0];if(S=c(),El){K(!0);try{c()}finally{K(!1)}}return y.memoizedState=[S,f],S}function mf(c,f,y){return y===void 0||(Io&1073741824)!==0?c.memoizedState=f:(c.memoizedState=y,c=Gm(),En.lanes|=c,Ps|=c,y)}function Sm(c,f,y,S){return hs(y,f)?y:di.current!==null?(c=mf(c,y,S),hs(c,f)||(li=!0),c):(Io&42)===0?(li=!0,c.memoizedState=y):(c=Gm(),En.lanes|=c,Ps|=c,f)}function Wc(c,f,y,S,A){var N=Do();za(N!==0&&8>N?N:8);var Y=an.T,ue={};an.T=ue,Yc(c,!1,f,y);try{var Se=A(),Xe=an.S;if(Xe!==null&&Xe(ue,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var gt=yt(Se,S);$o(c,f,gt,Vi(c))}else $o(c,f,S,Vi(c))}catch(Et){$o(c,f,{then:function(){},status:"rejected",reason:Et},Vi())}finally{za(N),an.T=Y}}function Fr(c){var f=c.memoizedState;if(f!==null)return f;f={memoizedState:ml,baseState:ml,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:se,lastRenderedState:ml},next:null};var y={};return f.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:se,lastRenderedState:y},next:null},c.memoizedState=f,c=c.alternate,c!==null&&(c.memoizedState=f),f}function gf(){return Ma(br)}function qc(){return F().memoizedState}function mo(){return F().memoizedState}function wm(c){for(var f=c.return;f!==null;){switch(f.tag){case 24:case 3:var y=Vi();c=je(y);var S=et(f,c,y);S!==null&&(ma(S,f,y),Ot(S,f,y)),f={cache:il()},c.payload=f;return}f=f.return}}function ed(c,f,y){var S=Vi();y={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null},vf(c)?Xa(f,y):(y=nt(c,f,y,S),y!==null&&(ma(y,c,S),el(y,f,S)))}function Mm(c,f,y){var S=Vi();$o(c,f,y,S)}function $o(c,f,y,S){var A={lane:S,revertLane:0,action:y,hasEagerState:!1,eagerState:null,next:null};if(vf(c))Xa(f,A);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var Y=f.lastRenderedState,ue=N(Y,y);if(A.hasEagerState=!0,A.eagerState=ue,hs(ue,Y))return ee(c,f,A,0),Kn===null&&Je(),!1}catch{}finally{}if(y=nt(c,f,A,S),y!==null)return ma(y,c,S),el(y,f,S),!0}return!1}function Yc(c,f,y,S){if(S={lane:2,revertLane:ke(),action:S,hasEagerState:!1,eagerState:null,next:null},vf(c)){if(f)throw Error(a(479))}else f=nt(c,y,S,2),f!==null&&ma(f,c,2)}function vf(c){var f=c.alternate;return c===En||f!==null&&f===En}function Xa(c,f){dc=lr=!0;var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}function el(c,f,y){if((y&4194176)!==0){var S=f.lanes;S&=c.pendingLanes,y|=S,f.lanes=y,de(c,y)}}function Zc(c,f,y,S){f=c.memoizedState,y=y(S,f),y=y==null?f:xd({},f,y),c.memoizedState=y,c.lanes===0&&(c.updateQueue.baseState=y)}function Kc(c,f,y,S,A,N,Y){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(S,N,Y):f.prototype&&f.prototype.isPureReactComponent?!rt(y,S)||!rt(A,N):!0}function Av(c,f,y,S){c=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(y,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(y,S),f.state!==c&&Kr.enqueueReplaceState(f,f.state,null)}function go(c,f){var y=f;if("ref"in f){y={};for(var S in f)S!=="ref"&&(y[S]=f[S])}if(c=c.defaultProps){y===f&&(y=xd({},y));for(var A in c)y[A]===void 0&&(y[A]=c[A])}return y}function Qc(c,f){try{var y=c.onUncaughtError;y(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function Jc(c,f,y){try{var S=c.onCaughtError;S(y.value,{componentStack:y.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function $c(c,f,y){return y=je(y),y.tag=3,y.payload={element:null},y.callback=function(){Qc(c,f)},y}function Em(c){return c=je(c),c.tag=3,c}function Cv(c,f,y,S){var A=y.type.getDerivedStateFromError;if(typeof A=="function"){var N=S.value;c.payload=function(){return A(N)},c.callback=function(){Jc(f,y,S)}}var Y=y.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(c.callback=function(){Jc(f,y,S),typeof A!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var ue=S.stack;this.componentDidCatch(S.value,{componentStack:ue!==null?ue:""})})}function U_(c,f,y,S,A){if(y.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=y.alternate,f!==null&&_f(f,y,A,!0),y=Ns.current,y!==null){switch(y.tag){case 13:return oi===null?Mo():y.alternate===null&&ci===0&&(ci=3),y.flags&=-257,y.flags|=65536,y.lanes=A,S===$f?y.flags|=16384:(f=y.updateQueue,f===null?y.updateQueue=new Set([S]):f.add(S),$l(c,S,A)),!1;case 22:return y.flags|=65536,S===$f?y.flags|=16384:(f=y.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},y.updateQueue=f):(y=f.retryQueue,y===null?f.retryQueue=new Set([S]):y.add(S)),$l(c,S,A)),!1}throw Error(a(435,y.tag))}return $l(c,S,A),Mo(),!1}if(Vn)return f=Ns.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=A,S!==Kf&&(c=Error(a(422),{cause:S}),kt(pe(c,y)))):(S!==Kf&&(f=Error(a(423),{cause:S}),kt(pe(f,y))),c=c.current.alternate,c.flags|=65536,A&=-A,c.lanes|=A,S=pe(S,y),A=$c(c.stateNode,S,A),oe(c,A),ci!==4&&(ci=2)),!1;var N=Error(a(520),{cause:S});if(N=pe(N,y),gc===null?gc=[N]:gc.push(N),ci!==4&&(ci=2),f===null)return!0;S=pe(S,y),y=f;do{switch(y.tag){case 3:return y.flags|=65536,c=A&-A,y.lanes|=c,c=$c(y.stateNode,S,c),oe(y,c),!1;case 1:if(f=y.type,N=y.stateNode,(y.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Al===null||!Al.has(N))))return y.flags|=65536,A&=-A,y.lanes|=A,A=Em(A),Cv(A,c,y,S),oe(y,A),!1}y=y.return}while(y!==null);return!1}function wa(c,f,y,S){f.child=c===null?Zr(f,null,y,S):Ml(f,c.child,y,S)}function td(c,f,y,S,A){y=y.render;var N=f.ref;if("ref"in S){var Y={};for(var ue in S)ue!=="ref"&&(Y[ue]=S[ue])}else Y=S;return nl(f),S=Z(c,f,y,Y,N,A),ue=Fe(),c!==null&&!li?(ht(c,f,A),vo(c,f,A)):(Vn&&ue&&xe(f),f.flags|=1,wa(c,f,S,A),f.child)}function Rv(c,f,y,S,A){if(c===null){var N=y.type;return typeof N=="function"&&!Uf(N)&&N.defaultProps===void 0&&y.compare===null?(f.tag=15,f.type=N,Dv(c,f,N,S,A)):(c=Gr(y.type,null,S,f,f.mode,A),c.ref=f.ref,c.return=f,f.child=c)}if(N=c.child,!Dm(c,A)){var Y=N.memoizedProps;if(y=y.compare,y=y!==null?y:rt,y(Y,S)&&c.ref===f.ref)return vo(c,f,A)}return f.flags|=1,c=tr(N,S),c.ref=f.ref,c.return=f,f.child=c}function Dv(c,f,y,S,A){if(c!==null){var N=c.memoizedProps;if(rt(N,S)&&c.ref===f.ref)if(li=!1,f.pendingProps=S=N,Dm(c,A))(c.flags&131072)!==0&&(li=!0);else return f.lanes=c.lanes,vo(c,f,A)}return nd(c,f,y,S,A)}function Nv(c,f,y){var S=f.pendingProps,A=S.children,N=(f.stateNode._pendingVisibility&2)!==0,Y=c!==null?c.memoizedState:null;if(yf(c,f),S.mode==="hidden"||N){if((f.flags&128)!==0){if(S=Y!==null?Y.baseLanes|y:y,c!==null){for(A=f.child=c.child,N=0;A!==null;)N=N|A.lanes|A.childLanes,A=A.sibling;f.childLanes=N&~S}else f.childLanes=0,f.child=null;return Lv(c,f,S,y)}if((y&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},c!==null&&ad(f,Y!==null?Y.cachePool:null),Y!==null?Bi(f,Y):zi(),Js(f);else return f.lanes=f.childLanes=536870912,Lv(c,f,Y!==null?Y.baseLanes|y:y,y)}else Y!==null?(ad(f,Y.cachePool),Bi(f,Y),Sa(),f.memoizedState=null):(c!==null&&ad(f,null),zi(),Sa());return wa(c,f,A,y),f.child}function Lv(c,f,y,S){var A=Lm();return A=A===null?null:{parent:Ya?pi._currentValue:pi._currentValue2,pool:A},f.memoizedState={baseLanes:y,cachePool:A},c!==null&&ad(f,null),zi(),Js(f),c!==null&&_f(c,f,S,!0),null}function yf(c,f){var y=f.ref;if(y===null)c!==null&&c.ref!==null&&(f.flags|=2097664);else{if(typeof y!="function"&&typeof y!="object")throw Error(a(284));(c===null||c.ref!==y)&&(f.flags|=2097664)}}function nd(c,f,y,S,A){return nl(f),y=Z(c,f,y,S,void 0,A),S=Fe(),c!==null&&!li?(ht(c,f,A),vo(c,f,A)):(Vn&&S&&xe(f),f.flags|=1,wa(c,f,y,A),f.child)}function Ov(c,f,y,S,A,N){return nl(f),f.updateQueue=null,y=Re(f,S,y,A),he(c),S=Fe(),c!==null&&!li?(ht(c,f,N),vo(c,f,N)):(Vn&&S&&xe(f),f.flags|=1,wa(c,f,y,N),f.child)}function Uv(c,f,y,S,A){if(nl(f),f.stateNode===null){var N=xl,Y=y.contextType;typeof Y=="object"&&Y!==null&&(N=Ma(Y)),N=new y(S,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Kr,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=S,N.state=f.memoizedState,N.refs={},Vt(f),Y=y.contextType,N.context=typeof Y=="object"&&Y!==null?Ma(Y):xl,N.state=f.memoizedState,Y=y.getDerivedStateFromProps,typeof Y=="function"&&(Zc(f,y,Y,S),N.state=f.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(Y=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),Y!==N.state&&Kr.enqueueReplaceState(N,N.state,null),Ze(f,S,N,A),we(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(c===null){N=f.stateNode;var ue=f.memoizedProps,Se=go(y,ue);N.props=Se;var Xe=N.context,gt=y.contextType;Y=xl,typeof gt=="object"&&gt!==null&&(Y=Ma(gt));var Et=y.getDerivedStateFromProps;gt=typeof Et=="function"||typeof N.getSnapshotBeforeUpdate=="function",ue=f.pendingProps!==ue,gt||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(ue||Xe!==Y)&&Av(f,N,S,Y),Uo=!1;var Dt=f.memoizedState;N.state=Dt,Ze(f,S,N,A),we(),Xe=f.memoizedState,ue||Dt!==Xe||Uo?(typeof Et=="function"&&(Zc(f,y,Et,S),Xe=f.memoizedState),(Se=Uo||Kc(f,y,Se,S,Dt,Xe,Y))?(gt||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=Xe),N.props=S,N.state=Xe,N.context=Y,S=Se):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{N=f.stateNode,Nt(c,f),Y=f.memoizedProps,gt=go(y,Y),N.props=gt,Et=f.pendingProps,Dt=N.context,Xe=y.contextType,Se=xl,typeof Xe=="object"&&Xe!==null&&(Se=Ma(Xe)),ue=y.getDerivedStateFromProps,(Xe=typeof ue=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Y!==Et||Dt!==Se)&&Av(f,N,S,Se),Uo=!1,Dt=f.memoizedState,N.state=Dt,Ze(f,S,N,A),we();var mn=f.memoizedState;Y!==Et||Dt!==mn||Uo||c!==null&&c.dependencies!==null&&Sf(c.dependencies)?(typeof ue=="function"&&(Zc(f,y,ue,S),mn=f.memoizedState),(gt=Uo||Kc(f,y,gt,S,Dt,mn,Se)||c!==null&&c.dependencies!==null&&Sf(c.dependencies))?(Xe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(S,mn,Se),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(S,mn,Se)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||Y===c.memoizedProps&&Dt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Dt===c.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=mn),N.props=S,N.state=mn,N.context=Se,S=gt):(typeof N.componentDidUpdate!="function"||Y===c.memoizedProps&&Dt===c.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||Y===c.memoizedProps&&Dt===c.memoizedState||(f.flags|=1024),S=!1)}return N=S,yf(c,f),S=(f.flags&128)!==0,N||S?(N=f.stateNode,y=S&&typeof y.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,c!==null&&S?(f.child=Ml(f,c.child,null,A),f.child=Ml(f,null,y,A)):wa(c,f,y,A),f.memoizedState=N.state,c=f.child):c=vo(c,f,A),c}function Iv(c,f,y,S){return Qt(),f.flags|=256,wa(c,f,y,S),f.child}function Tm(c){return{baseLanes:c,cachePool:Om()}}function xf(c,f,y){return c=c!==null?c.childLanes&~y:0,f&&(c|=Bs),c}function Pv(c,f,y){var S=f.pendingProps,A=!1,N=(f.flags&128)!==0,Y;if((Y=N)||(Y=c!==null&&c.memoizedState===null?!1:(ra.current&2)!==0),Y&&(A=!0,f.flags&=-129),Y=(f.flags&32)!==0,f.flags&=-33,c===null){if(Vn){if(A?Yi(f):Sa(),Vn){var ue=Da,Se;(Se=ue)&&(ue=xy(ue,va),ue!==null?(f.memoizedState={dehydrated:ue,treeContext:bl!==null?{id:Sr,overflow:wr}:null,retryLane:536870912},Se=t(18,null,null,0),Se.stateNode=ue,Se.return=f,f.child=Se,Ra=f,Da=null,Se=!0):Se=!1),Se||Ke(f)}if(ue=f.memoizedState,ue!==null&&(ue=ue.dehydrated,ue!==null))return Rd(ue)?f.lanes=16:f.lanes=536870912,null;Jt(f)}return ue=S.children,S=S.fallback,A?(Sa(),A=f.mode,ue=Cm({mode:"hidden",children:ue},A),S=Di(S,A,y,null),ue.return=f,S.return=f,ue.sibling=S,f.child=ue,A=f.child,A.memoizedState=Tm(y),A.childLanes=xf(c,Y,y),f.memoizedState=Gd,S):(Yi(f),Am(f,ue))}if(Se=c.memoizedState,Se!==null&&(ue=Se.dehydrated,ue!==null)){if(N)f.flags&256?(Yi(f),f.flags&=-257,f=id(c,f,y)):f.memoizedState!==null?(Sa(),f.child=c.child,f.flags|=128,f=null):(Sa(),A=S.fallback,ue=f.mode,S=Cm({mode:"visible",children:S.children},ue),A=Di(A,ue,y,null),A.flags|=2,S.return=f,A.return=f,S.sibling=A,f.child=S,Ml(f,c.child,null,y),S=f.child,S.memoizedState=Tm(y),S.childLanes=xf(c,Y,y),f.memoizedState=Gd,f=A);else if(Yi(f),Rd(ue))Y=py(ue).digest,S=Error(a(419)),S.stack="",S.digest=Y,kt({value:S,source:null,stack:null}),f=id(c,f,y);else if(li||_f(c,f,y,!1),Y=(y&c.childLanes)!==0,li||Y){if(Y=Kn,Y!==null){if(S=y&-y,(S&42)!==0)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=(S&(Y.suspendedLanes|y))!==0?0:S,S!==0&&S!==Se.retryLane)throw Se.retryLane=S,$e(c,S),ma(Y,c,S),kd}Cd(ue)||Mo(),f=id(c,f,y)}else Cd(ue)?(f.flags|=128,f.child=c.child,f=Eo.bind(null,c),my(ue,f),f=null):(c=Se.treeContext,Ca&&(Da=yy(ue),Ra=f,Vn=!0,rr=null,va=!1,c!==null&&(Cs[Rs++]=Sr,Cs[Rs++]=wr,Cs[Rs++]=bl,Sr=c.id,wr=c.overflow,bl=f)),f=Am(f,S.children),f.flags|=4096);return f}return A?(Sa(),A=S.fallback,ue=f.mode,Se=c.child,N=Se.sibling,S=tr(Se,{mode:"hidden",children:S.children}),S.subtreeFlags=Se.subtreeFlags&31457280,N!==null?A=tr(N,A):(A=Di(A,ue,y,null),A.flags|=2),A.return=f,S.return=f,S.sibling=A,f.child=S,S=A,A=f.child,ue=c.child.memoizedState,ue===null?ue=Tm(y):(Se=ue.cachePool,Se!==null?(N=Ya?pi._currentValue:pi._currentValue2,Se=Se.parent!==N?{parent:N,pool:N}:Se):Se=Om(),ue={baseLanes:ue.baseLanes|y,cachePool:Se}),A.memoizedState=ue,A.childLanes=xf(c,Y,y),f.memoizedState=Gd,S):(Yi(f),y=c.child,c=y.sibling,y=tr(y,{mode:"visible",children:S.children}),y.return=f,y.sibling=null,c!==null&&(Y=f.deletions,Y===null?(f.deletions=[c],f.flags|=16):Y.push(c)),f.child=y,f.memoizedState=null,y)}function Am(c,f){return f=Cm({mode:"visible",children:f},c.mode),f.return=c,c.child=f}function Cm(c,f){return Pf(c,f,0,null)}function id(c,f,y){return Ml(f,c.child,null,y),c=Am(f,f.pendingProps.children),c.flags|=2,f.memoizedState=null,c}function Bv(c,f,y){c.lanes|=f;var S=c.alternate;S!==null&&(S.lanes|=f),bf(c.return,f,y)}function Rm(c,f,y,S,A){var N=c.memoizedState;N===null?c.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:A}:(N.isBackwards=f,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=y,N.tailMode=A)}function zv(c,f,y){var S=f.pendingProps,A=S.revealOrder,N=S.tail;if(wa(c,f,S.children,y),S=ra.current,(S&2)!==0)S=S&1|2,f.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=f.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Bv(c,y,f);else if(c.tag===19)Bv(c,y,f);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===f)break e;for(;c.sibling===null;){if(c.return===null||c.return===f)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}S&=1}switch(R(ra,S),A){case"forwards":for(y=f.child,A=null;y!==null;)c=y.alternate,c!==null&&Pa(c)===null&&(A=y),y=y.sibling;y=A,y===null?(A=f.child,f.child=null):(A=y.sibling,y.sibling=null),Rm(f,!1,A,y,N);break;case"backwards":for(y=null,A=f.child,f.child=null;A!==null;){if(c=A.alternate,c!==null&&Pa(c)===null){f.child=A;break}c=A.sibling,A.sibling=y,y=A,A=c}Rm(f,!0,y,null,N);break;case"together":Rm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function vo(c,f,y){if(c!==null&&(f.dependencies=c.dependencies),Ps|=f.lanes,(y&f.childLanes)===0)if(c!==null){if(_f(c,f,y,!1),(y&f.childLanes)===0)return null}else return null;if(c!==null&&f.child!==c.child)throw Error(a(153));if(f.child!==null){for(c=f.child,y=tr(c,c.pendingProps),f.child=y,y.return=f;c.sibling!==null;)c=c.sibling,y=y.sibling=tr(c,c.pendingProps),y.return=f;y.sibling=null}return f.child}function Dm(c,f){return(c.lanes&f)!==0?!0:(c=c.dependencies,!!(c!==null&&Sf(c)))}function I_(c,f,y){switch(f.tag){case 3:Be(f,f.stateNode.containerInfo),tl(f,pi,c.memoizedState.cache),Qt();break;case 27:case 5:ge(f);break;case 4:Be(f,f.stateNode.containerInfo);break;case 10:tl(f,f.type,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?(Yi(f),f.flags|=128,null):(y&f.child.childLanes)!==0?Pv(c,f,y):(Yi(f),c=vo(c,f,y),c!==null?c.sibling:null);Yi(f);break;case 19:var A=(c.flags&128)!==0;if(S=(y&f.childLanes)!==0,S||(_f(c,f,y,!1),S=(y&f.childLanes)!==0),A){if(S)return zv(c,f,y);f.flags|=128}if(A=f.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),R(ra,ra.current),S)break;return null;case 22:case 23:return f.lanes=0,Nv(c,f,y);case 24:tl(f,pi,c.memoizedState.cache)}return vo(c,f,y)}function Vv(c,f,y){if(c!==null)if(c.memoizedProps!==f.pendingProps)li=!0;else{if(!Dm(c,y)&&(f.flags&128)===0)return li=!1,I_(c,f,y);li=(c.flags&131072)!==0}else li=!1,Vn&&(f.flags&1048576)!==0&&fe(f,bu,f.index);switch(f.lanes=0,f.tag){case 16:e:{c=f.pendingProps;var S=f.elementType,A=S._init;if(S=A(S._payload),f.type=S,typeof S=="function")Uf(S)?(c=go(S,c),f.tag=1,f=Uv(null,f,S,c,y)):(f.tag=0,f=nd(null,f,S,c,y));else{if(S!=null){if(A=S.$$typeof,A===Hf){f.tag=11,f=td(null,f,S,c,y);break e}else if(A===Sd){f.tag=14,f=Rv(null,f,S,c,y);break e}}throw f=l(S)||S,Error(a(306,f,""))}}return f;case 0:return nd(c,f,f.type,f.pendingProps,y);case 1:return S=f.type,A=go(S,f.pendingProps),Uv(c,f,S,A,y);case 3:e:{if(Be(f,f.stateNode.containerInfo),c===null)throw Error(a(387));var N=f.pendingProps;A=f.memoizedState,S=A.element,Nt(c,f),Ze(f,N,null,y);var Y=f.memoizedState;if(N=Y.cache,tl(f,pi,N),N!==A.cache&&Ql(f,[pi],y,!0),we(),N=Y.element,Ca&&A.isDehydrated)if(A={element:N,isDehydrated:!1,cache:Y.cache},f.updateQueue.baseState=A,f.memoizedState=A,f.flags&256){f=Iv(c,f,N,y);break e}else if(N!==S){S=pe(Error(a(424)),f),kt(S),f=Iv(c,f,N,y);break e}else for(Ca&&(Da=vy(f.stateNode.containerInfo),Ra=f,Vn=!0,rr=null,va=!0),y=Zr(f,null,N,y),f.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Qt(),N===S){f=vo(c,f,y);break e}wa(c,f,N,y)}f=f.child}return f;case 26:if(As)return yf(c,f),c===null?(y=g0(f.type,null,f.pendingProps,null))?f.memoizedState=y:Vn||(f.stateNode=Ud(f.type,f.pendingProps,qr.current,f)):f.memoizedState=g0(f.type,c.memoizedProps,f.pendingProps,c.memoizedState),null;case 27:if(ri)return ge(f),c===null&&ri&&Vn&&(S=f.stateNode=_r(f.type,f.pendingProps,qr.current,sa.current,!1),Ra=f,va=!0,Da=Dd(S)),S=f.pendingProps.children,c!==null||Vn?wa(c,f,S,y):f.child=Ml(f,null,S,y),yf(c,f),f.child;case 5:return c===null&&Vn&&(Ld(f.type,f.pendingProps,sa.current),(A=S=Da)&&(S=k_(S,f.type,f.pendingProps,va),S!==null?(f.stateNode=S,Ra=f,Da=Dd(S),va=!1,A=!0):A=!1),A||Ke(f)),ge(f),A=f.type,N=f.pendingProps,Y=c!==null?c.memoizedProps:null,S=N.children,xn(A,N)?S=null:Y!==null&&xn(A,Y)&&(f.flags|=32),f.memoizedState!==null&&(A=Z(c,f,Ne,null,null,y),Ya?br._currentValue=A:br._currentValue2=A),yf(c,f),wa(c,f,S,y),f.child;case 6:return c===null&&Vn&&(My(f.pendingProps,sa.current),(c=y=Da)&&(y=p0(y,f.pendingProps,va),y!==null?(f.stateNode=y,Ra=f,Da=null,c=!0):c=!1),c||Ke(f)),null;case 13:return Pv(c,f,y);case 4:return Be(f,f.stateNode.containerInfo),S=f.pendingProps,c===null?f.child=Ml(f,null,S,y):wa(c,f,S,y),f.child;case 11:return td(c,f,f.type,f.pendingProps,y);case 7:return wa(c,f,f.pendingProps,y),f.child;case 8:return wa(c,f,f.pendingProps.children,y),f.child;case 12:return wa(c,f,f.pendingProps.children,y),f.child;case 10:return S=f.pendingProps,tl(f,f.type,S.value),wa(c,f,S.children,y),f.child;case 9:return A=f.type._context,S=f.pendingProps.children,nl(f),A=Ma(A),S=S(A),f.flags|=1,wa(c,f,S,y),f.child;case 14:return Rv(c,f,f.type,f.pendingProps,y);case 15:return Dv(c,f,f.type,f.pendingProps,y);case 19:return zv(c,f,y);case 22:return Nv(c,f,y);case 24:return nl(f),S=Ma(pi),c===null?(A=Lm(),A===null&&(A=Kn,N=il(),A.pooledCache=N,N.refCount++,N!==null&&(A.pooledCacheLanes|=y),A=N),f.memoizedState={parent:S,cache:A},Vt(f),tl(f,pi,A)):((c.lanes&y)!==0&&(Nt(c,f),Ze(f,null,null,y),we()),A=c.memoizedState,N=f.memoizedState,A.parent!==S?(A={parent:S,cache:S},f.memoizedState=A,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=A),tl(f,pi,S)):(S=N.cache,tl(f,pi,S),S!==A.cache&&Ql(f,[pi],y,!0))),wa(c,f,f.pendingProps.children,y),f.child;case 29:throw f.pendingProps}throw Error(a(156,f.tag))}function tl(c,f,y){Ya?(R(Po,f._currentValue),f._currentValue=y):(R(Po,f._currentValue2),f._currentValue2=y)}function yo(c){var f=Po.current;Ya?c._currentValue=f:c._currentValue2=f,w(Po)}function bf(c,f,y){for(;c!==null;){var S=c.alternate;if((c.childLanes&f)!==f?(c.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),c===y)break;c=c.return}}function Ql(c,f,y,S){var A=c.child;for(A!==null&&(A.return=c);A!==null;){var N=A.dependencies;if(N!==null){var Y=A.child;N=N.firstContext;e:for(;N!==null;){var ue=N;N=A;for(var Se=0;Se<f.length;Se++)if(ue.context===f[Se]){N.lanes|=y,ue=N.alternate,ue!==null&&(ue.lanes|=y),bf(N.return,y,c),S||(Y=null);break e}N=ue.next}}else if(A.tag===18){if(Y=A.return,Y===null)throw Error(a(341));Y.lanes|=y,N=Y.alternate,N!==null&&(N.lanes|=y),bf(Y,y,c),Y=null}else Y=A.child;if(Y!==null)Y.return=A;else for(Y=A;Y!==null;){if(Y===c){Y=null;break}if(A=Y.sibling,A!==null){A.return=Y.return,Y=A;break}Y=Y.return}A=Y}}function _f(c,f,y,S){c=null;for(var A=f,N=!1;A!==null;){if(!N){if((A.flags&524288)!==0)N=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var Y=A.alternate;if(Y===null)throw Error(a(387));if(Y=Y.memoizedProps,Y!==null){var ue=A.type;hs(A.pendingProps.value,Y.value)||(c!==null?c.push(ue):c=[ue])}}else if(A===oc.current){if(Y=A.alternate,Y===null)throw Error(a(387));Y.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(c!==null?c.push(br):c=[br])}A=A.return}c!==null&&Ql(f,c,y,S),f.flags|=262144}function Sf(c){for(c=c.firstContext;c!==null;){var f=c.context;if(!hs(Ya?f._currentValue:f._currentValue2,c.memoizedValue))return!0;c=c.next}return!1}function nl(c){Tr=c,Os=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ma(c){return Nm(Tr,c)}function wf(c,f){return Tr===null&&nl(c),Nm(c,f)}function Nm(c,f){var y=Ya?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:y,next:null},Os===null){if(c===null)throw Error(a(308));Os=f,c.dependencies={lanes:0,firstContext:f},c.flags|=524288}else Os=Os.next=f;return y}function il(){return{controller:new Tu,data:new Map,refCount:0}}function Mf(c){c.refCount--,c.refCount===0&&Iy(Py,function(){c.controller.abort()})}function Lm(){var c=Qr.current;return c!==null?c:Kn.pooledCache}function ad(c,f){f===null?R(Qr,Qr.current):R(Qr,f.pool)}function Om(){var c=Lm();return c===null?null:{parent:Ya?pi._currentValue:pi._currentValue2,pool:c}}function ss(c){c.flags|=4}function eu(c,f){if(c!==null&&c.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(c=f.child;c!==null;){if((c.flags&13878)!==0||(c.subtreeFlags&13878)!==0)return!0;c=c.sibling}return!1}function Jl(c,f,y,S){if(aa)for(y=f.child;y!==null;){if(y.tag===5||y.tag===6)Gf(c,y.stateNode);else if(!(y.tag===4||ri&&y.tag===27)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===f)break;for(;y.sibling===null;){if(y.return===null||y.return===f)return;y=y.return}y.sibling.return=y.return,y=y.sibling}else if(ar)for(var A=f.child;A!==null;){if(A.tag===5){var N=A.stateNode;y&&S&&(N=u0(N,A.type,A.memoizedProps)),Gf(c,N)}else if(A.tag===6)N=A.stateNode,y&&S&&(N=f0(N,A.memoizedProps)),Gf(c,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),Jl(c,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}}function Fv(c,f,y,S){if(ar)for(var A=f.child;A!==null;){if(A.tag===5){var N=A.stateNode;y&&S&&(N=u0(N,A.type,A.memoizedProps)),c0(c,N)}else if(A.tag===6)N=A.stateNode,y&&S&&(N=f0(N,A.memoizedProps)),c0(c,N);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)N=A.child,N!==null&&(N.return=A),Fv(c,A,!(A.memoizedProps!==null&&A.memoizedProps.mode==="manual"),!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===f)break;for(;A.sibling===null;){if(A.return===null||A.return===f)return;A=A.return}A.sibling.return=A.return,A=A.sibling}}function Ef(c,f){if(ar&&eu(c,f)){c=f.stateNode;var y=c.containerInfo,S=jf();Fv(S,f,!1,!1),c.pendingChildren=S,ss(f),Ad(y,S)}}function sd(c,f,y,S){if(aa)c.memoizedProps!==S&&ss(f);else if(ar){var A=c.stateNode,N=c.memoizedProps;if((c=eu(c,f))||N!==S){var Y=sa.current;N=vu(A,y,N,S,!c,null),N===A?f.stateNode=A:(Ro(N,y,S,Y)&&ss(f),f.stateNode=N,c?Jl(N,f,!1,!1):ss(f))}else f.stateNode=A}}function rd(c,f,y){if(t0(f,y)){if(c.flags|=16777216,!Ed(f,y))if(cl())c.flags|=8192;else throw _l=$f,Jf}else c.flags&=-16777217}function od(c,f){if(Ay(f)){if(c.flags|=16777216,!nc(f))if(cl())c.flags|=8192;else throw _l=$f,Jf}else c.flags&=-16777217}function tu(c,f){f!==null&&(c.flags|=4),c.flags&16384&&(f=c.tag!==22?I():536870912,c.lanes|=f,eo|=f)}function nu(c,f){if(!Vn)switch(c.tailMode){case"hidden":f=c.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?c.tail=null:y.sibling=null;break;case"collapsed":y=c.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?f||c.tail===null?c.tail=null:c.tail.sibling=null:S.sibling=null}}function Si(c){var f=c.alternate!==null&&c.alternate.child===c.child,y=0,S=0;if(f)for(var A=c.child;A!==null;)y|=A.lanes|A.childLanes,S|=A.subtreeFlags&31457280,S|=A.flags&31457280,A.return=c,A=A.sibling;else for(A=c.child;A!==null;)y|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=c,A=A.sibling;return c.subtreeFlags|=S,c.childLanes=y,f}function Hv(c,f,y){var S=f.pendingProps;switch(Ce(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(f),null;case 1:return Si(f),null;case 3:return y=f.stateNode,S=null,c!==null&&(S=c.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),yo(pi),ft(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(c===null||c.child===null)&&(Gt(f)?ss(f):c===null||c.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,rr!==null&&(Lf(rr),rr=null))),Ef(c,f),Si(f),null;case 26:if(As){y=f.type;var A=f.memoizedState;return c===null?(ss(f),A!==null?(Si(f),od(f,A)):(Si(f),rd(f,y,S))):A?A!==c.memoizedState?(ss(f),Si(f),od(f,A)):(Si(f),f.flags&=-16777217):(aa?c.memoizedProps!==S&&ss(f):sd(c,f,y,S),Si(f),rd(f,y,S)),null}case 27:if(ri){if(ze(f),y=qr.current,A=f.type,c!==null&&f.stateNode!=null)aa?c.memoizedProps!==S&&ss(f):sd(c,f,A,S);else{if(!S){if(f.stateNode===null)throw Error(a(166));return Si(f),null}c=sa.current,Gt(f)?St(f,c):(c=_r(A,S,y,c,!0),f.stateNode=c,ss(f))}return Si(f),null}case 5:if(ze(f),y=f.type,c!==null&&f.stateNode!=null)sd(c,f,y,S);else{if(!S){if(f.stateNode===null)throw Error(a(166));return Si(f),null}c=sa.current,Gt(f)?St(f,c):(A=e0(y,S,qr.current,c,f),Jl(A,f,!1,!1),f.stateNode=A,Ro(A,y,S,c)&&ss(f))}return Si(f),rd(f,f.type,f.pendingProps),null;case 6:if(c&&f.stateNode!=null)y=c.memoizedProps,aa?y!==S&&ss(f):ar&&(y!==S?(f.stateNode=$n(S,qr.current,sa.current,f),ss(f)):f.stateNode=c.stateNode);else{if(typeof S!="string"&&f.stateNode===null)throw Error(a(166));if(c=qr.current,y=sa.current,Gt(f)){if(!Ca)throw Error(a(176));if(c=f.stateNode,y=f.memoizedProps,S=null,A=Ra,A!==null)switch(A.tag){case 27:case 5:S=A.memoizedProps}m0(c,y,f,S)||Ke(f)}else f.stateNode=$n(S,c,y,f)}return Si(f),null;case 13:if(S=f.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(A=Gt(f),S!==null&&S.dehydrated!==null){if(c===null){if(!A)throw Error(a(318));if(!Ca)throw Error(a(344));if(A=f.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));_y(A,f)}else Qt(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Si(f),A=!1}else rr!==null&&(Lf(rr),rr=null),A=!0;if(!A)return f.flags&256?(Jt(f),f):(Jt(f),null)}if(Jt(f),(f.flags&128)!==0)return f.lanes=y,f;if(y=S!==null,c=c!==null&&c.memoizedState!==null,y){S=f.child,A=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(A=S.alternate.memoizedState.cachePool.pool);var N=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(N=S.memoizedState.cachePool.pool),N!==A&&(S.flags|=2048)}return y!==c&&y&&(f.child.flags|=8192),tu(f,f.updateQueue),Si(f),null;case 4:return ft(),Ef(c,f),c===null&&Fi(f.stateNode.containerInfo),Si(f),null;case 10:return yo(f.type),Si(f),null;case 19:if(w(ra),A=f.memoizedState,A===null)return Si(f),null;if(S=(f.flags&128)!==0,N=A.rendering,N===null)if(S)nu(A,!1);else{if(ci!==0||c!==null&&(c.flags&128)!==0)for(c=f.child;c!==null;){if(N=Pa(c),N!==null){for(f.flags|=128,nu(A,!1),c=N.updateQueue,f.updateQueue=c,tu(f,c),f.subtreeFlags=0,c=y,y=f.child;y!==null;)If(y,c),y=y.sibling;return R(ra,ra.current&1|2),f.child}c=c.sibling}A.tail!==null&&sr()>Ru&&(f.flags|=128,S=!0,nu(A,!1),f.lanes=4194304)}else{if(!S)if(c=Pa(N),c!==null){if(f.flags|=128,S=!0,c=c.updateQueue,f.updateQueue=c,tu(f,c),nu(A,!0),A.tail===null&&A.tailMode==="hidden"&&!N.alternate&&!Vn)return Si(f),null}else 2*sr()-A.renderingStartTime>Ru&&y!==536870912&&(f.flags|=128,S=!0,nu(A,!1),f.lanes=4194304);A.isBackwards?(N.sibling=f.child,f.child=N):(c=A.last,c!==null?c.sibling=N:f.child=N,A.last=N)}return A.tail!==null?(f=A.tail,A.rendering=f,A.tail=f.sibling,A.renderingStartTime=sr(),f.sibling=null,c=ra.current,R(ra,S?c&1|2:c&1),f):(Si(f),null);case 22:case 23:return Jt(f),Ia(),S=f.memoizedState!==null,c!==null?c.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?(y&536870912)!==0&&(f.flags&128)===0&&(Si(f),f.subtreeFlags&6&&(f.flags|=8192)):Si(f),y=f.updateQueue,y!==null&&tu(f,y.retryQueue),y=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==y&&(f.flags|=2048),c!==null&&w(Qr),null;case 24:return y=null,c!==null&&(y=c.memoizedState.cache),f.memoizedState.cache!==y&&(f.flags|=2048),yo(pi),Si(f),null;case 25:return null}throw Error(a(156,f.tag))}function P_(c,f){switch(Ce(f),f.tag){case 1:return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 3:return yo(pi),ft(),c=f.flags,(c&65536)!==0&&(c&128)===0?(f.flags=c&-65537|128,f):null;case 26:case 27:case 5:return ze(f),null;case 13:if(Jt(f),c=f.memoizedState,c!==null&&c.dehydrated!==null){if(f.alternate===null)throw Error(a(340));Qt()}return c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 19:return w(ra),null;case 4:return ft(),null;case 10:return yo(f.type),null;case 22:case 23:return Jt(f),Ia(),c!==null&&w(Qr),c=f.flags,c&65536?(f.flags=c&-65537|128,f):null;case 24:return yo(pi),null;case 25:return null;default:return null}}function kv(c,f){switch(Ce(f),f.tag){case 3:yo(pi),ft();break;case 26:case 27:case 5:ze(f);break;case 4:ft();break;case 13:Jt(f);break;case 19:w(ra);break;case 10:yo(f.type);break;case 22:case 23:Jt(f),Ia(),c!==null&&w(Qr);break;case 24:yo(pi)}}function Tf(c,f){try{var y=f.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var A=S.next;y=A;do{if((y.tag&c)===c){S=void 0;var N=y.create,Y=y.inst;S=N(),Y.destroy=S}y=y.next}while(y!==A)}}catch(ue){Yn(f,f.return,ue)}}function al(c,f,y){try{var S=f.updateQueue,A=S!==null?S.lastEffect:null;if(A!==null){var N=A.next;S=N;do{if((S.tag&c)===c){var Y=S.inst,ue=Y.destroy;if(ue!==void 0){Y.destroy=void 0,A=f;var Se=y;try{ue()}catch(Xe){Yn(A,Se,Xe)}}}S=S.next}while(S!==N)}}catch(Xe){Yn(f,f.return,Xe)}}function Gv(c){var f=c.updateQueue;if(f!==null){var y=c.stateNode;try{Ee(f,y)}catch(S){Yn(c,c.return,S)}}}function rs(c,f,y){y.props=go(c.type,c.memoizedProps),y.state=c.memoizedState;try{y.componentWillUnmount()}catch(S){Yn(c,f,S)}}function vr(c,f){try{var y=c.ref;if(y!==null){var S=c.stateNode;switch(c.tag){case 26:case 27:case 5:var A=pu(S);break;default:A=S}typeof y=="function"?c.refCleanup=y(A):y.current=A}}catch(N){Yn(c,f,N)}}function os(c,f){var y=c.ref,S=c.refCleanup;if(y!==null)if(typeof S=="function")try{S()}catch(A){Yn(c,f,A)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(A){Yn(c,f,A)}else y.current=null}function Um(c){var f=c.type,y=c.memoizedProps,S=c.stateNode;try{F_(S,f,y,c)}catch(A){Yn(c,c.return,A)}}function Im(c,f,y){try{ry(c.stateNode,c.type,y,f,c)}catch(S){Yn(c,c.return,S)}}function Pm(c){return c.tag===5||c.tag===3||(As?c.tag===26:!1)||(ri?c.tag===27:!1)||c.tag===4}function Af(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Pm(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&(!ri||c.tag!==27)&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Bm(c,f,y){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?ly(y,c,f):r0(y,c);else if(!(S===4||ri&&S===27)&&(c=c.child,c!==null))for(Bm(c,f,y),c=c.sibling;c!==null;)Bm(c,f,y),c=c.sibling}function xo(c,f,y){var S=c.tag;if(S===5||S===6)c=c.stateNode,f?oy(y,c,f):ay(y,c);else if(!(S===4||ri&&S===27)&&(c=c.child,c!==null))for(xo(c,f,y),c=c.sibling;c!==null;)xo(c,f,y),c=c.sibling}function ld(c,f,y){c=c.containerInfo;try{yu(c,y)}catch(S){Yn(f,f.return,S)}}function Cf(c,f){for(wd(c.containerInfo),pn=f;pn!==null;)if(c=pn,f=c.child,(c.subtreeFlags&1028)!==0&&f!==null)f.return=c,pn=f;else for(;pn!==null;){c=pn;var y=c.alternate;switch(f=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((f&1024)!==0&&y!==null){f=void 0;var S=c,A=y.memoizedProps;y=y.memoizedState;var N=S.stateNode;try{var Y=go(S.type,A,S.elementType===S.type);f=N.getSnapshotBeforeUpdate(Y,y),N.__reactInternalSnapshotBeforeUpdate=f}catch(ue){Yn(S,S.return,ue)}}break;case 3:(f&1024)!==0&&aa&&dy(c.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(a(163))}if(f=c.sibling,f!==null){f.return=c.return,pn=f;break}pn=c.return}return Y=Dn,Dn=!1,Y}function cd(c,f,y){var S=y.flags;switch(y.tag){case 0:case 11:case 15:_o(c,y),S&4&&Tf(5,y);break;case 1:if(_o(c,y),S&4)if(c=y.stateNode,f===null)try{c.componentDidMount()}catch(ue){Yn(y,y.return,ue)}else{var A=go(y.type,f.memoizedProps);f=f.memoizedState;try{c.componentDidUpdate(A,f,c.__reactInternalSnapshotBeforeUpdate)}catch(ue){Yn(y,y.return,ue)}}S&64&&Gv(y),S&512&&vr(y,y.return);break;case 3:if(_o(c,y),S&64&&(S=y.updateQueue,S!==null)){if(c=null,y.child!==null)switch(y.child.tag){case 27:case 5:c=pu(y.child.stateNode);break;case 1:c=y.child.stateNode}try{Ee(S,c)}catch(ue){Yn(y,y.return,ue)}}break;case 26:if(As){_o(c,y),S&512&&vr(y,y.return);break}case 27:case 5:_o(c,y),f===null&&S&4&&Um(y),S&512&&vr(y,y.return);break;case 12:_o(c,y);break;case 13:_o(c,y),S&4&&ud(c,y);break;case 22:if(A=y.memoizedState!==null||Jr,!A){f=f!==null&&f.memoizedState!==null||Li;var N=Jr,Y=Li;Jr=A,(Li=f)&&!Y?So(c,y,(y.subtreeFlags&8772)!==0):_o(c,y),Jr=N,Li=Y}S&512&&(y.memoizedProps.mode==="manual"?vr(y,y.return):os(y,y.return));break;default:_o(c,y)}}function zm(c){var f=c.alternate;f!==null&&(c.alternate=null,zm(f)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(f=c.stateNode,f!==null&&V_(f)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Ea(c,f,y){for(y=y.child;y!==null;)sl(c,f,y),y=y.sibling}function sl(c,f,y){if(fs&&typeof fs.onCommitFiberUnmount=="function")try{fs.onCommitFiberUnmount(ki,y)}catch{}switch(y.tag){case 26:if(As){Li||os(y,f),Ea(c,f,y),y.memoizedState?tc(y.memoizedState):y.stateNode&&xu(y.stateNode);break}case 27:if(ri){Li||os(y,f);var S=Wt,A=_n;Wt=y.stateNode,Ea(c,f,y),yl(y.stateNode),Wt=S,_n=A;break}case 5:Li||os(y,f);case 6:if(aa){if(S=Wt,A=_n,Wt=null,Ea(c,f,y),Wt=S,_n=A,Wt!==null)if(_n)try{cy(Wt,y.stateNode)}catch(N){Yn(y,f,N)}else try{o0(Wt,y.stateNode)}catch(N){Yn(y,f,N)}}else Ea(c,f,y);break;case 18:aa&&Wt!==null&&(_n?Xf(Wt,y.stateNode):wy(Wt,y.stateNode));break;case 4:aa?(S=Wt,A=_n,Wt=y.stateNode.containerInfo,_n=!0,Ea(c,f,y),Wt=S,_n=A):(ar&&ld(y.stateNode,y,jf()),Ea(c,f,y));break;case 0:case 11:case 14:case 15:Li||al(2,y,f),Li||al(4,y,f),Ea(c,f,y);break;case 1:Li||(os(y,f),S=y.stateNode,typeof S.componentWillUnmount=="function"&&rs(y,f,S)),Ea(c,f,y);break;case 21:Ea(c,f,y);break;case 22:Li||os(y,f),Li=(S=Li)||y.memoizedState!==null,Ea(c,f,y),Li=S;break;default:Ea(c,f,y)}}function ud(c,f){if(Ca&&f.memoizedState===null&&(c=f.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{j_(c)}catch(y){Yn(f,f.return,y)}}function jv(c){switch(c.tag){case 13:case 19:var f=c.stateNode;return f===null&&(f=c.stateNode=new Zn),f;case 22:return c=c.stateNode,f=c._retryCache,f===null&&(f=c._retryCache=new Zn),f;default:throw Error(a(435,c.tag))}}function bo(c,f){var y=jv(c);f.forEach(function(S){var A=hl.bind(null,c,S);y.has(S)||(y.add(S),S.then(A,A))})}function Wa(c,f){var y=f.deletions;if(y!==null)for(var S=0;S<y.length;S++){var A=y[S],N=c,Y=f;if(aa){var ue=Y;e:for(;ue!==null;){switch(ue.tag){case 27:case 5:Wt=ue.stateNode,_n=!1;break e;case 3:Wt=ue.stateNode.containerInfo,_n=!0;break e;case 4:Wt=ue.stateNode.containerInfo,_n=!0;break e}ue=ue.return}if(Wt===null)throw Error(a(160));sl(N,Y,A),Wt=null,_n=!1}else sl(N,Y,A);N=A.alternate,N!==null&&(N.return=null),A.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Vm(f,c),f=f.sibling}function Vm(c,f){var y=c.alternate,S=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Wa(f,c),ls(c),S&4&&(al(3,c,c.return),Tf(3,c),al(5,c,c.return));break;case 1:Wa(f,c),ls(c),S&512&&(Li||y===null||os(y,y.return)),S&64&&Jr&&(c=c.updateQueue,c!==null&&(S=c.callbacks,S!==null&&(y=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=y===null?S:y.concat(S))));break;case 26:if(As){var A=Ei;Wa(f,c),ls(c),S&512&&(Li||y===null||os(y,y.return)),S&4&&(S=y!==null?y.memoizedState:null,f=c.memoizedState,y===null?f===null?c.stateNode===null?c.stateNode=qf(A,c.type,c.memoizedProps,c):Yf(A,c.type,c.stateNode):c.stateNode=Ey(A,f,c.memoizedProps):S!==f?(S===null?y.stateNode!==null&&xu(y.stateNode):tc(S),f===null?Yf(A,c.type,c.stateNode):Ey(A,f,c.memoizedProps)):f===null&&c.stateNode!==null&&Im(c,c.memoizedProps,y.memoizedProps));break}case 27:if(ri&&S&4&&c.alternate===null){A=c.stateNode;var N=c.memoizedProps;try{vl(A),Ry(c.type,N,A,c)}catch(gt){Yn(c,c.return,gt)}}case 5:if(Wa(f,c),ls(c),S&512&&(Li||y===null||os(y,y.return)),aa){if(c.flags&32){f=c.stateNode;try{l0(f)}catch(gt){Yn(c,c.return,gt)}}S&4&&c.stateNode!=null&&(f=c.memoizedProps,Im(c,f,y!==null?y.memoizedProps:f)),S&1024&&(b0=!0)}break;case 6:if(Wa(f,c),ls(c),S&4&&aa){if(c.stateNode===null)throw Error(a(162));S=c.memoizedProps,y=y!==null?y.memoizedProps:S,f=c.stateNode;try{sy(f,y,S)}catch(gt){Yn(c,c.return,gt)}}break;case 3:if(As?(Ty(),A=Ei,Ei=Od(f.containerInfo),Wa(f,c),Ei=A):Wa(f,c),ls(c),S&4){if(aa&&Ca&&y!==null&&y.memoizedState.isDehydrated)try{G_(f.containerInfo)}catch(gt){Yn(c,c.return,gt)}if(ar){S=f.containerInfo,y=f.pendingChildren;try{yu(S,y)}catch(gt){Yn(c,c.return,gt)}}}b0&&(b0=!1,Xv(c));break;case 4:As?(y=Ei,Ei=Od(c.stateNode.containerInfo),Wa(f,c),ls(c),Ei=y):(Wa(f,c),ls(c)),S&4&&ar&&ld(c.stateNode,c,c.stateNode.pendingChildren);break;case 12:Wa(f,c),ls(c);break;case 13:Wa(f,c),ls(c),c.child.flags&8192&&c.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Ja=sr()),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,bo(c,S)));break;case 22:S&512&&(Li||y===null||os(y,y.return)),A=c.memoizedState!==null;var Y=y!==null&&y.memoizedState!==null,ue=Jr,Se=Li;if(Jr=ue||A,Li=Se||Y,Wa(f,c),Li=Se,Jr=ue,ls(c),f=c.stateNode,f._current=c,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,S&8192&&(f._visibility=A?f._visibility&-2:f._visibility|1,A&&(f=Jr||Li,y===null||Y||f||iu(c)),aa&&(c.memoizedProps===null||c.memoizedProps.mode!=="manual"))){e:if(y=null,aa)for(f=c;;){if(f.tag===5||As&&f.tag===26||ri&&f.tag===27){if(y===null){Y=y=f;try{N=Y.stateNode,A?uy(N):hy(Y.stateNode,Y.memoizedProps)}catch(gt){Yn(Y,Y.return,gt)}}}else if(f.tag===6){if(y===null){Y=f;try{var Xe=Y.stateNode;A?fy(Xe):H_(Xe,Y.memoizedProps)}catch(gt){Yn(Y,Y.return,gt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===c)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===c)break e;for(;f.sibling===null;){if(f.return===null||f.return===c)break e;y===f&&(y=null),f=f.return}y===f&&(y=null),f.sibling.return=f.return,f=f.sibling}}S&4&&(S=c.updateQueue,S!==null&&(y=S.retryQueue,y!==null&&(S.retryQueue=null,bo(c,y))));break;case 19:Wa(f,c),ls(c),S&4&&(S=c.updateQueue,S!==null&&(c.updateQueue=null,bo(c,S)));break;case 21:break;default:Wa(f,c),ls(c)}}function ls(c){var f=c.flags;if(f&2){try{if(aa&&(!ri||c.tag!==27)){e:{for(var y=c.return;y!==null;){if(Pm(y)){var S=y;break e}y=y.return}throw Error(a(160))}switch(S.tag){case 27:if(ri){var A=S.stateNode,N=Af(c);xo(c,N,A);break}case 5:var Y=S.stateNode;S.flags&32&&(l0(Y),S.flags&=-33);var ue=Af(c);xo(c,ue,Y);break;case 3:case 4:var Se=S.stateNode.containerInfo,Xe=Af(c);Bm(c,Xe,Se);break;default:throw Error(a(161))}}}catch(gt){Yn(c,c.return,gt)}c.flags&=-3}f&4096&&(c.flags&=-4097)}function Xv(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var f=c;Xv(f),f.tag===5&&f.flags&1024&&Td(f.stateNode),c=c.sibling}}function _o(c,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)cd(c,f.alternate,f),f=f.sibling}function iu(c){for(c=c.child;c!==null;){var f=c;switch(f.tag){case 0:case 11:case 14:case 15:al(4,f,f.return),iu(f);break;case 1:os(f,f.return);var y=f.stateNode;typeof y.componentWillUnmount=="function"&&rs(f,f.return,y),iu(f);break;case 26:case 27:case 5:os(f,f.return),iu(f);break;case 22:os(f,f.return),f.memoizedState===null&&iu(f);break;default:iu(f)}c=c.sibling}}function So(c,f,y){for(y=y&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,A=c,N=f,Y=N.flags;switch(N.tag){case 0:case 11:case 15:So(A,N,y),Tf(4,N);break;case 1:if(So(A,N,y),S=N,A=S.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Xe){Yn(S,S.return,Xe)}if(S=N,A=S.updateQueue,A!==null){var ue=S.stateNode;try{var Se=A.shared.hiddenCallbacks;if(Se!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Se.length;A++)ae(Se[A],ue)}catch(Xe){Yn(S,S.return,Xe)}}y&&Y&64&&Gv(N),vr(N,N.return);break;case 26:case 27:case 5:So(A,N,y),y&&S===null&&Y&4&&Um(N),vr(N,N.return);break;case 12:So(A,N,y);break;case 13:So(A,N,y),y&&Y&4&&ud(A,N);break;case 22:N.memoizedState===null&&So(A,N,y),vr(N,N.return);break;default:So(A,N,y)}f=f.sibling}}function fd(c,f){var y=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),c=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(c=f.memoizedState.cachePool.pool),c!==y&&(c!=null&&c.refCount++,y!=null&&Mf(y))}function Rf(c,f){c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Mf(c))}function pa(c,f,y,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Fm(c,f,y,S),f=f.sibling}function Fm(c,f,y,S){var A=f.flags;switch(f.tag){case 0:case 11:case 15:pa(c,f,y,S),A&2048&&Tf(9,f);break;case 3:pa(c,f,y,S),A&2048&&(c=null,f.alternate!==null&&(c=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==c&&(f.refCount++,c!=null&&Mf(c)));break;case 12:if(A&2048){pa(c,f,y,S),c=f.stateNode;try{var N=f.memoizedProps,Y=N.id,ue=N.onPostCommit;typeof ue=="function"&&ue(Y,f.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Se){Yn(f,f.return,Se)}}else pa(c,f,y,S);break;case 23:break;case 22:N=f.stateNode,f.memoizedState!==null?N._visibility&4?pa(c,f,y,S):Ba(c,f):N._visibility&4?pa(c,f,y,S):(N._visibility|=4,Ta(c,f,y,S,(f.subtreeFlags&10256)!==0)),A&2048&&fd(f.alternate,f);break;case 24:pa(c,f,y,S),A&2048&&Rf(f.alternate,f);break;default:pa(c,f,y,S)}}function Ta(c,f,y,S,A){for(A=A&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var N=c,Y=f,ue=y,Se=S,Xe=Y.flags;switch(Y.tag){case 0:case 11:case 15:Ta(N,Y,ue,Se,A),Tf(8,Y);break;case 23:break;case 22:var gt=Y.stateNode;Y.memoizedState!==null?gt._visibility&4?Ta(N,Y,ue,Se,A):Ba(N,Y):(gt._visibility|=4,Ta(N,Y,ue,Se,A)),A&&Xe&2048&&fd(Y.alternate,Y);break;case 24:Ta(N,Y,ue,Se,A),A&&Xe&2048&&Rf(Y.alternate,Y);break;default:Ta(N,Y,ue,Se,A)}f=f.sibling}}function Ba(c,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var y=c,S=f,A=S.flags;switch(S.tag){case 22:Ba(y,S),A&2048&&fd(S.alternate,S);break;case 24:Ba(y,S),A&2048&&Rf(S.alternate,S);break;default:Ba(y,S)}f=f.sibling}}function $s(c){if(c.subtreeFlags&Us)for(c=c.child;c!==null;)hd(c),c=c.sibling}function hd(c){switch(c.tag){case 26:$s(c),c.flags&Us&&(c.memoizedState!==null?Cy(Ei,c.memoizedState,c.memoizedProps):Za(c.type,c.memoizedProps));break;case 5:$s(c),c.flags&Us&&Za(c.type,c.memoizedProps);break;case 3:case 4:if(As){var f=Ei;Ei=Od(c.stateNode.containerInfo),$s(c),Ei=f}else $s(c);break;case 22:c.memoizedState===null&&(f=c.alternate,f!==null&&f.memoizedState!==null?(f=Us,Us=16777216,$s(c),Us=f):$s(c));break;default:$s(c)}}function Df(c){var f=c.alternate;if(f!==null&&(c=f.child,c!==null)){f.child=null;do f=c.sibling,c.sibling=null,c=f;while(c!==null)}}function rl(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];pn=S,Hm(S,c)}Df(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)dd(c),c=c.sibling}function dd(c){switch(c.tag){case 0:case 11:case 15:rl(c),c.flags&2048&&al(9,c,c.return);break;case 3:rl(c);break;case 12:rl(c);break;case 22:var f=c.stateNode;c.memoizedState!==null&&f._visibility&4&&(c.return===null||c.return.tag!==13)?(f._visibility&=-5,wo(c)):rl(c);break;default:rl(c)}}function wo(c){var f=c.deletions;if((c.flags&16)!==0){if(f!==null)for(var y=0;y<f.length;y++){var S=f[y];pn=S,Hm(S,c)}Df(c)}for(c=c.child;c!==null;){switch(f=c,f.tag){case 0:case 11:case 15:al(8,f,f.return),wo(f);break;case 22:y=f.stateNode,y._visibility&4&&(y._visibility&=-5,wo(f));break;default:wo(f)}c=c.sibling}}function Hm(c,f){for(;pn!==null;){var y=pn;switch(y.tag){case 0:case 11:case 15:al(8,y,f);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var S=y.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Mf(y.memoizedState.cache)}if(S=y.child,S!==null)S.return=y,pn=S;else e:for(y=c;pn!==null;){S=pn;var A=S.sibling,N=S.return;if(zm(S),S===y){pn=null;break e}if(A!==null){A.return=N,pn=A;break e}pn=N}}}function au(c){var f=Qv(c);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(a(364));return f}if(c=a0(c),c===null)throw Error(a(362));return c.stateNode.current}function ol(c,f){var y=c.tag;switch(f.$$typeof){case Cu:if(c.type===f.value)return!0;break;case cr:e:{for(f=f.value,c=[c,0],y=0;y<c.length;){var S=c[y++],A=S.tag,N=c[y++],Y=f[N];if(A!==5&&A!==26&&A!==27||!gu(S)){for(;Y!=null&&ol(S,Y);)N++,Y=f[N];if(N===f.length){f=!0;break e}else for(S=S.child;S!==null;)c.push(S,N),S=S.sibling}}f=!1}return f;case xi:if((y===5||y===26||y===27)&&ty(c.stateNode,f.value))return!0;break;case $r:if((y===5||y===6||y===26||y===27)&&(c=ey(c),c!==null&&0<=c.indexOf(f.value)))return!0;break;case Ar:if((y===5||y===26||y===27)&&(c=c.memoizedProps["data-testname"],typeof c=="string"&&c.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function km(c){switch(c.$$typeof){case Cu:return"<"+(l(c.value)||"Unknown")+">";case cr:return":has("+(km(c)||"")+")";case xi:return'[role="'+c.value+'"]';case $r:return'"'+c.value+'"';case Ar:return'[data-testname="'+c.value+'"]';default:throw Error(a(365))}}function cs(c,f){var y=[];c=[c,0];for(var S=0;S<c.length;){var A=c[S++],N=A.tag,Y=c[S++],ue=f[Y];if(N!==5&&N!==26&&N!==27||!gu(A)){for(;ue!=null&&ol(A,ue);)Y++,ue=f[Y];if(Y===f.length)y.push(A);else for(A=A.child;A!==null;)c.push(A,Y),A=A.sibling}}return y}function Nf(c,f){if(!gl)throw Error(a(363));c=au(c),c=cs(c,f),f=[],c=Array.from(c);for(var y=0;y<c.length;){var S=c[y++],A=S.tag;if(A===5||A===26||A===27)gu(S)||f.push(S.stateNode);else for(S=S.child;S!==null;)c.push(S),S=S.sibling}return f}function Vi(){if((Hn&2)!==0&&In!==0)return In&-In;if(an.T!==null){var c=Ds;return c!==0?c:ke()}return Jv()}function Gm(){Bs===0&&(Bs=(In&536870912)===0||Vn?H():536870912);var c=Ns.current;return c!==null&&(c.flags|=32),Bs}function ma(c,f,y){(c===Kn&&ai===2||c.cancelPendingCommit!==null)&&(Aa(c,0),us(c,In,Bs,!1)),q(c,y),((Hn&2)===0||c!==Kn)&&(c===Kn&&((Hn&2)===0&&(Bo|=y),ci===4&&us(c,In,Bs,!1)),bt(c))}function ll(c,f,y){if((Hn&6)!==0)throw Error(a(327));var S=!y&&(f&60)===0&&(f&c.expiredLanes)===0||U(c,f),A=S?Xm(c,f):md(c,f,!0),N=S;do{if(A===0){Is&&!S&&us(c,f,0,!1);break}else if(A===6)us(c,f,0,!fr);else{if(y=c.current.alternate,N&&!su(y)){A=md(c,f,!1),N=!1;continue}if(A===2){if(N=f,c.errorRecoveryDisabledLanes&N)var Y=0;else Y=c.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){f=Y;e:{var ue=c;A=gc;var Se=Ca&&ue.current.memoizedState.isDehydrated;if(Se&&(Aa(ue,Y).flags|=256),Y=md(ue,Y,!1),Y!==2){if(oa&&!Se){ue.errorRecoveryDisabledLanes|=N,Bo|=N,A=4;break e}N=Oi,Oi=A,N!==null&&Lf(N)}A=Y}if(N=!1,A!==2)continue}}if(A===1){Aa(c,0),us(c,f,0,!0);break}e:{switch(S=c,A){case 0:case 1:throw Error(a(345));case 4:if((f&4194176)===f){us(S,f,Bs,!fr);break e}break;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(S.finishedWork=y,S.finishedLanes=f,(f&62914560)===f&&(N=Ja+300-sr(),10<N)){if(us(S,f,Bs,!fr),P(S,0)!==0)break e;S.timeoutHandle=Ki(pd.bind(null,S,y,Oi,th,jd,f,Bs,Bo,eo,fr,2,-0,0),N);break e}pd(S,y,Oi,th,jd,f,Bs,Bo,eo,fr,0,-0,0)}}break}while(!0);bt(c)}function Lf(c){Oi===null?Oi=c:Oi.push.apply(Oi,c)}function pd(c,f,y,S,A,N,Y,ue,Se,Xe,gt,Et,Dt){var mn=f.subtreeFlags;if((mn&8192||(mn&16785408)===16785408)&&(n0(),hd(f),f=Qi(),f!==null)){c.cancelPendingCommit=f(ul.bind(null,c,y,S,A,Y,ue,Se,1,Et,Dt)),us(c,N,Y,!Xe);return}ul(c,y,S,A,Y,ue,Se,gt,Et,Dt)}function su(c){for(var f=c;;){var y=f.tag;if((y===0||y===11||y===15)&&f.flags&16384&&(y=f.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var S=0;S<y.length;S++){var A=y[S],N=A.getSnapshot;A=A.value;try{if(!hs(N(),A))return!1}catch{return!1}}if(y=f.child,f.subtreeFlags&16384&&y!==null)y.return=f,f=y;else{if(f===c)break;for(;f.sibling===null;){if(f.return===null||f.return===c)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function us(c,f,y,S){f&=~eh,f&=~Bo,c.suspendedLanes|=f,c.pingedLanes&=~f,S&&(c.warmLanes|=f),S=c.expirationTimes;for(var A=f;0<A;){var N=31-Ka(A),Y=1<<N;S[N]=-1,A&=~Y}y!==0&&re(c,y,f)}function Of(){return(Hn&6)===0?(pt(0),!1):!0}function ru(){if(Yt!==null){if(ai===0)var c=Yt.return;else c=Yt,Os=Tr=null,it(c),Sl=null,wl=0,c=Yt;for(;c!==null;)kv(c.alternate,c),c=c.return;Yt=null}}function Aa(c,f){c.finishedWork=null,c.finishedLanes=0;var y=c.timeoutHandle;y!==pl&&(c.timeoutHandle=pl,Md(y)),y=c.cancelPendingCommit,y!==null&&(c.cancelPendingCommit=null,y()),ru(),Kn=c,Yt=y=tr(c.current,null),In=f,ai=0,Va=null,fr=!1,Is=U(c,f),oa=!1,eo=Bs=eh=Bo=Ps=ci=0,Oi=gc=null,jd=!1,(f&8)!==0&&(f|=f&32);var S=c.entangledLanes;if(S!==0)for(c=c.entanglements,S&=f;0<S;){var A=31-Ka(S),N=1<<A;f|=c[A],S&=~N}return Fa=f,Je(),y}function Ms(c,f){En=null,an.H=Ni,f===Mu?(f=_t(),ai=3):f===Jf?(f=_t(),ai=4):ai=f===kd?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Va=f,Yt===null&&(ci=1,Qc(c,pe(f,c.current)))}function cl(){var c=Ns.current;return c===null?!0:(In&4194176)===In?oi===null:(In&62914560)===In||(In&536870912)!==0?c===oi:!1}function Hr(){var c=an.H;return an.H=Ni,c===null?Ni:c}function kr(){var c=an.A;return an.A=Au,c}function Mo(){ci=4,fr||(In&4194176)!==In&&Ns.current!==null||(Is=!0),(Ps&134217727)===0&&(Bo&134217727)===0||Kn===null||us(Kn,In,Bs,!1)}function md(c,f,y){var S=Hn;Hn|=2;var A=Hr(),N=kr();(Kn!==c||In!==f)&&(th=null,Aa(c,f)),f=!1;var Y=ci;e:do try{if(ai!==0&&Yt!==null){var ue=Yt,Se=Va;switch(ai){case 8:ru(),Y=6;break e;case 3:case 2:case 6:Ns.current===null&&(f=!0);var Xe=ai;if(ai=0,Va=null,er(c,ue,Se,Xe),y&&Is){Y=0;break e}break;default:Xe=ai,ai=0,Va=null,er(c,ue,Se,Xe)}}jm(),Y=ci;break}catch(gt){Ms(c,gt)}while(!0);return f&&c.shellSuspendCounter++,Os=Tr=null,Hn=S,an.H=A,an.A=N,Yt===null&&(Kn=null,In=0,Je()),Y}function jm(){for(;Yt!==null;)Mi(Yt)}function Xm(c,f){var y=Hn;Hn|=2;var S=Hr(),A=kr();Kn!==c||In!==f?(th=null,Ru=sr()+500,Aa(c,f)):Is=U(c,f);e:do try{if(ai!==0&&Yt!==null){f=Yt;var N=Va;t:switch(ai){case 1:ai=0,Va=null,er(c,f,N,1);break;case 2:if(ct(N)){ai=0,Va=null,Gn(f);break}f=function(){ai===2&&Kn===c&&(ai=7),bt(c)},N.then(f,f);break e;case 3:ai=7;break e;case 4:ai=5;break e;case 7:ct(N)?(ai=0,Va=null,Gn(f)):(ai=0,Va=null,er(c,f,N,7));break;case 5:var Y=null;switch(Yt.tag){case 26:Y=Yt.memoizedState;case 5:case 27:var ue=Yt,Se=ue.type,Xe=ue.pendingProps;if(Y?nc(Y):Ed(Se,Xe)){ai=0,Va=null;var gt=ue.sibling;if(gt!==null)Yt=gt;else{var Et=ue.return;Et!==null?(Yt=Et,Es(Et)):Yt=null}break t}}ai=0,Va=null,er(c,f,N,5);break;case 6:ai=0,Va=null,er(c,f,N,6);break;case 8:ru(),ci=6;break e;default:throw Error(a(462))}}qa();break}catch(Dt){Ms(c,Dt)}while(!0);return Os=Tr=null,an.H=S,an.A=A,Hn=y,Yt!==null?0:(Kn=null,In=0,Je(),ci)}function qa(){for(;Yt!==null&&!Ly();)Mi(Yt)}function Mi(c){var f=Vv(c.alternate,c,Fa);c.memoizedProps=c.pendingProps,f===null?Es(c):Yt=f}function Gn(c){var f=c,y=f.alternate;switch(f.tag){case 15:case 0:f=Ov(y,f,f.pendingProps,f.type,void 0,In);break;case 11:f=Ov(y,f,f.pendingProps,f.type.render,f.ref,In);break;case 5:it(f);default:kv(y,f),f=Yt=If(f,Fa),f=Vv(y,f,Fa)}c.memoizedProps=c.pendingProps,f===null?Es(c):Yt=f}function er(c,f,y,S){Os=Tr=null,it(f),Sl=null,wl=0;var A=f.return;try{if(U_(c,A,f,y,In)){ci=1,Qc(c,pe(y,c.current)),Yt=null;return}}catch(N){if(A!==null)throw Yt=A,N;ci=1,Qc(c,pe(y,c.current)),Yt=null;return}f.flags&32768?(Vn||S===1?c=!0:Is||(In&536870912)!==0?c=!1:(fr=c=!0,(S===2||S===3||S===6)&&(S=Ns.current,S!==null&&S.tag===13&&(S.flags|=16384))),gd(f,c)):Es(f)}function Es(c){var f=c;do{if((f.flags&32768)!==0){gd(f,fr);return}c=f.return;var y=Hv(f.alternate,f,Fa);if(y!==null){Yt=y;return}if(f=f.sibling,f!==null){Yt=f;return}Yt=f=c}while(f!==null);ci===0&&(ci=5)}function gd(c,f){do{var y=P_(c.alternate,c);if(y!==null){y.flags&=32767,Yt=y;return}if(y=c.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!f&&(c=c.sibling,c!==null)){Yt=c;return}Yt=c=y}while(c!==null);ci=6,Yt=null}function ul(c,f,y,S,A,N,Y,ue,Se,Xe){var gt=an.T,Et=Do();try{za(2),an.T=null,Wv(c,f,y,S,Et,A,N,Y,ue,Se,Xe)}finally{an.T=gt,za(Et)}}function Wv(c,f,y,S,A,N,Y,ue){do yr();while(to!==null);if((Hn&6)!==0)throw Error(a(327));var Se=c.finishedWork;if(S=c.finishedLanes,Se===null)return null;if(c.finishedWork=null,c.finishedLanes=0,Se===c.current)throw Error(a(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var Xe=Se.lanes|Se.childLanes;if(Xe|=Mr,J(c,S,Xe,N,Y,ue),c===Kn&&(Yt=Kn=null,In=0),(Se.subtreeFlags&10256)===0&&(Se.flags&10256)===0||Cr||(Cr=!0,Cl=Xe,Xd=y,To(zd,function(){return yr(),null})),y=(Se.flags&15990)!==0,(Se.subtreeFlags&15990)!==0||y?(y=an.T,an.T=null,N=Do(),za(2),Y=Hn,Hn|=4,Cf(c,Se),Vm(Se,c),Kv(c.containerInfo),c.current=Se,cd(c,Se.alternate,Se),Pd(),Hn=Y,za(N),an.T=y):c.current=Se,Cr?(Cr=!1,to=c,vc=S):Wm(c,Xe),Xe=c.pendingLanes,Xe===0&&(Al=null),G(Se.stateNode),bt(c),f!==null)for(A=c.onRecoverableError,Se=0;Se<f.length;Se++)Xe=f[Se],A(Xe.value,{componentStack:Xe.stack});return(vc&3)!==0&&yr(),Xe=c.pendingLanes,(S&4194218)!==0&&(Xe&42)!==0?c===Wd?Du++:(Du=0,Wd=c):Du=0,pt(0),null}function Wm(c,f){(c.pooledCacheLanes&=f)===0&&(f=c.pooledCache,f!=null&&(c.pooledCache=null,Mf(f)))}function yr(){if(to!==null){var c=to,f=Cl;Cl=0;var y=ve(vc),S=32>y?32:y;y=an.T;var A=Do();try{if(za(S),an.T=null,to===null)var N=!1;else{S=Xd,Xd=null;var Y=to,ue=vc;if(to=null,vc=0,(Hn&6)!==0)throw Error(a(331));var Se=Hn;if(Hn|=4,dd(Y.current),Fm(Y,Y.current,ue,S),Hn=Se,pt(0,!1),fs&&typeof fs.onPostCommitFiberRoot=="function")try{fs.onPostCommitFiberRoot(ki,Y)}catch{}N=!0}return N}finally{za(A),an.T=y,Wm(c,f)}}return!1}function ou(c,f,y){f=pe(y,f),f=$c(c.stateNode,f,2),c=et(c,f,2),c!==null&&(q(c,2),bt(c))}function Yn(c,f,y){if(c.tag===3)ou(c,c,y);else for(;f!==null;){if(f.tag===3){ou(f,c,y);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Al===null||!Al.has(S))){c=pe(y,c),y=Em(2),S=et(f,y,2),S!==null&&(Cv(y,S,f,c),q(S,2),bt(S));break}}f=f.return}}function $l(c,f,y){var S=c.pingCache;if(S===null){S=c.pingCache=new ur;var A=new Set;S.set(f,A)}else A=S.get(f),A===void 0&&(A=new Set,S.set(f,A));A.has(y)||(oa=!0,A.add(y),c=qm.bind(null,c,f,y),f.then(c,c))}function qm(c,f,y){var S=c.pingCache;S!==null&&S.delete(f),c.pingedLanes|=c.suspendedLanes&y,c.warmLanes&=~y,Kn===c&&(In&y)===y&&(ci===4||ci===3&&(In&62914560)===In&&300>sr()-Ja?(Hn&2)===0&&Aa(c,0):eh|=y,eo===In&&(eo=0)),bt(c)}function fl(c,f){f===0&&(f=I()),c=$e(c,f),c!==null&&(q(c,f),bt(c))}function Eo(c){var f=c.memoizedState,y=0;f!==null&&(y=f.retryLane),fl(c,y)}function hl(c,f){var y=0;switch(c.tag){case 13:var S=c.stateNode,A=c.memoizedState;A!==null&&(y=A.retryLane);break;case 19:S=c.stateNode;break;case 22:S=c.stateNode._retryCache;break;default:throw Error(a(314))}S!==null&&S.delete(f),fl(c,y)}function To(c,f){return Zf(c,f)}function Ym(c,f,y,S){this.tag=c,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Uf(c){return c=c.prototype,!(!c||!c.isReactComponent)}function tr(c,f){var y=c.alternate;return y===null?(y=t(c.tag,f,c.key,c.mode),y.elementType=c.elementType,y.type=c.type,y.stateNode=c.stateNode,y.alternate=c,c.alternate=y):(y.pendingProps=f,y.type=c.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=c.flags&31457280,y.childLanes=c.childLanes,y.lanes=c.lanes,y.child=c.child,y.memoizedProps=c.memoizedProps,y.memoizedState=c.memoizedState,y.updateQueue=c.updateQueue,f=c.dependencies,y.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},y.sibling=c.sibling,y.index=c.index,y.ref=c.ref,y.refCleanup=c.refCleanup,y}function If(c,f){c.flags&=31457282;var y=c.alternate;return y===null?(c.childLanes=0,c.lanes=f,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=y.childLanes,c.lanes=y.lanes,c.child=y.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=y.memoizedProps,c.memoizedState=y.memoizedState,c.updateQueue=y.updateQueue,c.type=y.type,f=y.dependencies,c.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),c}function Gr(c,f,y,S,A,N){var Y=0;if(S=c,typeof c=="function")Uf(c)&&(Y=1);else if(typeof c=="string")Y=As&&ri?Wf(c,y,sa.current)?26:Xr(c)?27:5:As?Wf(c,y,sa.current)?26:5:ri&&Xr(c)?27:5;else e:switch(c){case dl:return Di(y.children,A,N,f);case Vf:Y=8,A|=24;break;case bd:return c=t(12,y,f,A|2),c.elementType=bd,c.lanes=N,c;case _d:return c=t(13,y,f,A),c.elementType=_d,c.lanes=N,c;case fu:return c=t(19,y,f,A),c.elementType=fu,c.lanes=N,c;case Qm:return Pf(y,A,N,f);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Ff:case xr:Y=10;break e;case Km:Y=9;break e;case Hf:Y=11;break e;case Sd:Y=14;break e;case ir:Y=16,S=null;break e}Y=29,y=Error(a(130,c===null?"null":typeof c,"")),S=null}return f=t(Y,y,f,A),f.elementType=c,f.type=S,f.lanes=N,f}function Di(c,f,y,S){return c=t(7,c,S,f),c.lanes=y,c}function Pf(c,f,y,S){c=t(22,c,S,f),c.elementType=Qm,c.lanes=y;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var N=A._current;if(N===null)throw Error(a(456));if((A._pendingVisibility&2)===0){var Y=$e(N,2);Y!==null&&(A._pendingVisibility|=2,ma(Y,N,2))}},attach:function(){var N=A._current;if(N===null)throw Error(a(456));if((A._pendingVisibility&2)!==0){var Y=$e(N,2);Y!==null&&(A._pendingVisibility&=-3,ma(Y,N,2))}}};return c.stateNode=A,c}function vd(c,f,y){return c=t(6,c,null,f),c.lanes=y,c}function Zm(c,f,y){return f=t(4,c.children!==null?c.children:[],c.key,f),f.lanes=y,f.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},f}function B_(c,f,y,S,A,N,Y,ue){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=pl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=L(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=L(0),this.hiddenUpdates=L(null),this.identifierPrefix=S,this.onUncaughtError=A,this.onCaughtError=N,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ue,this.incompleteTransitions=new Map}function qv(c,f,y,S,A,N,Y,ue,Se,Xe,gt,Et){return c=new B_(c,f,y,Y,ue,Se,Xe,Et),f=1,N===!0&&(f|=24),N=t(3,null,null,f),c.current=N,N.stateNode=c,f=il(),f.refCount++,c.pooledCache=f,f.refCount++,N.memoizedState={element:S,isDehydrated:y,cache:f},Vt(N),c}function Zi(c){return c?(c=xl,c):xl}function yd(c){var f=c._reactInternals;if(f===void 0)throw typeof c.render=="function"?Error(a(188)):(c=Object.keys(c).join(","),Error(a(268,c)));return c=b(f),c=c!==null?M(c):null,c===null?null:pu(c.stateNode)}function lu(c,f,y,S,A,N){A=Zi(A),S.context===null?S.context=A:S.pendingContext=A,S=je(f),S.payload={element:y},N=N===void 0?null:N,N!==null&&(S.callback=N),y=et(c,S,f),y!==null&&(ma(y,c,f),Ot(y,c,f))}function cu(c,f){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var y=c.retryLane;c.retryLane=y!==0&&y<f?y:f}}function Bf(c,f){cu(c,f),(c=c.alternate)&&cu(c,f)}var yn={},uu=sm(),Ts=UK(),xd=Object.assign,z_=Symbol.for("react.element"),zf=Symbol.for("react.transitional.element"),nr=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),bd=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),Km=Symbol.for("react.consumer"),xr=Symbol.for("react.context"),Hf=Symbol.for("react.forward_ref"),_d=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),Sd=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),Qm=Symbol.for("react.offscreen"),Yv=Symbol.for("react.memo_cache_sentinel"),Ao=Symbol.iterator,Jm=Symbol.for("react.client.reference"),an=uu.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jr,Co,ec=!1,hu=Array.isArray,$m=e.rendererVersion,kf=e.rendererPackageName,du=e.extraDevToolsConfig,pu=e.getPublicInstance,Zv=e.getRootHostContext,mu=e.getChildHostContext,wd=e.prepareForCommit,Kv=e.resetAfterCommit,e0=e.createInstance,Gf=e.appendInitialChild,Ro=e.finalizeInitialChildren,xn=e.shouldSetTextContent,$n=e.createTextInstance,Ki=e.scheduleTimeout,Md=e.cancelTimeout,pl=e.noTimeout,Ya=e.isPrimaryRenderer;e.warnsIfNotActing;var aa=e.supportsMutation,ar=e.supportsPersistence,Ca=e.supportsHydration,Qv=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Fi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var za=e.setCurrentUpdatePriority,Do=e.getCurrentUpdatePriority,Jv=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var $v=e.shouldAttemptEagerTransition,V_=e.detachDeletedInstance;e.requestPostPaintCallback;var t0=e.maySuspendCommit,Ed=e.preloadInstance,n0=e.startSuspendingCommit,Za=e.suspendInstance,Qi=e.waitForCommitToBeReady,ml=e.NotPendingTransition,br=e.HostTransitionContext,Td=e.resetFormInstance;e.bindToConsole;var i0=e.supportsMicrotasks,No=e.scheduleMicrotask,gl=e.supportsTestSelectors,a0=e.findFiberRoot,s0=e.getBoundingRect,ey=e.getTextContent,gu=e.isHiddenSubtree,ty=e.matchAccessibilityRole,ny=e.setFocusIfFocusable,iy=e.setupIntersectionObserver,ay=e.appendChild,r0=e.appendChildToContainer,sy=e.commitTextUpdate,F_=e.commitMount,ry=e.commitUpdate,oy=e.insertBefore,ly=e.insertInContainerBefore,o0=e.removeChild,cy=e.removeChildFromContainer,l0=e.resetTextContent,uy=e.hideInstance,fy=e.hideTextInstance,hy=e.unhideInstance,H_=e.unhideTextInstance,dy=e.clearContainer,vu=e.cloneInstance,jf=e.createContainerChildSet,c0=e.appendChildToContainerChildSet,Ad=e.finalizeContainerChildren,yu=e.replaceContainerChildren,u0=e.cloneHiddenInstance,f0=e.cloneHiddenTextInstance,Cd=e.isSuspenseInstancePending,Rd=e.isSuspenseInstanceFallback,py=e.getSuspenseInstanceFallbackErrorDetails,my=e.registerSuspenseInstanceRetry,h0=e.canHydrateFormStateMarker,gy=e.isFormStateMarkerMatching,d0=e.getNextHydratableSibling,Dd=e.getFirstHydratableChild,vy=e.getFirstHydratableChildWithinContainer,yy=e.getFirstHydratableChildWithinSuspenseInstance,k_=e.canHydrateInstance,p0=e.canHydrateTextInstance,xy=e.canHydrateSuspenseInstance,by=e.hydrateInstance,m0=e.hydrateTextInstance,_y=e.hydrateSuspenseInstance,Sy=e.getNextHydratableInstanceAfterSuspenseInstance,G_=e.commitHydratedContainer,j_=e.commitHydratedSuspenseInstance,wy=e.clearSuspenseBoundary,Xf=e.clearSuspenseBoundaryFromContainer,Nd=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Ld=e.validateHydratableInstance,My=e.validateHydratableTextInstance,As=e.supportsResources,Wf=e.isHostHoistableType,Od=e.getHoistableRoot,g0=e.getResource,Ey=e.acquireResource,tc=e.releaseResource,qf=e.hydrateHoistable,Yf=e.mountHoistable,xu=e.unmountHoistable,Ud=e.createHoistableInstance,Ty=e.prepareToCommitHoistables,Ay=e.mayResourceSuspendCommit,nc=e.preloadResource,Cy=e.suspendResource,ri=e.supportsSingletons,_r=e.resolveSingletonInstance,vl=e.clearSingleton,Ry=e.acquireSingletonInstance,yl=e.releaseSingletonInstance,Xr=e.isHostSingletonType,Hi=[],Lo=-1,xl={},Ka=Math.clz32?Math.clz32:D,Dy=Math.log,Ny=Math.LN2,Wr=128,ic=4194304,Zf=Ts.unstable_scheduleCallback,Id=Ts.unstable_cancelCallback,Ly=Ts.unstable_shouldYield,Pd=Ts.unstable_requestPaint,sr=Ts.unstable_now,Bd=Ts.unstable_ImmediatePriority,Oy=Ts.unstable_UserBlockingPriority,zd=Ts.unstable_NormalPriority,X_=Ts.unstable_IdlePriority,Uy=Ts.log,ga=Ts.unstable_setDisableYieldValue,ki=null,fs=null,hs=typeof Object.is=="function"?Object.is:$,v0=new WeakMap,ac=[],sc=0,rc=null,bu=0,Cs=[],Rs=0,bl=null,Sr=1,wr="",sa=E(null),_u=E(null),qr=E(null),oc=E(null),Ra=null,Da=null,Vn=!1,rr=null,va=!1,Kf=Error(a(519)),or=[],lc=0,Mr=0,Qf=null,Oo=null,cc=!1,hi=!1,y0=!1,Su=0,wu=null,uc=0,Ds=0,fc=null,Uo=!1,hc=!1,Yr=Object.prototype.hasOwnProperty,Mu=Error(a(460)),Jf=Error(a(474)),$f={then:function(){}},_l=null,Sl=null,wl=0,Ml=ni(!0),Zr=ni(!1),di=E(null),Eu=E(0),Ns=E(null),oi=null,ra=E(0),Io=0,En=null,qt=null,Fn=null,lr=!1,dc=!1,El=!1,Vd=0,pc=0,ya=null,Er=0,Fd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ni={readContext:Ma,use:ce,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useLayoutEffect:ii,useInsertionEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useSyncExternalStore:ii,useId:ii};Ni.useCacheRefresh=ii,Ni.useMemoCache=ii,Ni.useHostTransitionStatus=ii,Ni.useFormState=ii,Ni.useActionState=ii,Ni.useOptimistic=ii;var Tl={readContext:Ma,use:ce,useCallback:function(c,f){return ot().memoizedState=[c,f===void 0?null:f],c},useContext:Ma,useEffect:Qh,useImperativeHandle:function(c,f,y){y=y!=null?y.concat([c]):null,ws(4194308,4,Jh.bind(null,f,c),y)},useLayoutEffect:function(c,f){return ws(4194308,4,c,f)},useInsertionEffect:function(c,f){ws(4,2,c,f)},useMemo:function(c,f){var y=ot();f=f===void 0?null:f;var S=c();if(El){K(!0);try{c()}finally{K(!1)}}return y.memoizedState=[S,f],S},useReducer:function(c,f,y){var S=ot();if(y!==void 0){var A=y(f);if(El){K(!0);try{y(f)}finally{K(!1)}}}else A=f;return S.memoizedState=S.baseState=A,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:A},S.queue=c,c=c.dispatch=ed.bind(null,En,c),[S.memoizedState,c]},useRef:function(c){var f=ot();return c={current:c},f.memoizedState=c},useState:function(c){c=Bt(c);var f=c.queue,y=Mm.bind(null,En,f);return f.dispatch=y,[c.memoizedState,y]},useDebugValue:Jo,useDeferredValue:function(c,f){var y=ot();return mf(y,c,f)},useTransition:function(){var c=Bt(!1);return c=Wc.bind(null,En,c.queue,!0,!1),ot().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,f,y){var S=En,A=ot();if(Vn){if(y===void 0)throw Error(a(407));y=y()}else{if(y=f(),Kn===null)throw Error(a(349));(In&60)!==0||vt(S,f,y)}A.memoizedState=y;var N={value:y,getSnapshot:f};return A.queue=N,Qh(Mt.bind(null,S,N,c),[c]),S.flags|=2048,fi(9,Ct.bind(null,S,N,y,f),{destroy:void 0},null),y},useId:function(){var c=ot(),f=Kn.identifierPrefix;if(Vn){var y=wr,S=Sr;y=(S&~(1<<32-Ka(S)-1)).toString(32)+y,f=":"+f+"R"+y,y=Vd++,0<y&&(f+="H"+y.toString(32)),f+=":"}else y=Er++,f=":"+f+"r"+y.toString(32)+":";return c.memoizedState=f},useCacheRefresh:function(){return ot().memoizedState=wm.bind(null,En)}};Tl.useMemoCache=Me,Tl.useHostTransitionStatus=gf,Tl.useFormState=Ri,Tl.useActionState=Ri,Tl.useOptimistic=function(c){var f=ot();f.memoizedState=f.baseState=c;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=y,f=Yc.bind(null,En,!0,y),y.dispatch=f,[c,f]};var Qa={readContext:Ma,use:ce,useCallback:Kl,useContext:Ma,useEffect:bm,useImperativeHandle:$h,useInsertionEffect:Tv,useLayoutEffect:pf,useMemo:_m,useReducer:Ie,useRef:Xc,useState:function(){return Ie(se)},useDebugValue:Jo,useDeferredValue:function(c,f){var y=F();return Sm(y,qt.memoizedState,c,f)},useTransition:function(){var c=Ie(se)[0],f=F().memoizedState;return[typeof c=="boolean"?c:ie(c),f]},useSyncExternalStore:ut,useId:qc};Qa.useCacheRefresh=mo,Qa.useMemoCache=Me,Qa.useHostTransitionStatus=gf,Qa.useFormState=On,Qa.useActionState=On,Qa.useOptimistic=function(c,f){var y=F();return un(y,qt,c,f)};var Ls={readContext:Ma,use:ce,useCallback:Kl,useContext:Ma,useEffect:bm,useImperativeHandle:$h,useInsertionEffect:Tv,useLayoutEffect:pf,useMemo:_m,useReducer:at,useRef:Xc,useState:function(){return at(se)},useDebugValue:Jo,useDeferredValue:function(c,f){var y=F();return qt===null?mf(y,c,f):Sm(y,qt.memoizedState,c,f)},useTransition:function(){var c=at(se)[0],f=F().memoizedState;return[typeof c=="boolean"?c:ie(c),f]},useSyncExternalStore:ut,useId:qc};Ls.useCacheRefresh=mo,Ls.useMemoCache=Me,Ls.useHostTransitionStatus=gf,Ls.useFormState=ia,Ls.useActionState=ia,Ls.useOptimistic=function(c,f){var y=F();return qt!==null?un(y,qt,c,f):(y.baseState=c,[c,y.queue.dispatch])};var Kr={isMounted:function(c){return(c=c._reactInternals)?v(c)===c:!1},enqueueSetState:function(c,f,y){c=c._reactInternals;var S=Vi(),A=je(S);A.payload=f,y!=null&&(A.callback=y),f=et(c,A,S),f!==null&&(ma(f,c,S),Ot(f,c,S))},enqueueReplaceState:function(c,f,y){c=c._reactInternals;var S=Vi(),A=je(S);A.tag=1,A.payload=f,y!=null&&(A.callback=y),f=et(c,A,S),f!==null&&(ma(f,c,S),Ot(f,c,S))},enqueueForceUpdate:function(c,f){c=c._reactInternals;var y=Vi(),S=je(y);S.tag=2,f!=null&&(S.callback=f),f=et(c,S,y),f!==null&&(ma(f,c,y),Ot(f,c,y))}},Hd=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},kd=Error(a(461)),li=!1,Gd={dehydrated:null,treeContext:null,retryLane:0},Po=E(null),Tr=null,Os=null,Tu=typeof AbortController<"u"?AbortController:function(){var c=[],f=this.signal={aborted:!1,addEventListener:function(y,S){c.push(S)}};this.abort=function(){f.aborted=!0,c.forEach(function(y){return y()})}},Iy=Ts.unstable_scheduleCallback,Py=Ts.unstable_NormalPriority,pi={$$typeof:xr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},x0=an.S;an.S=function(c,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Oe(c,f),x0!==null&&x0(c,f)};var Qr=E(null),Jr=!1,Li=!1,b0=!1,Zn=typeof WeakSet=="function"?WeakSet:Set,pn=null,Dn=!1,Wt=null,_n=!1,Ei=null,Us=8192,Au={getCacheForType:function(c){var f=Ma(pi),y=f.data.get(c);return y===void 0&&(y=c(),f.data.set(c,y)),y}},Cu=0,cr=1,xi=2,Ar=3,$r=4;if(typeof Symbol=="function"&&Symbol.for){var mc=Symbol.for;Cu=mc("selector.component"),cr=mc("selector.has_pseudo_class"),xi=mc("selector.role"),Ar=mc("selector.test_id"),$r=mc("selector.text")}var ur=typeof WeakMap=="function"?WeakMap:Map,Hn=0,Kn=null,Yt=null,In=0,ai=0,Va=null,fr=!1,Is=!1,oa=!1,Fa=0,ci=0,Ps=0,Bo=0,eh=0,Bs=0,eo=0,gc=null,Oi=null,jd=!1,Ja=0,Ru=1/0,th=null,Al=null,Cr=!1,to=null,vc=0,Cl=0,Xd=null,Du=0,Wd=null;return yn.attemptContinuousHydration=function(c){if(c.tag===13){var f=$e(c,67108864);f!==null&&ma(f,c,67108864),Bf(c,67108864)}},yn.attemptHydrationAtCurrentPriority=function(c){if(c.tag===13){var f=Vi(),y=$e(c,f);y!==null&&ma(y,c,f),Bf(c,f)}},yn.attemptSynchronousHydration=function(c){switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var f=O(c.pendingLanes);if(f!==0){for(c.pendingLanes|=2,c.entangledLanes|=2;f;){var y=1<<31-Ka(f);c.entanglements[1]|=y,f&=~y}bt(c),(Hn&6)===0&&(Ru=sr()+500,pt(0))}}break;case 13:f=$e(c,2),f!==null&&ma(f,c,2),Of(),Bf(c,2)}},yn.batchedUpdates=function(c,f){return c(f)},yn.createComponentSelector=function(c){return{$$typeof:Cu,value:c}},yn.createContainer=function(c,f,y,S,A,N,Y,ue,Se,Xe){return qv(c,f,!1,null,y,S,N,Y,ue,Se,Xe,null)},yn.createHasPseudoClassSelector=function(c){return{$$typeof:cr,value:c}},yn.createHydrationContainer=function(c,f,y,S,A,N,Y,ue,Se,Xe,gt,Et,Dt){return c=qv(y,S,!0,c,A,N,ue,Se,Xe,gt,Et,Dt),c.context=Zi(null),y=c.current,S=Vi(),A=je(S),A.callback=f??null,et(y,A,S),c.current.lanes=S,q(c,S),bt(c),c},yn.createPortal=function(c,f,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nr,key:S==null?null:""+S,children:c,containerInfo:f,implementation:y}},yn.createRoleSelector=function(c){return{$$typeof:xi,value:c}},yn.createTestNameSelector=function(c){return{$$typeof:Ar,value:c}},yn.createTextSelector=function(c){return{$$typeof:$r,value:c}},yn.defaultOnCaughtError=function(c){console.error(c)},yn.defaultOnRecoverableError=function(c){Hd(c)},yn.defaultOnUncaughtError=function(c){Hd(c)},yn.deferredUpdates=function(c){var f=an.T,y=Do();try{return za(32),an.T=null,c()}finally{za(y),an.T=f}},yn.discreteUpdates=function(c,f,y,S,A){var N=an.T,Y=Do();try{return za(2),an.T=null,c(f,y,S,A)}finally{za(Y),an.T=N,Hn===0&&(Ru=sr()+500)}},yn.findAllNodes=Nf,yn.findBoundingRects=function(c,f){if(!gl)throw Error(a(363));f=Nf(c,f),c=[];for(var y=0;y<f.length;y++)c.push(s0(f[y]));for(f=c.length-1;0<f;f--){y=c[f];for(var S=y.x,A=S+y.width,N=y.y,Y=N+y.height,ue=f-1;0<=ue;ue--)if(f!==ue){var Se=c[ue],Xe=Se.x,gt=Xe+Se.width,Et=Se.y,Dt=Et+Se.height;if(S>=Xe&&N>=Et&&A<=gt&&Y<=Dt){c.splice(f,1);break}else if(S!==Xe||y.width!==Se.width||Dt<N||Et>Y){if(!(N!==Et||y.height!==Se.height||gt<S||Xe>A)){Xe>S&&(Se.width+=Xe-S,Se.x=S),gt<A&&(Se.width=A-Xe),c.splice(f,1);break}}else{Et>N&&(Se.height+=Et-N,Se.y=N),Dt<Y&&(Se.height=Y-Et),c.splice(f,1);break}}}return c},yn.findHostInstance=yd,yn.findHostInstanceWithNoPortals=function(c){return c=b(c),c=c!==null?C(c):null,c===null?null:pu(c.stateNode)},yn.findHostInstanceWithWarning=function(c){return yd(c)},yn.flushPassiveEffects=yr,yn.flushSyncFromReconciler=function(c){var f=Hn;Hn|=1;var y=an.T,S=Do();try{if(za(2),an.T=null,c)return c()}finally{za(S),an.T=y,Hn=f,(Hn&6)===0&&pt(0)}},yn.flushSyncWork=Of,yn.focusWithin=function(c,f){if(!gl)throw Error(a(363));for(c=au(c),f=cs(c,f),f=Array.from(f),c=0;c<f.length;){var y=f[c++],S=y.tag;if(!gu(y)){if((S===5||S===26||S===27)&&ny(y.stateNode))return!0;for(y=y.child;y!==null;)f.push(y),y=y.sibling}}return!1},yn.getFindAllNodesFailureDescription=function(c,f){if(!gl)throw Error(a(363));var y=0,S=[];c=[au(c),0];for(var A=0;A<c.length;){var N=c[A++],Y=N.tag,ue=c[A++],Se=f[ue];if((Y!==5&&Y!==26&&Y!==27||!gu(N))&&(ol(N,Se)&&(S.push(km(Se)),ue++,ue>y&&(y=ue)),ue<f.length))for(N=N.child;N!==null;)c.push(N,ue),N=N.sibling}if(y<f.length){for(c=[];y<f.length;y++)c.push(km(f[y]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+c.join(" > ")}return null},yn.getPublicRootInstance=function(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 27:case 5:return pu(c.child.stateNode);default:return c.child.stateNode}},yn.injectIntoDevTools=function(){var c={bundleType:0,version:$m,rendererPackageName:kf,currentDispatcherRef:an,findFiberByHostInstance:Qv,reconcilerVersion:"19.0.0"};if(du!==null&&(c.rendererConfig=du),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")c=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)c=!0;else{try{ki=f.inject(c),fs=f}catch{}c=!!f.checkDCE}}return c},yn.isAlreadyRendering=function(){return!1},yn.observeVisibleRects=function(c,f,y,S){if(!gl)throw Error(a(363));c=Nf(c,f);var A=iy(c,y,S).disconnect;return{disconnect:function(){A()}}},yn.shouldError=function(){return null},yn.shouldSuspend=function(){return!1},yn.startHostTransition=function(c,f,y,S){if(c.tag!==5)throw Error(a(476));var A=Fr(c).queue;Wc(c,A,f,ml,y===null?i:function(){var N=Fr(c).next.queue;return $o(c,N,{},Vi()),y(S)})},yn.updateContainer=function(c,f,y,S){var A=f.current,N=Vi();return lu(A,N,c,f,y,S),N},yn.updateContainerSync=function(c,f,y,S){return f.tag===0&&yr(),lu(f.current,2,c,f,y,S),2},yn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(Hw)),Hw.exports}var kR;function PK(){return kR||(kR=1,Fw.exports=IK()),Fw.exports}var BK=PK();const zK=oM(BK);var jw={exports:{}},Xw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GR;function VK(){return GR||(GR=1,function(n){function e(G,K){var $=G.length;G.push(K);e:for(;0<$;){var pe=$-1>>>1,X=G[pe];if(0<a(X,K))G[pe]=K,G[$]=X,$=pe;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var K=G[0],$=G.pop();if($!==K){G[0]=$;e:for(var pe=0,X=G.length,fe=X>>>1;pe<fe;){var xe=2*(pe+1)-1,Ce=G[xe],Be=xe+1,ft=G[Be];if(0>a(Ce,$))Be<X&&0>a(ft,Ce)?(G[pe]=ft,G[Be]=$,pe=Be):(G[pe]=Ce,G[xe]=$,pe=xe);else if(Be<X&&0>a(ft,$))G[pe]=ft,G[Be]=$,pe=Be;else break e}}return K}function a(G,K){var $=G.sortIndex-K.sortIndex;return $!==0?$:G.id-K.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],m=1,v=null,x=3,b=!1,M=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var K=t(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=G)i(p),K.sortIndex=K.expirationTime,e(h,K);else break;K=t(p)}}function O(G){if(C=!1,D(G),!M)if(t(h)!==null)M=!0,de();else{var K=t(p);K!==null&&ve(O,K.startTime-G)}}var P=!1,U=-1,V=5,H=-1;function I(){return!(n.unstable_now()-H<V)}function L(){if(P){var G=n.unstable_now();H=G;var K=!0;try{e:{M=!1,C&&(C=!1,w(U),U=-1),b=!0;var $=x;try{t:{for(D(G),v=t(h);v!==null&&!(v.expirationTime>G&&I());){var pe=v.callback;if(typeof pe=="function"){v.callback=null,x=v.priorityLevel;var X=pe(v.expirationTime<=G);if(G=n.unstable_now(),typeof X=="function"){v.callback=X,D(G),K=!0;break t}v===t(h)&&i(h),D(G)}else i(h);v=t(h)}if(v!==null)K=!0;else{var fe=t(p);fe!==null&&ve(O,fe.startTime-G),K=!1}}break e}finally{v=null,x=$,b=!1}K=void 0}}finally{K?q():P=!1}}}var q;if(typeof R=="function")q=function(){R(L)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,re=J.port2;J.port1.onmessage=L,q=function(){re.postMessage(null)}}else q=function(){E(L,0)};function de(){P||(P=!0,q())}function ve(G,K){U=E(function(){G(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){M||b||(M=!0,de())},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(G){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var $=x;x=K;try{return G()}finally{x=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var $=x;x=G;try{return K()}finally{x=$}},n.unstable_scheduleCallback=function(G,K,$){var pe=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,G){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,G={id:m++,callback:K,priorityLevel:G,startTime:$,expirationTime:X,sortIndex:-1},$>pe?(G.sortIndex=$,e(p,G),t(h)===null&&G===t(p)&&(C?(w(U),U=-1):C=!0,ve(O,$-pe))):(G.sortIndex=X,e(h,G),M||b||(M=!0,de())),G},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(G){var K=x;return function(){var $=x;x=K;try{return G.apply(this,arguments)}finally{x=$}}}}(Xw)),Xw}var jR;function FK(){return jR||(jR=1,jw.exports=VK()),jw.exports}var XR=FK();function tT(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const a=tT(i,e,t);if(a)return a;i=e?null:i.sibling}}function E5(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const nT=E5(ne.createContext(null));class T5 extends ne.Component{render(){return ne.createElement(nT.Provider,{value:this._reactInternals},this.props.children)}}function A5(){const n=ne.useContext(nT);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ne.useId();return ne.useMemo(()=>{for(const t of[n,n?.alternate]){if(!t)continue;const i=tT(t,!1,a=>{let r=a.memoizedState;for(;r;){if(r.memoizedState===e)return!0;r=r.next}});if(i)return i}},[n,e])}const HK=Symbol.for("react.context"),kK=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===HK;function GK(){const n=A5(),[e]=ne.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;kK(i)&&i!==nT&&!e.has(i)&&e.set(i,ne.use(E5(i))),t=t.return}return e}function jK(){const n=GK();return ne.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>ne.createElement(e,null,ne.createElement(t.Provider,{...i,value:n.get(t)})),e=>ne.createElement(T5,{...e})),[n])}function C5(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const R5=n=>n&&n.isOrthographicCamera,XK=n=>n&&n.hasOwnProperty("current"),WK=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Mv=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ne.useLayoutEffect:ne.useEffect;function iT(n){const e=ne.useRef(n);return Mv(()=>void(e.current=n),[n]),e}function qK(){const n=A5(),e=jK();return ne.useMemo(()=>({children:t})=>{const a=!!tT(n,!0,r=>r.type===ne.StrictMode)?ne.StrictMode:ne.Fragment;return B.jsx(a,{children:B.jsx(e,{children:t})})},[n,e])}function YK({set:n}){return Mv(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const ZK=(n=>(n=class extends ne.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function D5(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function bp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ui={obj:n=>n===Object(n)&&!Ui.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ui.str(n)||Ui.num(n)||Ui.boo(n))return n===e;const r=Ui.obj(n);if(r&&i==="reference")return n===e;const l=Ui.arr(n);if(l&&t==="reference")return n===e;if((l||r)&&n===e)return!0;let u;for(u in n)if(!(u in e))return!1;if(r&&t==="shallow"&&i==="shallow"){for(u in a?e:n)if(!Ui.equ(n[u],e[u],{strict:a,objects:"reference"}))return!1}else for(u in a?e:n)if(n[u]!==e[u])return!1;if(Ui.und(u)){if(l&&n.length===0&&e.length===0||r&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function KK(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function QK(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];t?.type!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const N5=["children","key","ref"];function JK(n){const e={};for(const t in n)N5.includes(t)||(e[t]=n[t]);return e}function C1(n,e,t,i){const a=n;let r=a?.__r3f;return r||(r={root:e,type:t,parent:null,children:[],props:JK(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=r)),r}function Yg(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const i=e.split("-");for(const a of i){if(typeof t!="object"||t===null){if(t!==void 0){const r=i.slice(i.indexOf(a)).join("-");return{root:t,key:r,target:void 0}}return{root:n,key:e,target:void 0}}e=a,n=t,t=t[e]}return{root:n,key:e,target:t}}const WR=/-\d+$/;function R1(n,e){if(Ui.str(e.props.attach)){if(WR.test(e.props.attach)){const a=e.props.attach.replace(WR,""),{root:r,key:l}=Yg(n.object,a);Array.isArray(r[l])||(r[l]=[])}const{root:t,key:i}=Yg(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Ui.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function D1(n,e){if(Ui.str(e.props.attach)){const{root:t,key:i}=Yg(n.object,e.props.attach),a=e.previousAttach;a===void 0?delete t[i]:t[i]=a}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const eM=[...N5,"args","dispose","attach","object","onUpdate","dispose"],qR=new Map;function $K(n){let e=qR.get(n.constructor);try{e||(e=new n.constructor,qR.set(n.constructor,e))}catch{}return e}function eQ(n,e){const t={};for(const i in e)if(!eM.includes(i)&&!Ui.equ(e[i],n.props[i])){t[i]=e[i];for(const a in e)a.startsWith(`${i}-`)&&(t[a]=e[a])}for(const i in n.props){if(eM.includes(i)||e.hasOwnProperty(i))continue;const{root:a,key:r}=Yg(n.object,i);if(a.constructor&&a.constructor.length===0){const l=$K(a);Ui.und(l)||(t[r]=l[r])}else t[r]=0}return t}const tQ=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],nQ=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Pl(n,e){var t;const i=n.__r3f,a=i&&C5(i).getState(),r=i?.eventCount;for(const u in e){let h=e[u];if(eM.includes(u))continue;if(i&&nQ.test(u)){typeof h=="function"?i.handlers[u]=h:delete i.handlers[u],i.eventCount=Object.keys(i.handlers).length;continue}if(h===void 0)continue;let{root:p,key:m,target:v}=Yg(n,u);if(v===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${u}". Ensure it is an object before setting "${m}".`);if(v instanceof $p&&h instanceof $p)v.mask=h.mask;else if(v instanceof Lt&&WK(h))v.set(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&h!=null&&h.constructor&&v.constructor===h.constructor)v.copy(h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(h))typeof v.fromArray=="function"?v.fromArray(h):v.set(...h);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof h=="number")typeof v.setScalar=="function"?v.setScalar(h):v.set(h);else{var l;p[m]=h,a&&!a.linear&&tQ.includes(m)&&(l=p[m])!=null&&l.isTexture&&p[m].format===ha&&p[m].type===qs&&(p[m].colorSpace=ts)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(t=i.object)!=null&&t.isObject3D&&r!==i.eventCount){const u=i.object,h=a.internal.interaction.indexOf(u);h>-1&&a.internal.interaction.splice(h,1),i.eventCount&&u.raycast!==null&&a.internal.interaction.push(u)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&xm(i),n}function xm(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function L5(n,e){n.manual||(R5(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Hs=n=>n?.isObject3D;function Qx(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function O5(n,e,t,i){const a=t.get(e);a&&(t.delete(e),t.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function iQ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,a)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(a)}),t.capturedMap.forEach((i,a)=>{O5(t.capturedMap,e,i,a)})}function aQ(n){function e(h){const{internal:p}=n.getState(),m=h.offsetX-p.initialClick[0],v=h.offsetY-p.initialClick[1];return Math.round(Math.sqrt(m*m+v*v))}function t(h){return h.filter(p=>["Move","Over","Enter","Out","Leave"].some(m=>{var v;return(v=p.__r3f)==null?void 0:v.handlers["onPointer"+m]}))}function i(h,p){const m=n.getState(),v=new Set,x=[],b=p?p(m.internal.interaction):m.internal.interaction;for(let w=0;w<b.length;w++){const R=bp(b[w]);R&&(R.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(h,m);function M(w){const R=bp(w);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(h,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(w,!0):[]}let C=b.flatMap(M).sort((w,R)=>{const D=bp(w.object),O=bp(R.object);return!D||!O?w.distance-R.distance:O.events.priority-D.events.priority||w.distance-R.distance}).filter(w=>{const R=Qx(w);return v.has(R)?!1:(v.add(R),!0)});m.events.filter&&(C=m.events.filter(C,m));for(const w of C){let R=w.object;for(;R;){var E;(E=R.__r3f)!=null&&E.eventCount&&x.push({...w,eventObject:R}),R=R.parent}}if("pointerId"in h&&m.internal.capturedMap.has(h.pointerId))for(let w of m.internal.capturedMap.get(h.pointerId).values())v.has(Qx(w.intersection))||x.push(w.intersection);return x}function a(h,p,m,v){if(h.length){const x={stopped:!1};for(const b of h){let M=bp(b.object);if(M||b.object.traverseAncestors(C=>{const E=bp(C);if(E)return M=E,!1}),M){const{raycaster:C,pointer:E,camera:w,internal:R}=M,D=new te(E.x,E.y,0).unproject(w),O=I=>{var L,q;return(L=(q=R.capturedMap.get(I))==null?void 0:q.has(b.eventObject))!=null?L:!1},P=I=>{const L={intersection:b,target:p.target};R.capturedMap.has(I)?R.capturedMap.get(I).set(b.eventObject,L):R.capturedMap.set(I,new Map([[b.eventObject,L]])),p.target.setPointerCapture(I)},U=I=>{const L=R.capturedMap.get(I);L&&O5(R.capturedMap,b.eventObject,L,I)};let V={};for(let I in p){let L=p[I];typeof L!="function"&&(V[I]=L)}let H={...b,...V,pointer:E,intersections:h,stopped:x.stopped,delta:m,unprojectedPoint:D,ray:C.ray,camera:w,stopPropagation(){const I="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!I||I.has(b.eventObject))&&(H.stopped=x.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(L=>L.eventObject===b.eventObject))){const L=h.slice(0,h.indexOf(b));r([...L,b])}},target:{hasPointerCapture:O,setPointerCapture:P,releasePointerCapture:U},currentTarget:{hasPointerCapture:O,setPointerCapture:P,releasePointerCapture:U},nativeEvent:p};if(v(H),x.stopped===!0)break}}}return h}function r(h){const{internal:p}=n.getState();for(const m of p.hovered.values())if(!h.length||!h.find(v=>v.object===m.object&&v.index===m.index&&v.instanceId===m.instanceId)){const x=m.eventObject.__r3f;if(p.hovered.delete(Qx(m)),x!=null&&x.eventCount){const b=x.handlers,M={...m,intersections:h};b.onPointerOut==null||b.onPointerOut(M),b.onPointerLeave==null||b.onPointerLeave(M)}}}function l(h,p){for(let m=0;m<p.length;m++){const v=p[m].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(h)}}function u(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return p=>{const{internal:m}=n.getState();"pointerId"in p&&m.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(p.pointerId)&&(m.capturedMap.delete(p.pointerId),r([]))})}}return function(m){const{onPointerMissed:v,internal:x}=n.getState();x.lastEvent.current=m;const b=h==="onPointerMove",M=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",E=i(m,b?t:void 0),w=M?e(m):0;h==="onPointerDown"&&(x.initialClick=[m.offsetX,m.offsetY],x.initialHits=E.map(D=>D.eventObject)),M&&!E.length&&w<=2&&(l(m,x.interaction),v&&v(m)),b&&r(E);function R(D){const O=D.eventObject,P=O.__r3f;if(!(P!=null&&P.eventCount))return;const U=P.handlers;if(b){if(U.onPointerOver||U.onPointerEnter||U.onPointerOut||U.onPointerLeave){const V=Qx(D),H=x.hovered.get(V);H?H.stopped&&D.stopPropagation():(x.hovered.set(V,D),U.onPointerOver==null||U.onPointerOver(D),U.onPointerEnter==null||U.onPointerEnter(D))}U.onPointerMove==null||U.onPointerMove(D)}else{const V=U[h];V?(!M||x.initialHits.includes(O))&&(l(m,x.interaction.filter(H=>!x.initialHits.includes(H))),V(D)):M&&x.initialHits.includes(O)&&l(m,x.interaction.filter(H=>!x.initialHits.includes(H)))}}a(E,m,w,R)}}return{handlePointer:u}}const YR=n=>!!(n!=null&&n.render),aT=ne.createContext(null),sQ=(n,e)=>{const t=S5((u,h)=>{const p=new te,m=new te,v=new te;function x(w=h().camera,R=m,D=h().size){const{width:O,height:P,top:U,left:V}=D,H=O/P;R.isVector3?v.copy(R):v.set(...R);const I=w.getWorldPosition(p).distanceTo(v);if(R5(w))return{width:O/w.zoom,height:P/w.zoom,top:U,left:V,factor:1,distance:I,aspect:H};{const L=w.fov*Math.PI/180,q=2*Math.tan(L/2)*I,J=q*(O/P);return{width:J,height:q,top:U,left:V,factor:O/J,distance:I,aspect:H}}}let b;const M=w=>u(R=>({performance:{...R.performance,current:w}})),C=new qe;return{set:u,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(w=1)=>n(h(),w),advance:(w,R)=>e(w,R,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new YE,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=h();b&&clearTimeout(b),w.performance.current!==w.performance.min&&M(w.performance.min),b=setTimeout(()=>M(h().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:x},setEvents:w=>u(R=>({...R,events:{...R.events,...w}})),setSize:(w,R,D=0,O=0)=>{const P=h().camera,U={width:w,height:R,top:D,left:O};u(V=>({size:U,viewport:{...V.viewport,...x(P,m,U)}}))},setDpr:w=>u(R=>{const D=D5(w);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(w="always")=>{const R=h().clock;R.stop(),R.elapsedTime=0,w!=="never"&&(R.start(),R.elapsedTime=0),u(()=>({frameloop:w}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ne.createRef(),active:!1,frames:0,priority:0,subscribe:(w,R,D)=>{const O=h().internal;return O.priority=O.priority+(R>0?1:0),O.subscribers.push({ref:w,priority:R,store:D}),O.subscribers=O.subscribers.sort((P,U)=>P.priority-U.priority),()=>{const P=h().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(R>0?1:0),P.subscribers=P.subscribers.filter(U=>U.ref!==w))}}}}}),i=t.getState();let a=i.size,r=i.viewport.dpr,l=i.camera;return t.subscribe(()=>{const{camera:u,size:h,viewport:p,gl:m,set:v}=t.getState();if(h.width!==a.width||h.height!==a.height||p.dpr!==r){a=h,r=p.dpr,L5(u,h),p.dpr>0&&m.setPixelRatio(p.dpr);const x=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(h.width,h.height,x)}u!==l&&(l=u,v(x=>({viewport:{...x.viewport,...x.viewport.getCurrentViewport(u)}})))}),t.subscribe(u=>n(u)),t};function sT(){const n=ne.useContext(aT);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Lr(n=t=>t,e){return sT()(n,e)}function rT(n,e=0){const t=sT(),i=t.getState().internal.subscribe,a=iT(n);return Mv(()=>i(a,e,t),[e,i,t]),null}const ZR=new WeakMap,rQ=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function U5(n,e){return function(t,...i){let a;return rQ(t)?(a=ZR.get(t),a||(a=new t,ZR.set(t,a))):a=t,n&&n(a),Promise.all(i.map(r=>new Promise((l,u)=>a.load(r,h=>{Hs(h?.scene)&&Object.assign(h,KK(h.scene)),l(h)},e,h=>u(new Error(`Could not load ${r}: ${h?.message}`))))))}}function im(n,e,t,i){const a=Array.isArray(e)?e:[e],r=DK(U5(t,i),[n,...a],{equal:Ui.equ});return Array.isArray(e)?r:r[0]}im.preload=function(n,e,t){const i=Array.isArray(e)?e:[e];return NK(U5(t),[n,...i])};im.clear=function(n,e){const t=Array.isArray(e)?e:[e];return LK([n,...t])};function oQ(n){const e=zK(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ne.version}),e}const I5=0,am={},lQ=/^three(?=[A-Z])/,L_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let cQ=0;const uQ=n=>typeof n=="function";function P5(n){if(uQ(n)){const e=`${cQ++}`;return am[e]=n,e}else Object.assign(am,n)}function B5(n,e){const t=L_(n),i=am[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function fQ(n,e,t){var i;return n=L_(n)in am?n:n.replace(lQ,""),B5(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,C1(e.object,t,n,e)}function hQ(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?D1(n.parent,n):Hs(n.object)&&(n.object.visible=!1),n.isHidden=!0,xm(n)}}function z5(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?R1(n.parent,n):Hs(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,xm(n)}}function oT(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var a,r;const l=am[L_(e.type)];e.object=(a=e.props.object)!=null?a:new l(...(r=e.props.args)!=null?r:[]),e.object.__r3f=e}if(Pl(e.object,e.props),e.props.attach)R1(n,e);else if(Hs(e.object)&&Hs(n.object)){const l=n.object.children.indexOf(t?.object);if(t&&l!==-1){const u=n.object.children.indexOf(e.object);if(u!==-1){n.object.children.splice(u,1);const h=u<l?l-1:l;n.object.children.splice(h,0,e.object)}else e.object.parent=n.object,n.object.children.splice(l,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const l of e.children)oT(e,l);xm(e)}}function Ww(n,e){e&&(e.parent=n,n.children.push(e),oT(n,e))}function KR(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),oT(n,e,t)}function V5(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():XR.unstable_scheduleCallback(XR.unstable_IdlePriority,e)}}function tM(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?D1(n,e):Hs(e.object)&&Hs(n.object)&&(n.object.remove(e.object),iQ(C5(e),e.object));const a=e.props.dispose!==null&&t!==!1;for(let r=e.children.length-1;r>=0;r--){const l=e.children[r];tM(e,l,a)}e.children.length=0,delete e.object.__r3f,a&&e.type!=="primitive"&&e.object.type!=="Scene"&&V5(e.object),t===void 0&&xm(e)}function dQ(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const vb=[];function pQ(){for(const[t]of vb){const i=t.parent;if(i){t.props.attach?D1(i,t):Hs(t.object)&&Hs(i.object)&&i.object.remove(t.object);for(const a of t.children)a.props.attach?D1(t,a):Hs(a.object)&&Hs(t.object)&&t.object.remove(a.object)}t.isHidden&&z5(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&V5(t.object)}for(const[t,i,a]of vb){t.props=i;const r=t.parent;if(r){var n,e;const l=am[L_(t.type)];t.object=(n=t.props.object)!=null?n:new l(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,dQ(a,t.object),Pl(t.object,t.props),t.props.attach?R1(r,t):Hs(t.object)&&Hs(r.object)&&r.object.add(t.object);for(const u of t.children)u.props.attach?R1(t,u):Hs(u.object)&&Hs(t.object)&&t.object.add(u.object);xm(t)}}vb.length=0}const qw=()=>{},QR={};let Jx=I5;const mQ=0,gQ=4,N1=oQ({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:fQ,removeChild:tM,appendChild:Ww,appendInitialChild:Ww,insertBefore:KR,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||Ww(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||tM(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||KR(i,e,t)},getRootHostContext:()=>QR,getChildHostContext:()=>QR,commitUpdate(n,e,t,i,a){var r,l,u;B5(e,i);let h=!1;if((n.type==="primitive"&&t.object!==i.object||((r=i.args)==null?void 0:r.length)!==((l=t.args)==null?void 0:l.length)||(u=i.args)!=null&&u.some((m,v)=>{var x;return m!==((x=t.args)==null?void 0:x[v])}))&&(h=!0),h)vb.push([n,{...i},a]);else{const m=eQ(n,i);Object.keys(m).length&&(Object.assign(n.props,m),Pl(n.object,m))}(a.sibling===null||(a.flags&gQ)===mQ)&&pQ()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n?.object,prepareForCommit:()=>null,preparePortalMount:n=>C1(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:hQ,unhideInstance:z5,createTextInstance:qw,hideTextInstance:qw,unhideTextInstance:qw,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ne.createContext(null),setCurrentUpdatePriority(n){Jx=n},getCurrentUpdatePriority(){return Jx},resolveUpdatePriority(){var n;if(Jx!==I5)return Jx;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return db.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return db.ContinuousEventPriority;default:return db.DefaultEventPriority}},resetFormInstance(){}}),jh=new Map,_p={objects:"shallow",strict:!1};function vQ(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:a,left:r}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:a,left:r}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function yQ(n){const e=jh.get(n),t=e?.fiber,i=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,r=i||sQ(aM,$R),l=t||N1.createContainer(r,db.ConcurrentRoot,null,!1,null,"",a,a,a,null);e||jh.set(n,{fiber:l,store:r});let u,h,p=!1,m=null;return{async configure(v={}){let x;m=new Promise(fe=>x=fe);let{gl:b,size:M,scene:C,events:E,onCreated:w,shadows:R=!1,linear:D=!1,flat:O=!1,legacy:P=!1,orthographic:U=!1,frameloop:V="always",dpr:H=[1,2],performance:I,raycaster:L,camera:q,onPointerMissed:J}=v,re=r.getState(),de=re.gl;if(!re.gl){const fe={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},xe=typeof b=="function"?await b(fe):b;YR(xe)?de=xe:de=new eT({...fe,...b}),re.set({gl:de})}let ve=re.raycaster;ve||re.set({raycaster:ve=new JE});const{params:G,...K}=L||{};if(Ui.equ(K,ve,_p)||Pl(ve,{...K}),Ui.equ(G,ve.params,_p)||Pl(ve,{params:{...ve.params,...G}}),!re.camera||re.camera===h&&!Ui.equ(h,q,_p)){h=q;const fe=q?.isCamera,xe=fe?q:U?new Bc(0,0,0,0,.1,1e3):new fa(75,0,.1,1e3);fe||(xe.position.z=5,q&&(Pl(xe,q),xe.manual||("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(xe.manual=!0,xe.updateProjectionMatrix())),!re.camera&&!(q!=null&&q.rotation)&&xe.lookAt(0,0,0)),re.set({camera:xe}),ve.camera=xe}if(!re.scene){let fe;C!=null&&C.isScene?(fe=C,C1(fe,r,"",{})):(fe=new gv,C1(fe,r,"",{}),C&&Pl(fe,C)),re.set({scene:fe})}E&&!re.events.handlers&&re.set({events:E(r)});const $=vQ(n,M);if(Ui.equ($,re.size,_p)||re.setSize($.width,$.height,$.top,$.left),H&&re.viewport.dpr!==D5(H)&&re.setDpr(H),re.frameloop!==V&&re.setFrameloop(V),re.onPointerMissed||re.set({onPointerMissed:J}),I&&!Ui.equ(I,re.performance,_p)&&re.set(fe=>({performance:{...fe.performance,...I}})),!re.xr){var pe;const fe=(Be,ft)=>{const ge=r.getState();ge.frameloop!=="never"&&$R(Be,!0,ge,ft)},xe=()=>{const Be=r.getState();Be.gl.xr.enabled=Be.gl.xr.isPresenting,Be.gl.xr.setAnimationLoop(Be.gl.xr.isPresenting?fe:null),Be.gl.xr.isPresenting||aM(Be)},Ce={connect(){const Be=r.getState().gl;Be.xr.addEventListener("sessionstart",xe),Be.xr.addEventListener("sessionend",xe)},disconnect(){const Be=r.getState().gl;Be.xr.removeEventListener("sessionstart",xe),Be.xr.removeEventListener("sessionend",xe)}};typeof((pe=de.xr)==null?void 0:pe.addEventListener)=="function"&&Ce.connect(),re.set({xr:Ce})}if(de.shadowMap){const fe=de.shadowMap.enabled,xe=de.shadowMap.type;if(de.shadowMap.enabled=!!R,Ui.boo(R))de.shadowMap.type=ug;else if(Ui.str(R)){var X;const Ce={basic:EL,percentage:J1,soft:ug,variance:jo};de.shadowMap.type=(X=Ce[R])!=null?X:ug}else Ui.obj(R)&&Object.assign(de.shadowMap,R);(fe!==de.shadowMap.enabled||xe!==de.shadowMap.type)&&(de.shadowMap.needsUpdate=!0)}return kn.enabled=!P,p||(de.outputColorSpace=D?Ko:ts,de.toneMapping=O?kl:mE),re.legacy!==P&&re.set(()=>({legacy:P})),re.linear!==D&&re.set(()=>({linear:D})),re.flat!==O&&re.set(()=>({flat:O})),b&&!Ui.fun(b)&&!YR(b)&&!Ui.equ(b,de,_p)&&Pl(de,b),u=w,p=!0,x(),this},render(v){return!p&&!m&&this.configure(),m.then(()=>{N1.updateContainer(B.jsx(xQ,{store:r,children:v,onCreated:u,rootElement:n}),l,null,()=>{})}),r},unmount(){F5(n)}}}function xQ({store:n,children:e,onCreated:t,rootElement:i}){return Mv(()=>{const a=n.getState();a.set(r=>({internal:{...r.internal,active:!0}})),t&&t(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),B.jsx(aT.Provider,{value:n,children:e})}function F5(n,e){const t=jh.get(n),i=t?.fiber;if(i){const a=t?.store.getState();a&&(a.internal.active=!1),N1.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var r,l,u,h;a.events.disconnect==null||a.events.disconnect(),(r=a.gl)==null||(l=r.renderLists)==null||l.dispose==null||l.dispose(),(u=a.gl)==null||u.forceContextLoss==null||u.forceContextLoss(),(h=a.gl)!=null&&h.xr&&a.xr.disconnect(),QK(a.scene),jh.delete(n)}catch{}},500)})}}function bQ(n,e,t){return B.jsx(_Q,{children:n,container:e,state:t})}function _Q({state:n={},children:e,container:t}){const{events:i,size:a,...r}=n,l=sT(),[u]=ne.useState(()=>new JE),[h]=ne.useState(()=>new qe),p=iT((v,x)=>{let b;if(x.camera&&a){const M=x.camera;b=v.viewport.getCurrentViewport(M,new te,a),M!==v.camera&&L5(M,a)}return{...v,...x,scene:t,raycaster:u,pointer:h,mouse:h,previousRoot:l,events:{...v.events,...x.events,...i},size:{...v.size,...a},viewport:{...v.viewport,...b},setEvents:M=>x.set(C=>({...C,events:{...C.events,...M}}))}}),m=ne.useMemo(()=>{const v=S5((b,M)=>({...r,set:b,get:M})),x=b=>v.setState(M=>p.current(b,M));return x(l.getState()),l.subscribe(x),v},[l,t]);return B.jsx(B.Fragment,{children:N1.createPortal(B.jsx(aT.Provider,{value:m,children:e}),m,null)})}const SQ=new Set,wQ=new Set,MQ=new Set;function Yw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function xg(n,e){switch(n){case"before":return Yw(SQ,e);case"after":return Yw(wQ,e);case"tail":return Yw(MQ,e)}}let Zw,Kw;function nM(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Zw=e.internal.subscribers;for(let a=0;a<Zw.length;a++)Kw=Zw[a],Kw.ref.current(Kw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let L1=!1,iM=!1,Qw,JR,Sp;function H5(n){JR=requestAnimationFrame(H5),L1=!0,Qw=0,xg("before",n),iM=!0;for(const t of jh.values()){var e;Sp=t.store.getState(),Sp.internal.active&&(Sp.frameloop==="always"||Sp.internal.frames>0)&&!((e=Sp.gl.xr)!=null&&e.isPresenting)&&(Qw+=nM(n,Sp))}if(iM=!1,xg("after",n),Qw===0)return xg("tail",n),L1=!1,cancelAnimationFrame(JR)}function aM(n,e=1){var t;if(!n)return jh.forEach(i=>aM(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):iM?n.internal.frames=2:n.internal.frames=1,L1||(L1=!0,requestAnimationFrame(H5)))}function $R(n,e=!0,t,i){if(e&&xg("before",n),t)nM(n,t,i);else for(const a of jh.values())nM(n,a.store.getState());e&&xg("after",n)}const Jw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function EQ(n){const{handlePointer:e}=aQ(n);return{priority:1,enabled:!0,compute(t,i,a){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Jw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:a}=n.getState();(t=a.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:t=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(r=>({events:{...r.events,connected:t}})),a.handlers)for(const r in a.handlers){const l=a.handlers[r],[u,h]=Jw[r];t.addEventListener(u,l,{passive:h})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const r=i.handlers[a],[l]=Jw[a];i.connected.removeEventListener(l,r)}t(a=>({events:{...a.events,connected:void 0}}))}}}}function eD(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function TQ({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[r,l]=ne.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=ne.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),h=n?typeof n=="number"?n:n.scroll:null,p=n?typeof n=="number"?n:n.resize:null,m=ne.useRef(!1);ne.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[v,x,b]=ne.useMemo(()=>{const w=()=>{if(!u.current.element)return;const{left:R,top:D,width:O,height:P,bottom:U,right:V,x:H,y:I}=u.current.element.getBoundingClientRect(),L={left:R,top:D,width:O,height:P,bottom:U,right:V,x:H,y:I};u.current.element instanceof HTMLElement&&i&&(L.height=u.current.element.offsetHeight,L.width=u.current.element.offsetWidth),Object.freeze(L),m.current&&!DQ(u.current.lastBounds,L)&&l(u.current.lastBounds=L)};return[w,p?eD(w,p):w,h?eD(w,h):w]},[l,i,h,p]);function M(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",b,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null),u.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",u.current.orientationHandler))}function C(){u.current.element&&(u.current.resizeObserver=new a(b),u.current.resizeObserver.observe(u.current.element),e&&u.current.scrollContainers&&u.current.scrollContainers.forEach(w=>w.addEventListener("scroll",b,{capture:!0,passive:!0})),u.current.orientationHandler=()=>{b()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",u.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",u.current.orientationHandler))}const E=w=>{!w||w===u.current.element||(M(),u.current.element=w,u.current.scrollContainers=k5(w),C())};return CQ(b,!!e),AQ(x),ne.useEffect(()=>{M(),C()},[e,b,x]),ne.useEffect(()=>M,[]),[E,r,v]}function AQ(n){ne.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function CQ(n,e){ne.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function k5(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[t,i,a].some(r=>r==="auto"||r==="scroll")&&e.push(n),[...e,...k5(n.parentElement)]}const RQ=["x","y","top","bottom","left","right","width","height"],DQ=(n,e)=>RQ.every(t=>n[t]===e[t]);function NQ({ref:n,children:e,fallback:t,resize:i,style:a,gl:r,events:l=EQ,eventSource:u,eventPrefix:h,shadows:p,linear:m,flat:v,legacy:x,orthographic:b,frameloop:M,dpr:C,performance:E,raycaster:w,camera:R,scene:D,onPointerMissed:O,onCreated:P,...U}){ne.useMemo(()=>P5(yK),[]);const V=qK(),[H,I]=TQ({scroll:!0,debounce:{scroll:50,resize:0},...i}),L=ne.useRef(null),q=ne.useRef(null);ne.useImperativeHandle(n,()=>L.current);const J=iT(O),[re,de]=ne.useState(!1),[ve,G]=ne.useState(!1);if(re)throw re;if(ve)throw ve;const K=ne.useRef(null);Mv(()=>{const pe=L.current;if(I.width>0&&I.height>0&&pe){K.current||(K.current=yQ(pe));async function X(){await K.current.configure({gl:r,scene:D,events:l,shadows:p,linear:m,flat:v,legacy:x,orthographic:b,frameloop:M,dpr:C,performance:E,raycaster:w,camera:R,size:I,onPointerMissed:(...fe)=>J.current==null?void 0:J.current(...fe),onCreated:fe=>{fe.events.connect==null||fe.events.connect(u?XK(u)?u.current:u:q.current),h&&fe.setEvents({compute:(xe,Ce)=>{const Be=xe[h+"X"],ft=xe[h+"Y"];Ce.pointer.set(Be/Ce.size.width*2-1,-(ft/Ce.size.height)*2+1),Ce.raycaster.setFromCamera(Ce.pointer,Ce.camera)}}),P?.(fe)}}),K.current.render(B.jsx(V,{children:B.jsx(ZK,{set:G,children:B.jsx(ne.Suspense,{fallback:B.jsx(YK,{set:de}),children:e??null})})}))}X()}}),ne.useEffect(()=>{const pe=L.current;if(pe)return()=>F5(pe)},[]);const $=u?"none":"auto";return B.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:$,...a},...U,children:B.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:B.jsx("canvas",{ref:L,style:{display:"block"},children:t})})})}function LQ(n){return B.jsx(T5,{children:B.jsx(NQ,{...n})})}function O1(){return O1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},O1.apply(null,arguments)}const G5=parseInt(uv.replace(/\D+/g,""));var oo=Uint8Array,$u=Uint16Array,sM=Uint32Array,j5=new oo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X5=new oo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OQ=new oo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W5=function(n,e){for(var t=new $u(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var a=new sM(t[30]),i=1;i<30;++i)for(var r=t[i];r<t[i+1];++r)a[r]=r-t[i]<<5|i;return[t,a]},q5=W5(j5,2),Y5=q5[0],UQ=q5[1];Y5[28]=258,UQ[258]=28;var IQ=W5(X5,0),PQ=IQ[0],rM=new $u(32768);for(var Ci=0;Ci<32768;++Ci){var ju=(Ci&43690)>>>1|(Ci&21845)<<1;ju=(ju&52428)>>>2|(ju&13107)<<2,ju=(ju&61680)>>>4|(ju&3855)<<4,rM[Ci]=((ju&65280)>>>8|(ju&255)<<8)>>>1}var bg=function(n,e,t){for(var i=n.length,a=0,r=new $u(e);a<i;++a)++r[n[a]-1];var l=new $u(e);for(a=0;a<e;++a)l[a]=l[a-1]+r[a-1]<<1;var u;if(t){u=new $u(1<<e);var h=15-e;for(a=0;a<i;++a)if(n[a])for(var p=a<<4|n[a],m=e-n[a],v=l[n[a]-1]++<<m,x=v|(1<<m)-1;v<=x;++v)u[rM[v]>>>h]=p}else for(u=new $u(i),a=0;a<i;++a)n[a]&&(u[a]=rM[l[n[a]-1]++]>>>15-n[a]);return u},Ev=new oo(288);for(var Ci=0;Ci<144;++Ci)Ev[Ci]=8;for(var Ci=144;Ci<256;++Ci)Ev[Ci]=9;for(var Ci=256;Ci<280;++Ci)Ev[Ci]=7;for(var Ci=280;Ci<288;++Ci)Ev[Ci]=8;var Z5=new oo(32);for(var Ci=0;Ci<32;++Ci)Z5[Ci]=5;var BQ=bg(Ev,9,1),zQ=bg(Z5,5,1),$w=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},ko=function(n,e,t){var i=e/8|0;return(n[i]|n[i+1]<<8)>>(e&7)&t},e2=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},VQ=function(n){return(n/8|0)+(n&7&&1)},FQ=function(n,e,t){(t==null||t>n.length)&&(t=n.length);var i=new(n instanceof $u?$u:n instanceof sM?sM:oo)(t-e);return i.set(n.subarray(e,t)),i},HQ=function(n,e,t){var i=n.length;if(!i||t&&!t.l&&i<5)return e||new oo(0);var a=!e||t,r=!t||t.i;t||(t={}),e||(e=new oo(i*3));var l=function(ge){var ze=e.length;if(ge>ze){var Ke=new oo(Math.max(ze*2,ge));Ke.set(e),e=Ke}},u=t.f||0,h=t.p||0,p=t.b||0,m=t.l,v=t.d,x=t.m,b=t.n,M=i*8;do{if(!m){t.f=u=ko(n,h,1);var C=ko(n,h+1,3);if(h+=3,C)if(C==1)m=BQ,v=zQ,x=9,b=5;else if(C==2){var D=ko(n,h,31)+257,O=ko(n,h+10,15)+4,P=D+ko(n,h+5,31)+1;h+=14;for(var U=new oo(P),V=new oo(19),H=0;H<O;++H)V[OQ[H]]=ko(n,h+H*3,7);h+=O*3;for(var I=$w(V),L=(1<<I)-1,q=bg(V,I,1),H=0;H<P;){var J=q[ko(n,h,L)];h+=J&15;var E=J>>>4;if(E<16)U[H++]=E;else{var re=0,de=0;for(E==16?(de=3+ko(n,h,3),h+=2,re=U[H-1]):E==17?(de=3+ko(n,h,7),h+=3):E==18&&(de=11+ko(n,h,127),h+=7);de--;)U[H++]=re}}var ve=U.subarray(0,D),G=U.subarray(D);x=$w(ve),b=$w(G),m=bg(ve,x,1),v=bg(G,b,1)}else throw"invalid block type";else{var E=VQ(h)+4,w=n[E-4]|n[E-3]<<8,R=E+w;if(R>i){if(r)throw"unexpected EOF";break}a&&l(p+w),e.set(n.subarray(E,R),p),t.b=p+=w,t.p=h=R*8;continue}if(h>M){if(r)throw"unexpected EOF";break}}a&&l(p+131072);for(var K=(1<<x)-1,$=(1<<b)-1,pe=h;;pe=h){var re=m[e2(n,h)&K],X=re>>>4;if(h+=re&15,h>M){if(r)throw"unexpected EOF";break}if(!re)throw"invalid length/literal";if(X<256)e[p++]=X;else if(X==256){pe=h,m=null;break}else{var fe=X-254;if(X>264){var H=X-257,xe=j5[H];fe=ko(n,h,(1<<xe)-1)+Y5[H],h+=xe}var Ce=v[e2(n,h)&$],Be=Ce>>>4;if(!Ce)throw"invalid distance";h+=Ce&15;var G=PQ[Be];if(Be>3){var xe=X5[Be];G+=e2(n,h)&(1<<xe)-1,h+=xe}if(h>M){if(r)throw"unexpected EOF";break}a&&l(p+131072);for(var ft=p+fe;p<ft;p+=4)e[p]=e[p-G],e[p+1]=e[p+1-G],e[p+2]=e[p+2-G],e[p+3]=e[p+3-G];p=ft}}t.l=m,t.p=pe,t.b=p,m&&(u=1,t.m=x,t.d=v,t.n=b)}while(!u);return p==e.length?e:FQ(e,0,p)},kQ=new oo(0),GQ=function(n){if((n[0]&15)!=8||n[0]>>>4>7||(n[0]<<8|n[1])%31)throw"invalid zlib data";if(n[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function $x(n,e){return HQ((GQ(n),n.subarray(2,-4)),e)}var jQ=typeof TextDecoder<"u"&&new TextDecoder,XQ=0;try{jQ.decode(kQ,{stream:!0}),XQ=1}catch{}const WQ=n=>n&&n.isCubeTexture;class qQ extends na{constructor(e,t){var i,a;const r=WQ(e),u=((a=r?(i=e.image[0])==null?void 0:i.width:e.image.width)!=null?a:1024)/4,h=Math.floor(Math.log2(u)),p=Math.pow(2,h),m=3*Math.max(p,112),v=4*p,x=[r?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/m}`,`#define CUBEUV_TEXEL_HEIGHT ${1/v}`,`#define CUBEUV_MAX_MIP ${h}.0`],b=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,M=x.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${G5>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,C={map:{value:e},height:{value:t?.height||15},radius:{value:t?.radius||100}},E=new xv(1,16),w=new Ys({uniforms:C,fragmentShader:M,vertexShader:b,side:Wo});super(E,w)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var YQ=Object.defineProperty,ZQ=(n,e,t)=>e in n?YQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,KQ=(n,e,t)=>(ZQ(n,e+"",t),t);class QQ{constructor(){KQ(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const a=this._listeners[e];if(a!==void 0){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const a=i.slice(0);for(let r=0,l=a.length;r<l;r++)a[r].call(this,e);e.target=null}}}var JQ=Object.defineProperty,$Q=(n,e,t)=>e in n?JQ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Zt=(n,e,t)=>($Q(n,typeof e!="symbol"?e+"":e,t),t);const eb=new qh,tD=new Nc,eJ=Math.cos(70*(Math.PI/180)),nD=(n,e)=>(n%e+e)%e;let tJ=class extends QQ{constructor(e,t){super(),Zt(this,"object"),Zt(this,"domElement"),Zt(this,"enabled",!0),Zt(this,"target",new te),Zt(this,"minDistance",0),Zt(this,"maxDistance",1/0),Zt(this,"minZoom",0),Zt(this,"maxZoom",1/0),Zt(this,"minPolarAngle",0),Zt(this,"maxPolarAngle",Math.PI),Zt(this,"minAzimuthAngle",-1/0),Zt(this,"maxAzimuthAngle",1/0),Zt(this,"enableDamping",!1),Zt(this,"dampingFactor",.05),Zt(this,"enableZoom",!0),Zt(this,"zoomSpeed",1),Zt(this,"enableRotate",!0),Zt(this,"rotateSpeed",1),Zt(this,"enablePan",!0),Zt(this,"panSpeed",1),Zt(this,"screenSpacePanning",!0),Zt(this,"keyPanSpeed",7),Zt(this,"zoomToCursor",!1),Zt(this,"autoRotate",!1),Zt(this,"autoRotateSpeed",2),Zt(this,"reverseOrbit",!1),Zt(this,"reverseHorizontalOrbit",!1),Zt(this,"reverseVerticalOrbit",!1),Zt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Zt(this,"mouseButtons",{LEFT:bh.ROTATE,MIDDLE:bh.DOLLY,RIGHT:bh.PAN}),Zt(this,"touches",{ONE:_h.ROTATE,TWO:_h.DOLLY_PAN}),Zt(this,"target0"),Zt(this,"position0"),Zt(this,"zoom0"),Zt(this,"_domElementKeyEvents",null),Zt(this,"getPolarAngle"),Zt(this,"getAzimuthalAngle"),Zt(this,"setPolarAngle"),Zt(this,"setAzimuthalAngle"),Zt(this,"getDistance"),Zt(this,"getZoomScale"),Zt(this,"listenToKeyEvents"),Zt(this,"stopListenToKeyEvents"),Zt(this,"saveState"),Zt(this,"reset"),Zt(this,"update"),Zt(this,"connect"),Zt(this,"dispose"),Zt(this,"dollyIn"),Zt(this,"dollyOut"),Zt(this,"getScale"),Zt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=oe=>{let we=nD(oe,2*Math.PI),Ze=m.phi;Ze<0&&(Ze+=2*Math.PI),we<0&&(we+=2*Math.PI);let ae=Math.abs(we-Ze);2*Math.PI-ae<ae&&(we<Ze?we+=2*Math.PI:Ze+=2*Math.PI),v.phi=we-Ze,i.update()},this.setAzimuthalAngle=oe=>{let we=nD(oe,2*Math.PI),Ze=m.theta;Ze<0&&(Ze+=2*Math.PI),we<0&&(we+=2*Math.PI);let ae=Math.abs(we-Ze);2*Math.PI-ae<ae&&(we<Ze?we+=2*Math.PI:Ze+=2*Math.PI),v.theta=we-Ze,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=oe=>{oe.addEventListener("keydown",Oe),this._domElementKeyEvents=oe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(a),i.update(),h=u.NONE},this.update=(()=>{const oe=new te,we=new te(0,1,0),Ze=new xs().setFromUnitVectors(e.up,we),ae=Ze.clone().invert(),Ee=new te,rt=new xs,ct=2*Math.PI;return function(){const Ye=i.object.position;Ze.setFromUnitVectors(e.up,we),ae.copy(Ze).invert(),oe.copy(Ye).sub(i.target),oe.applyQuaternion(Ze),m.setFromVector3(oe),i.autoRotate&&h===u.NONE&&de(J()),i.enableDamping?(m.theta+=v.theta*i.dampingFactor,m.phi+=v.phi*i.dampingFactor):(m.theta+=v.theta,m.phi+=v.phi);let _t=i.minAzimuthAngle,Pt=i.maxAzimuthAngle;isFinite(_t)&&isFinite(Pt)&&(_t<-Math.PI?_t+=ct:_t>Math.PI&&(_t-=ct),Pt<-Math.PI?Pt+=ct:Pt>Math.PI&&(Pt-=ct),_t<=Pt?m.theta=Math.max(_t,Math.min(Pt,m.theta)):m.theta=m.theta>(_t+Pt)/2?Math.max(_t,m.theta):Math.min(Pt,m.theta)),m.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,m.phi)),m.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(b,i.dampingFactor):i.target.add(b),i.zoomToCursor&&I||i.object.isOrthographicCamera?m.radius=Ce(m.radius):m.radius=Ce(m.radius*x),oe.setFromSpherical(m),oe.applyQuaternion(ae),Ye.copy(i.target).add(oe),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,b.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),b.set(0,0,0));let bn=!1;if(i.zoomToCursor&&I){let vn=null;if(i.object instanceof fa&&i.object.isPerspectiveCamera){const Pi=oe.length();vn=Ce(Pi*x);const ni=Pi-vn;i.object.position.addScaledVector(V,ni),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Pi=new te(H.x,H.y,0);Pi.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix(),bn=!0;const ni=new te(H.x,H.y,0);ni.unproject(i.object),i.object.position.sub(ni).add(Pi),i.object.updateMatrixWorld(),vn=oe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;vn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(vn).add(i.object.position):(eb.origin.copy(i.object.position),eb.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(eb.direction))<eJ?e.lookAt(i.target):(tD.setFromNormalAndCoplanarPoint(i.object.up,i.target),eb.intersectPlane(tD,i.target))))}else i.object instanceof Bc&&i.object.isOrthographicCamera&&(bn=x!==1,bn&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/x)),i.object.updateProjectionMatrix()));return x=1,I=!1,bn||Ee.distanceToSquared(i.object.position)>p||8*(1-rt.dot(i.object.quaternion))>p?(i.dispatchEvent(a),Ee.copy(i.object.position),rt.copy(i.object.quaternion),bn=!1,!0):!1}})(),this.connect=oe=>{i.domElement=oe,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Vt),i.domElement.addEventListener("pointerdown",wt),i.domElement.addEventListener("pointercancel",j),i.domElement.addEventListener("wheel",ke)},this.dispose=()=>{var oe,we,Ze,ae,Ee,rt;i.domElement&&(i.domElement.style.touchAction="auto"),(oe=i.domElement)==null||oe.removeEventListener("contextmenu",Vt),(we=i.domElement)==null||we.removeEventListener("pointerdown",wt),(Ze=i.domElement)==null||Ze.removeEventListener("pointercancel",j),(ae=i.domElement)==null||ae.removeEventListener("wheel",ke),(Ee=i.domElement)==null||Ee.ownerDocument.removeEventListener("pointermove",Q),(rt=i.domElement)==null||rt.ownerDocument.removeEventListener("pointerup",j),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Oe)};const i=this,a={type:"change"},r={type:"start"},l={type:"end"},u={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let h=u.NONE;const p=1e-6,m=new K2,v=new K2;let x=1;const b=new te,M=new qe,C=new qe,E=new qe,w=new qe,R=new qe,D=new qe,O=new qe,P=new qe,U=new qe,V=new te,H=new qe;let I=!1;const L=[],q={};function J(){return 2*Math.PI/60/60*i.autoRotateSpeed}function re(){return Math.pow(.95,i.zoomSpeed)}function de(oe){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=oe:v.theta-=oe}function ve(oe){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=oe:v.phi-=oe}const G=(()=>{const oe=new te;return function(Ze,ae){oe.setFromMatrixColumn(ae,0),oe.multiplyScalar(-Ze),b.add(oe)}})(),K=(()=>{const oe=new te;return function(Ze,ae){i.screenSpacePanning===!0?oe.setFromMatrixColumn(ae,1):(oe.setFromMatrixColumn(ae,0),oe.crossVectors(i.object.up,oe)),oe.multiplyScalar(Ze),b.add(oe)}})(),$=(()=>{const oe=new te;return function(Ze,ae){const Ee=i.domElement;if(Ee&&i.object instanceof fa&&i.object.isPerspectiveCamera){const rt=i.object.position;oe.copy(rt).sub(i.target);let ct=oe.length();ct*=Math.tan(i.object.fov/2*Math.PI/180),G(2*Ze*ct/Ee.clientHeight,i.object.matrix),K(2*ae*ct/Ee.clientHeight,i.object.matrix)}else Ee&&i.object instanceof Bc&&i.object.isOrthographicCamera?(G(Ze*(i.object.right-i.object.left)/i.object.zoom/Ee.clientWidth,i.object.matrix),K(ae*(i.object.top-i.object.bottom)/i.object.zoom/Ee.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function pe(oe){i.object instanceof fa&&i.object.isPerspectiveCamera||i.object instanceof Bc&&i.object.isOrthographicCamera?x=oe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function X(oe){pe(x/oe)}function fe(oe){pe(x*oe)}function xe(oe){if(!i.zoomToCursor||!i.domElement)return;I=!0;const we=i.domElement.getBoundingClientRect(),Ze=oe.clientX-we.left,ae=oe.clientY-we.top,Ee=we.width,rt=we.height;H.x=Ze/Ee*2-1,H.y=-(ae/rt)*2+1,V.set(H.x,H.y,1).unproject(i.object).sub(i.object.position).normalize()}function Ce(oe){return Math.max(i.minDistance,Math.min(i.maxDistance,oe))}function Be(oe){M.set(oe.clientX,oe.clientY)}function ft(oe){xe(oe),O.set(oe.clientX,oe.clientY)}function ge(oe){w.set(oe.clientX,oe.clientY)}function ze(oe){C.set(oe.clientX,oe.clientY),E.subVectors(C,M).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(de(2*Math.PI*E.x/we.clientHeight),ve(2*Math.PI*E.y/we.clientHeight)),M.copy(C),i.update()}function Ke(oe){P.set(oe.clientX,oe.clientY),U.subVectors(P,O),U.y>0?X(re()):U.y<0&&fe(re()),O.copy(P),i.update()}function St(oe){R.set(oe.clientX,oe.clientY),D.subVectors(R,w).multiplyScalar(i.panSpeed),$(D.x,D.y),w.copy(R),i.update()}function Rt(oe){xe(oe),oe.deltaY<0?fe(re()):oe.deltaY>0&&X(re()),i.update()}function Gt(oe){let we=!1;switch(oe.code){case i.keys.UP:$(0,i.keyPanSpeed),we=!0;break;case i.keys.BOTTOM:$(0,-i.keyPanSpeed),we=!0;break;case i.keys.LEFT:$(i.keyPanSpeed,0),we=!0;break;case i.keys.RIGHT:$(-i.keyPanSpeed,0),we=!0;break}we&&(oe.preventDefault(),i.update())}function Qt(){if(L.length==1)M.set(L[0].pageX,L[0].pageY);else{const oe=.5*(L[0].pageX+L[1].pageX),we=.5*(L[0].pageY+L[1].pageY);M.set(oe,we)}}function kt(){if(L.length==1)w.set(L[0].pageX,L[0].pageY);else{const oe=.5*(L[0].pageX+L[1].pageX),we=.5*(L[0].pageY+L[1].pageY);w.set(oe,we)}}function Je(){const oe=L[0].pageX-L[1].pageX,we=L[0].pageY-L[1].pageY,Ze=Math.sqrt(oe*oe+we*we);O.set(0,Ze)}function ee(){i.enableZoom&&Je(),i.enablePan&&kt()}function nt(){i.enableZoom&&Je(),i.enableRotate&&Qt()}function $e(oe){if(L.length==1)C.set(oe.pageX,oe.pageY);else{const Ze=Ot(oe),ae=.5*(oe.pageX+Ze.x),Ee=.5*(oe.pageY+Ze.y);C.set(ae,Ee)}E.subVectors(C,M).multiplyScalar(i.rotateSpeed);const we=i.domElement;we&&(de(2*Math.PI*E.x/we.clientHeight),ve(2*Math.PI*E.y/we.clientHeight)),M.copy(C)}function mt(oe){if(L.length==1)R.set(oe.pageX,oe.pageY);else{const we=Ot(oe),Ze=.5*(oe.pageX+we.x),ae=.5*(oe.pageY+we.y);R.set(Ze,ae)}D.subVectors(R,w).multiplyScalar(i.panSpeed),$(D.x,D.y),w.copy(R)}function st(oe){const we=Ot(oe),Ze=oe.pageX-we.x,ae=oe.pageY-we.y,Ee=Math.sqrt(Ze*Ze+ae*ae);P.set(0,Ee),U.set(0,Math.pow(P.y/O.y,i.zoomSpeed)),X(U.y),O.copy(P)}function bt(oe){i.enableZoom&&st(oe),i.enablePan&&mt(oe)}function pt(oe){i.enableZoom&&st(oe),i.enableRotate&&$e(oe)}function wt(oe){var we,Ze;i.enabled!==!1&&(L.length===0&&((we=i.domElement)==null||we.ownerDocument.addEventListener("pointermove",Q),(Ze=i.domElement)==null||Ze.ownerDocument.addEventListener("pointerup",j)),Nt(oe),oe.pointerType==="touch"?xt(oe):_e(oe))}function Q(oe){i.enabled!==!1&&(oe.pointerType==="touch"?yt(oe):Ve(oe))}function j(oe){var we,Ze,ae;je(oe),L.length===0&&((we=i.domElement)==null||we.releasePointerCapture(oe.pointerId),(Ze=i.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",Q),(ae=i.domElement)==null||ae.ownerDocument.removeEventListener("pointerup",j)),i.dispatchEvent(l),h=u.NONE}function _e(oe){let we;switch(oe.button){case 0:we=i.mouseButtons.LEFT;break;case 1:we=i.mouseButtons.MIDDLE;break;case 2:we=i.mouseButtons.RIGHT;break;default:we=-1}switch(we){case bh.DOLLY:if(i.enableZoom===!1)return;ft(oe),h=u.DOLLY;break;case bh.ROTATE:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(i.enablePan===!1)return;ge(oe),h=u.PAN}else{if(i.enableRotate===!1)return;Be(oe),h=u.ROTATE}break;case bh.PAN:if(oe.ctrlKey||oe.metaKey||oe.shiftKey){if(i.enableRotate===!1)return;Be(oe),h=u.ROTATE}else{if(i.enablePan===!1)return;ge(oe),h=u.PAN}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(r)}function Ve(oe){if(i.enabled!==!1)switch(h){case u.ROTATE:if(i.enableRotate===!1)return;ze(oe);break;case u.DOLLY:if(i.enableZoom===!1)return;Ke(oe);break;case u.PAN:if(i.enablePan===!1)return;St(oe);break}}function ke(oe){i.enabled===!1||i.enableZoom===!1||h!==u.NONE&&h!==u.ROTATE||(oe.preventDefault(),i.dispatchEvent(r),Rt(oe),i.dispatchEvent(l))}function Oe(oe){i.enabled===!1||i.enablePan===!1||Gt(oe)}function xt(oe){switch(et(oe),L.length){case 1:switch(i.touches.ONE){case _h.ROTATE:if(i.enableRotate===!1)return;Qt(),h=u.TOUCH_ROTATE;break;case _h.PAN:if(i.enablePan===!1)return;kt(),h=u.TOUCH_PAN;break;default:h=u.NONE}break;case 2:switch(i.touches.TWO){case _h.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;ee(),h=u.TOUCH_DOLLY_PAN;break;case _h.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;nt(),h=u.TOUCH_DOLLY_ROTATE;break;default:h=u.NONE}break;default:h=u.NONE}h!==u.NONE&&i.dispatchEvent(r)}function yt(oe){switch(et(oe),h){case u.TOUCH_ROTATE:if(i.enableRotate===!1)return;$e(oe),i.update();break;case u.TOUCH_PAN:if(i.enablePan===!1)return;mt(oe),i.update();break;case u.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;bt(oe),i.update();break;case u.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;pt(oe),i.update();break;default:h=u.NONE}}function Vt(oe){i.enabled!==!1&&oe.preventDefault()}function Nt(oe){L.push(oe)}function je(oe){delete q[oe.pointerId];for(let we=0;we<L.length;we++)if(L[we].pointerId==oe.pointerId){L.splice(we,1);return}}function et(oe){let we=q[oe.pointerId];we===void 0&&(we=new qe,q[oe.pointerId]=we),we.set(oe.pageX,oe.pageY)}function Ot(oe){const we=oe.pointerId===L[0].pointerId?L[1]:L[0];return q[we.pointerId]}this.dollyIn=(oe=re())=>{fe(oe),i.update()},this.dollyOut=(oe=re())=>{X(oe),i.update()},this.getScale=()=>x,this.setScale=oe=>{pe(oe),i.update()},this.getZoomScale=()=>re(),t!==void 0&&this.connect(t),this.update()}};class nJ extends XE{constructor(e){super(e),this.type=La}parse(e){const l=function(H,I){switch(H){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(I||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(I||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(I||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(I||""))}},v=function(H,I,L){I=I||1024;let J=H.pos,re=-1,de=0,ve="",G=String.fromCharCode.apply(null,new Uint16Array(H.subarray(J,J+128)));for(;0>(re=G.indexOf(`
`))&&de<I&&J<H.byteLength;)ve+=G,de+=G.length,J+=128,G+=String.fromCharCode.apply(null,new Uint16Array(H.subarray(J,J+128)));return-1<re?(H.pos+=de+re+1,ve+G.slice(0,re)):!1},x=function(H){const I=/^#\?(\S+)/,L=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,q=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,J=/^\s*FORMAT=(\S+)\s*$/,re=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,de={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let ve,G;for((H.pos>=H.byteLength||!(ve=v(H)))&&l(1,"no header found"),(G=ve.match(I))||l(3,"bad initial token"),de.valid|=1,de.programtype=G[1],de.string+=ve+`
`;ve=v(H),ve!==!1;){if(de.string+=ve+`
`,ve.charAt(0)==="#"){de.comments+=ve+`
`;continue}if((G=ve.match(L))&&(de.gamma=parseFloat(G[1])),(G=ve.match(q))&&(de.exposure=parseFloat(G[1])),(G=ve.match(J))&&(de.valid|=2,de.format=G[1]),(G=ve.match(re))&&(de.valid|=4,de.height=parseInt(G[1],10),de.width=parseInt(G[2],10)),de.valid&2&&de.valid&4)break}return de.valid&2||l(3,"missing format specifier"),de.valid&4||l(3,"missing image size specifier"),de},b=function(H,I,L){const q=I;if(q<8||q>32767||H[0]!==2||H[1]!==2||H[2]&128)return new Uint8Array(H);q!==(H[2]<<8|H[3])&&l(3,"wrong scanline width");const J=new Uint8Array(4*I*L);J.length||l(4,"unable to allocate buffer space");let re=0,de=0;const ve=4*q,G=new Uint8Array(4),K=new Uint8Array(ve);let $=L;for(;$>0&&de<H.byteLength;){de+4>H.byteLength&&l(1),G[0]=H[de++],G[1]=H[de++],G[2]=H[de++],G[3]=H[de++],(G[0]!=2||G[1]!=2||(G[2]<<8|G[3])!=q)&&l(3,"bad rgbe scanline format");let pe=0,X;for(;pe<ve&&de<H.byteLength;){X=H[de++];const xe=X>128;if(xe&&(X-=128),(X===0||pe+X>ve)&&l(3,"bad scanline data"),xe){const Ce=H[de++];for(let Be=0;Be<X;Be++)K[pe++]=Ce}else K.set(H.subarray(de,de+X),pe),pe+=X,de+=X}const fe=q;for(let xe=0;xe<fe;xe++){let Ce=0;J[re]=K[xe+Ce],Ce+=q,J[re+1]=K[xe+Ce],Ce+=q,J[re+2]=K[xe+Ce],Ce+=q,J[re+3]=K[xe+Ce],re+=4}$--}return J},M=function(H,I,L,q){const J=H[I+3],re=Math.pow(2,J-128)/255;L[q+0]=H[I+0]*re,L[q+1]=H[I+1]*re,L[q+2]=H[I+2]*re,L[q+3]=1},C=function(H,I,L,q){const J=H[I+3],re=Math.pow(2,J-128)/255;L[q+0]=Rh.toHalfFloat(Math.min(H[I+0]*re,65504)),L[q+1]=Rh.toHalfFloat(Math.min(H[I+1]*re,65504)),L[q+2]=Rh.toHalfFloat(Math.min(H[I+2]*re,65504)),L[q+3]=Rh.toHalfFloat(1)},E=new Uint8Array(e);E.pos=0;const w=x(E),R=w.width,D=w.height,O=b(E.subarray(E.pos),R,D);let P,U,V;switch(this.type){case Wi:V=O.length/4;const H=new Float32Array(V*4);for(let L=0;L<V;L++)M(O,L*4,H,L*4);P=H,U=Wi;break;case La:V=O.length/4;const I=new Uint16Array(V*4);for(let L=0;L<V;L++)C(O,L*4,I,L*4);P=I,U=La;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:R,height:D,data:P,header:w.string,gamma:w.gamma,exposure:w.exposure,type:U}}setDataType(e){return this.type=e,this}load(e,t,i,a){function r(l,u){switch(l.type){case Wi:case La:"colorSpace"in l?l.colorSpace="srgb-linear":l.encoding=3e3,l.minFilter=ti,l.magFilter=ti,l.generateMipmaps=!1,l.flipY=!0;break}t&&t(l,u)}return super.load(e,r,i,a)}}const Q0=G5>=152;class iJ extends XE{constructor(e){super(e),this.type=La}parse(e){const I=Math.pow(2.7182818,2.2);function L(k,Z){for(var he=0,Re=0;Re<65536;++Re)(Re==0||k[Re>>3]&1<<(Re&7))&&(Z[he++]=Re);for(var Ne=he-1;he<65536;)Z[he++]=0;return Ne}function q(k){for(var Z=0;Z<16384;Z++)k[Z]={},k[Z].len=0,k[Z].lit=0,k[Z].p=null}const J={l:0,c:0,lc:0};function re(k,Z,he,Re,Ne){for(;he<k;)Z=Z<<8|Ot(Re,Ne),he+=8;he-=k,J.l=Z>>he&(1<<k)-1,J.c=Z,J.lc=he}const de=new Array(59);function ve(k){for(var Z=0;Z<=58;++Z)de[Z]=0;for(var Z=0;Z<65537;++Z)de[k[Z]]+=1;for(var he=0,Z=58;Z>0;--Z){var Re=he+de[Z]>>1;de[Z]=he,he=Re}for(var Z=0;Z<65537;++Z){var Ne=k[Z];Ne>0&&(k[Z]=Ne|de[Ne]++<<6)}}function G(k,Z,he,Re,Ne,Fe,ht){for(var it=he,ot=0,F=0;Ne<=Fe;Ne++){if(it.value-he.value>Re)return!1;re(6,ot,F,k,it);var ie=J.l;if(ot=J.c,F=J.lc,ht[Ne]=ie,ie==63){if(it.value-he.value>Re)throw"Something wrong with hufUnpackEncTable";re(8,ot,F,k,it);var ce=J.l+6;if(ot=J.c,F=J.lc,Ne+ce>Fe+1)throw"Something wrong with hufUnpackEncTable";for(;ce--;)ht[Ne++]=0;Ne--}else if(ie>=59){var ce=ie-59+2;if(Ne+ce>Fe+1)throw"Something wrong with hufUnpackEncTable";for(;ce--;)ht[Ne++]=0;Ne--}}ve(ht)}function K(k){return k&63}function $(k){return k>>6}function pe(k,Z,he,Re){for(;Z<=he;Z++){var Ne=$(k[Z]),Fe=K(k[Z]);if(Ne>>Fe)throw"Invalid table entry";if(Fe>14){var ht=Re[Ne>>Fe-14];if(ht.len)throw"Invalid table entry";if(ht.lit++,ht.p){var it=ht.p;ht.p=new Array(ht.lit);for(var ot=0;ot<ht.lit-1;++ot)ht.p[ot]=it[ot]}else ht.p=new Array(1);ht.p[ht.lit-1]=Z}else if(Fe)for(var F=0,ot=1<<14-Fe;ot>0;ot--){var ht=Re[(Ne<<14-Fe)+F];if(ht.len||ht.p)throw"Invalid table entry";ht.len=Fe,ht.lit=Z,F++}}return!0}const X={c:0,lc:0};function fe(k,Z,he,Re){k=k<<8|Ot(he,Re),Z+=8,X.c=k,X.lc=Z}const xe={c:0,lc:0};function Ce(k,Z,he,Re,Ne,Fe,ht,it,ot,F){if(k==Z){Re<8&&(fe(he,Re,Ne,ht),he=X.c,Re=X.lc),Re-=8;var ie=he>>Re,ie=new Uint8Array([ie])[0];if(ot.value+ie>F)return!1;for(var ce=it[ot.value-1];ie-- >0;)it[ot.value++]=ce}else if(ot.value<F)it[ot.value++]=k;else return!1;xe.c=he,xe.lc=Re}function Be(k){return k&65535}function ft(k){var Z=Be(k);return Z>32767?Z-65536:Z}const ge={a:0,b:0};function ze(k,Z){var he=ft(k),Re=ft(Z),Ne=Re,Fe=he+(Ne&1)+(Ne>>1),ht=Fe,it=Fe-Ne;ge.a=ht,ge.b=it}function Ke(k,Z){var he=Be(k),Re=Be(Z),Ne=he-(Re>>1)&65535,Fe=Re+Ne-32768&65535;ge.a=Fe,ge.b=Ne}function St(k,Z,he,Re,Ne,Fe,ht){for(var it=ht<16384,ot=he>Ne?Ne:he,F=1,ie;F<=ot;)F<<=1;for(F>>=1,ie=F,F>>=1;F>=1;){for(var ce=0,Me=ce+Fe*(Ne-ie),se=Fe*F,Ie=Fe*ie,Ge=Re*F,at=Re*ie,ut,vt,Ct,Mt;ce<=Me;ce+=Ie){for(var Ut=ce,dn=ce+Re*(he-ie);Ut<=dn;Ut+=at){var Bt=Ut+Ge,un=Ut+se,An=un+Ge;it?(ze(k[Ut+Z],k[un+Z]),ut=ge.a,Ct=ge.b,ze(k[Bt+Z],k[An+Z]),vt=ge.a,Mt=ge.b,ze(ut,vt),k[Ut+Z]=ge.a,k[Bt+Z]=ge.b,ze(Ct,Mt),k[un+Z]=ge.a,k[An+Z]=ge.b):(Ke(k[Ut+Z],k[un+Z]),ut=ge.a,Ct=ge.b,Ke(k[Bt+Z],k[An+Z]),vt=ge.a,Mt=ge.b,Ke(ut,vt),k[Ut+Z]=ge.a,k[Bt+Z]=ge.b,Ke(Ct,Mt),k[un+Z]=ge.a,k[An+Z]=ge.b)}if(he&F){var un=Ut+se;it?ze(k[Ut+Z],k[un+Z]):Ke(k[Ut+Z],k[un+Z]),ut=ge.a,k[un+Z]=ge.b,k[Ut+Z]=ut}}if(Ne&F)for(var Ut=ce,dn=ce+Re*(he-ie);Ut<=dn;Ut+=at){var Bt=Ut+Ge;it?ze(k[Ut+Z],k[Bt+Z]):Ke(k[Ut+Z],k[Bt+Z]),ut=ge.a,k[Bt+Z]=ge.b,k[Ut+Z]=ut}ie=F,F>>=1}return ce}function Rt(k,Z,he,Re,Ne,Fe,ht,it,ot,F){for(var ie=0,ce=0,Me=it,se=Math.trunc(Ne.value+(Fe+7)/8);Ne.value<se;)for(fe(ie,ce,he,Ne),ie=X.c,ce=X.lc;ce>=14;){var Ie=ie>>ce-14&16383,Ge=Z[Ie];if(Ge.len)ce-=Ge.len,Ce(Ge.lit,ht,ie,ce,he,Re,Ne,ot,F,Me),ie=xe.c,ce=xe.lc;else{if(!Ge.p)throw"hufDecode issues";var at;for(at=0;at<Ge.lit;at++){for(var ut=K(k[Ge.p[at]]);ce<ut&&Ne.value<se;)fe(ie,ce,he,Ne),ie=X.c,ce=X.lc;if(ce>=ut&&$(k[Ge.p[at]])==(ie>>ce-ut&(1<<ut)-1)){ce-=ut,Ce(Ge.p[at],ht,ie,ce,he,Re,Ne,ot,F,Me),ie=xe.c,ce=xe.lc;break}}if(at==Ge.lit)throw"hufDecode issues"}}var vt=8-Fe&7;for(ie>>=vt,ce-=vt;ce>0;){var Ge=Z[ie<<14-ce&16383];if(Ge.len)ce-=Ge.len,Ce(Ge.lit,ht,ie,ce,he,Re,Ne,ot,F,Me),ie=xe.c,ce=xe.lc;else throw"hufDecode issues"}return!0}function Gt(k,Z,he,Re,Ne,Fe){var ht={value:0},it=he.value,ot=et(Z,he),F=et(Z,he);he.value+=4;var ie=et(Z,he);if(he.value+=4,ot<0||ot>=65537||F<0||F>=65537)throw"Something wrong with HUF_ENCSIZE";var ce=new Array(65537),Me=new Array(16384);q(Me);var se=Re-(he.value-it);if(G(k,Z,he,se,ot,F,ce),ie>8*(Re-(he.value-it)))throw"Something wrong with hufUncompress";pe(ce,ot,F,Me),Rt(ce,Me,k,Z,he,ie,F,Fe,Ne,ht)}function Qt(k,Z,he){for(var Re=0;Re<he;++Re)Z[Re]=k[Z[Re]]}function kt(k){for(var Z=1;Z<k.length;Z++){var he=k[Z-1]+k[Z]-128;k[Z]=he}}function Je(k,Z){for(var he=0,Re=Math.floor((k.length+1)/2),Ne=0,Fe=k.length-1;!(Ne>Fe||(Z[Ne++]=k[he++],Ne>Fe));)Z[Ne++]=k[Re++]}function ee(k){for(var Z=k.byteLength,he=new Array,Re=0,Ne=new DataView(k);Z>0;){var Fe=Ne.getInt8(Re++);if(Fe<0){var ht=-Fe;Z-=ht+1;for(var it=0;it<ht;it++)he.push(Ne.getUint8(Re++))}else{var ht=Fe;Z-=2;for(var ot=Ne.getUint8(Re++),it=0;it<ht+1;it++)he.push(ot)}}return he}function nt(k,Z,he,Re,Ne,Fe){var Bt=new DataView(Fe.buffer),ht=he[k.idx[0]].width,it=he[k.idx[0]].height,ot=3,F=Math.floor(ht/8),ie=Math.ceil(ht/8),ce=Math.ceil(it/8),Me=ht-(ie-1)*8,se=it-(ce-1)*8,Ie={value:0},Ge=new Array(ot),at=new Array(ot),ut=new Array(ot),vt=new Array(ot),Ct=new Array(ot);for(let It=0;It<ot;++It)Ct[It]=Z[k.idx[It]],Ge[It]=It<1?0:Ge[It-1]+ie*ce,at[It]=new Float32Array(64),ut[It]=new Uint16Array(64),vt[It]=new Uint16Array(ie*64);for(let It=0;It<ce;++It){var Mt=8;It==ce-1&&(Mt=se);var Ut=8;for(let fn=0;fn<ie;++fn){fn==ie-1&&(Ut=Me);for(let tn=0;tn<ot;++tn)ut[tn].fill(0),ut[tn][0]=Ne[Ge[tn]++],$e(Ie,Re,ut[tn]),mt(ut[tn],at[tn]),st(at[tn]);bt(at);for(let tn=0;tn<ot;++tn)pt(at[tn],vt[tn],fn*64)}let zn=0;for(let fn=0;fn<ot;++fn){const tn=he[k.idx[fn]].type;for(let Ri=8*It;Ri<8*It+Mt;++Ri){zn=Ct[fn][Ri];for(let On=0;On<F;++On){const Un=On*64+(Ri&7)*8;Bt.setUint16(zn+0*tn,vt[fn][Un+0],!0),Bt.setUint16(zn+2*tn,vt[fn][Un+1],!0),Bt.setUint16(zn+4*tn,vt[fn][Un+2],!0),Bt.setUint16(zn+6*tn,vt[fn][Un+3],!0),Bt.setUint16(zn+8*tn,vt[fn][Un+4],!0),Bt.setUint16(zn+10*tn,vt[fn][Un+5],!0),Bt.setUint16(zn+12*tn,vt[fn][Un+6],!0),Bt.setUint16(zn+14*tn,vt[fn][Un+7],!0),zn+=16*tn}}if(F!=ie)for(let Ri=8*It;Ri<8*It+Mt;++Ri){const On=Ct[fn][Ri]+8*F*2*tn,Un=F*64+(Ri&7)*8;for(let _i=0;_i<Ut;++_i)Bt.setUint16(On+_i*2*tn,vt[fn][Un+_i],!0)}}}for(var dn=new Uint16Array(ht),Bt=new DataView(Fe.buffer),un=0;un<ot;++un){he[k.idx[un]].decoded=!0;var An=he[k.idx[un]].type;if(he[un].type==2)for(var zt=0;zt<it;++zt){const It=Ct[un][zt];for(var Mn=0;Mn<ht;++Mn)dn[Mn]=Bt.getUint16(It+Mn*2*An,!0);for(var Mn=0;Mn<ht;++Mn)Bt.setFloat32(It+Mn*2*An,Ee(dn[Mn]),!0)}}}function $e(k,Z,he){for(var Re,Ne=1;Ne<64;)Re=Z[k.value],Re==65280?Ne=64:Re>>8==255?Ne+=Re&255:(he[Ne]=Re,Ne++),k.value++}function mt(k,Z){Z[0]=Ee(k[0]),Z[1]=Ee(k[1]),Z[2]=Ee(k[5]),Z[3]=Ee(k[6]),Z[4]=Ee(k[14]),Z[5]=Ee(k[15]),Z[6]=Ee(k[27]),Z[7]=Ee(k[28]),Z[8]=Ee(k[2]),Z[9]=Ee(k[4]),Z[10]=Ee(k[7]),Z[11]=Ee(k[13]),Z[12]=Ee(k[16]),Z[13]=Ee(k[26]),Z[14]=Ee(k[29]),Z[15]=Ee(k[42]),Z[16]=Ee(k[3]),Z[17]=Ee(k[8]),Z[18]=Ee(k[12]),Z[19]=Ee(k[17]),Z[20]=Ee(k[25]),Z[21]=Ee(k[30]),Z[22]=Ee(k[41]),Z[23]=Ee(k[43]),Z[24]=Ee(k[9]),Z[25]=Ee(k[11]),Z[26]=Ee(k[18]),Z[27]=Ee(k[24]),Z[28]=Ee(k[31]),Z[29]=Ee(k[40]),Z[30]=Ee(k[44]),Z[31]=Ee(k[53]),Z[32]=Ee(k[10]),Z[33]=Ee(k[19]),Z[34]=Ee(k[23]),Z[35]=Ee(k[32]),Z[36]=Ee(k[39]),Z[37]=Ee(k[45]),Z[38]=Ee(k[52]),Z[39]=Ee(k[54]),Z[40]=Ee(k[20]),Z[41]=Ee(k[22]),Z[42]=Ee(k[33]),Z[43]=Ee(k[38]),Z[44]=Ee(k[46]),Z[45]=Ee(k[51]),Z[46]=Ee(k[55]),Z[47]=Ee(k[60]),Z[48]=Ee(k[21]),Z[49]=Ee(k[34]),Z[50]=Ee(k[37]),Z[51]=Ee(k[47]),Z[52]=Ee(k[50]),Z[53]=Ee(k[56]),Z[54]=Ee(k[59]),Z[55]=Ee(k[61]),Z[56]=Ee(k[35]),Z[57]=Ee(k[36]),Z[58]=Ee(k[48]),Z[59]=Ee(k[49]),Z[60]=Ee(k[57]),Z[61]=Ee(k[58]),Z[62]=Ee(k[62]),Z[63]=Ee(k[63])}function st(k){const Z=.5*Math.cos(.7853975),he=.5*Math.cos(3.14159/16),Re=.5*Math.cos(3.14159/8),Ne=.5*Math.cos(3*3.14159/16),Fe=.5*Math.cos(5*3.14159/16),ht=.5*Math.cos(3*3.14159/8),it=.5*Math.cos(7*3.14159/16);for(var ot=new Array(4),F=new Array(4),ie=new Array(4),ce=new Array(4),Me=0;Me<8;++Me){var se=Me*8;ot[0]=Re*k[se+2],ot[1]=ht*k[se+2],ot[2]=Re*k[se+6],ot[3]=ht*k[se+6],F[0]=he*k[se+1]+Ne*k[se+3]+Fe*k[se+5]+it*k[se+7],F[1]=Ne*k[se+1]-it*k[se+3]-he*k[se+5]-Fe*k[se+7],F[2]=Fe*k[se+1]-he*k[se+3]+it*k[se+5]+Ne*k[se+7],F[3]=it*k[se+1]-Fe*k[se+3]+Ne*k[se+5]-he*k[se+7],ie[0]=Z*(k[se+0]+k[se+4]),ie[3]=Z*(k[se+0]-k[se+4]),ie[1]=ot[0]+ot[3],ie[2]=ot[1]-ot[2],ce[0]=ie[0]+ie[1],ce[1]=ie[3]+ie[2],ce[2]=ie[3]-ie[2],ce[3]=ie[0]-ie[1],k[se+0]=ce[0]+F[0],k[se+1]=ce[1]+F[1],k[se+2]=ce[2]+F[2],k[se+3]=ce[3]+F[3],k[se+4]=ce[3]-F[3],k[se+5]=ce[2]-F[2],k[se+6]=ce[1]-F[1],k[se+7]=ce[0]-F[0]}for(var Ie=0;Ie<8;++Ie)ot[0]=Re*k[16+Ie],ot[1]=ht*k[16+Ie],ot[2]=Re*k[48+Ie],ot[3]=ht*k[48+Ie],F[0]=he*k[8+Ie]+Ne*k[24+Ie]+Fe*k[40+Ie]+it*k[56+Ie],F[1]=Ne*k[8+Ie]-it*k[24+Ie]-he*k[40+Ie]-Fe*k[56+Ie],F[2]=Fe*k[8+Ie]-he*k[24+Ie]+it*k[40+Ie]+Ne*k[56+Ie],F[3]=it*k[8+Ie]-Fe*k[24+Ie]+Ne*k[40+Ie]-he*k[56+Ie],ie[0]=Z*(k[Ie]+k[32+Ie]),ie[3]=Z*(k[Ie]-k[32+Ie]),ie[1]=ot[0]+ot[3],ie[2]=ot[1]-ot[2],ce[0]=ie[0]+ie[1],ce[1]=ie[3]+ie[2],ce[2]=ie[3]-ie[2],ce[3]=ie[0]-ie[1],k[0+Ie]=ce[0]+F[0],k[8+Ie]=ce[1]+F[1],k[16+Ie]=ce[2]+F[2],k[24+Ie]=ce[3]+F[3],k[32+Ie]=ce[3]-F[3],k[40+Ie]=ce[2]-F[2],k[48+Ie]=ce[1]-F[1],k[56+Ie]=ce[0]-F[0]}function bt(k){for(var Z=0;Z<64;++Z){var he=k[0][Z],Re=k[1][Z],Ne=k[2][Z];k[0][Z]=he+1.5747*Ne,k[1][Z]=he-.1873*Re-.4682*Ne,k[2][Z]=he+1.8556*Re}}function pt(k,Z,he){for(var Re=0;Re<64;++Re)Z[he+Re]=Rh.toHalfFloat(wt(k[Re]))}function wt(k){return k<=1?Math.sign(k)*Math.pow(Math.abs(k),2.2):Math.sign(k)*Math.pow(I,Math.abs(k)-1)}function Q(k){return new DataView(k.array.buffer,k.offset.value,k.size)}function j(k){var Z=k.viewer.buffer.slice(k.offset.value,k.offset.value+k.size),he=new Uint8Array(ee(Z)),Re=new Uint8Array(he.length);return kt(he),Je(he,Re),new DataView(Re.buffer)}function _e(k){var Z=k.array.slice(k.offset.value,k.offset.value+k.size),he=$x(Z),Re=new Uint8Array(he.length);return kt(he),Je(he,Re),new DataView(Re.buffer)}function Ve(k){for(var Z=k.viewer,he={value:k.offset.value},Re=new Uint16Array(k.width*k.scanlineBlockSize*(k.channels*k.type)),Ne=new Uint8Array(8192),Fe=0,ht=new Array(k.channels),it=0;it<k.channels;it++)ht[it]={},ht[it].start=Fe,ht[it].end=ht[it].start,ht[it].nx=k.width,ht[it].ny=k.lines,ht[it].size=k.type,Fe+=ht[it].nx*ht[it].ny*ht[it].size;var ot=rt(Z,he),F=rt(Z,he);if(F>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(ot<=F)for(var it=0;it<F-ot+1;it++)Ne[it+ot]=oe(Z,he);var ie=new Uint16Array(65536),ce=L(Ne,ie),Me=et(Z,he);Gt(k.array,Z,he,Me,Re,Fe);for(var it=0;it<k.channels;++it)for(var se=ht[it],Ie=0;Ie<ht[it].size;++Ie)St(Re,se.start+Ie,se.nx,se.size,se.ny,se.nx*se.size,ce);Qt(ie,Re,Fe);for(var Ge=0,at=new Uint8Array(Re.buffer.byteLength),ut=0;ut<k.lines;ut++)for(var vt=0;vt<k.channels;vt++){var se=ht[vt],Ct=se.nx*se.size,Mt=new Uint8Array(Re.buffer,se.end*2,Ct*2);at.set(Mt,Ge),Ge+=Ct*2,se.end+=Ct}return new DataView(at.buffer)}function ke(k){var Z=k.array.slice(k.offset.value,k.offset.value+k.size),he=$x(Z);const Re=k.lines*k.channels*k.width,Ne=k.type==1?new Uint16Array(Re):new Uint32Array(Re);let Fe=0,ht=0;const it=new Array(4);for(let ot=0;ot<k.lines;ot++)for(let F=0;F<k.channels;F++){let ie=0;switch(k.type){case 1:it[0]=Fe,it[1]=it[0]+k.width,Fe=it[1]+k.width;for(let ce=0;ce<k.width;++ce){const Me=he[it[0]++]<<8|he[it[1]++];ie+=Me,Ne[ht]=ie,ht++}break;case 2:it[0]=Fe,it[1]=it[0]+k.width,it[2]=it[1]+k.width,Fe=it[2]+k.width;for(let ce=0;ce<k.width;++ce){const Me=he[it[0]++]<<24|he[it[1]++]<<16|he[it[2]++]<<8;ie+=Me,Ne[ht]=ie,ht++}break}}return new DataView(Ne.buffer)}function Oe(k){var Z=k.viewer,he={value:k.offset.value},Re=new Uint8Array(k.width*k.lines*(k.channels*k.type*2)),Ne={version:we(Z,he),unknownUncompressedSize:we(Z,he),unknownCompressedSize:we(Z,he),acCompressedSize:we(Z,he),dcCompressedSize:we(Z,he),rleCompressedSize:we(Z,he),rleUncompressedSize:we(Z,he),rleRawSize:we(Z,he),totalAcUncompressedCount:we(Z,he),totalDcUncompressedCount:we(Z,he),acCompression:we(Z,he)};if(Ne.version<2)throw"EXRLoader.parse: "+Sa.compression+" version "+Ne.version+" is unsupported";for(var Fe=new Array,ht=rt(Z,he)-2;ht>0;){var it=xt(Z.buffer,he),ot=oe(Z,he),F=ot>>2&3,ie=(ot>>4)-1,ce=new Int8Array([ie])[0],Me=oe(Z,he);Fe.push({name:it,index:ce,type:Me,compression:F}),ht-=it.length+3}for(var se=Sa.channels,Ie=new Array(k.channels),Ge=0;Ge<k.channels;++Ge){var at=Ie[Ge]={},ut=se[Ge];at.name=ut.name,at.compression=0,at.decoded=!1,at.type=ut.pixelType,at.pLinear=ut.pLinear,at.width=k.width,at.height=k.lines}for(var vt={idx:new Array(3)},Ct=0;Ct<k.channels;++Ct)for(var at=Ie[Ct],Ge=0;Ge<Fe.length;++Ge){var Mt=Fe[Ge];at.name==Mt.name&&(at.compression=Mt.compression,Mt.index>=0&&(vt.idx[Mt.index]=Ct),at.offset=Ct)}if(Ne.acCompressedSize>0)switch(Ne.acCompression){case 0:var Bt=new Uint16Array(Ne.totalAcUncompressedCount);Gt(k.array,Z,he,Ne.acCompressedSize,Bt,Ne.totalAcUncompressedCount);break;case 1:var Ut=k.array.slice(he.value,he.value+Ne.totalAcUncompressedCount),dn=$x(Ut),Bt=new Uint16Array(dn.buffer);he.value+=Ne.totalAcUncompressedCount;break}if(Ne.dcCompressedSize>0){var un={array:k.array,offset:he,size:Ne.dcCompressedSize},An=new Uint16Array(_e(un).buffer);he.value+=Ne.dcCompressedSize}if(Ne.rleRawSize>0){var Ut=k.array.slice(he.value,he.value+Ne.rleCompressedSize),dn=$x(Ut),zt=ee(dn.buffer);he.value+=Ne.rleCompressedSize}for(var Mn=0,It=new Array(Ie.length),Ge=0;Ge<It.length;++Ge)It[Ge]=new Array;for(var zn=0;zn<k.lines;++zn)for(var fn=0;fn<Ie.length;++fn)It[fn].push(Mn),Mn+=Ie[fn].width*k.type*2;nt(vt,It,Ie,Bt,An,Re);for(var Ge=0;Ge<Ie.length;++Ge){var at=Ie[Ge];if(!at.decoded)switch(at.compression){case 2:for(var tn=0,Ri=0,zn=0;zn<k.lines;++zn){for(var On=It[Ge][tn],Un=0;Un<at.width;++Un){for(var _i=0;_i<2*at.type;++_i)Re[On++]=zt[Ri+_i*at.width*at.height];Ri++}tn++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Re.buffer)}function xt(k,Z){for(var he=new Uint8Array(k),Re=0;he[Z.value+Re]!=0;)Re+=1;var Ne=new TextDecoder().decode(he.slice(Z.value,Z.value+Re));return Z.value=Z.value+Re+1,Ne}function yt(k,Z,he){var Re=new TextDecoder().decode(new Uint8Array(k).slice(Z.value,Z.value+he));return Z.value=Z.value+he,Re}function Vt(k,Z){var he=je(k,Z),Re=et(k,Z);return[he,Re]}function Nt(k,Z){var he=et(k,Z),Re=et(k,Z);return[he,Re]}function je(k,Z){var he=k.getInt32(Z.value,!0);return Z.value=Z.value+4,he}function et(k,Z){var he=k.getUint32(Z.value,!0);return Z.value=Z.value+4,he}function Ot(k,Z){var he=k[Z.value];return Z.value=Z.value+1,he}function oe(k,Z){var he=k.getUint8(Z.value);return Z.value=Z.value+1,he}const we=function(k,Z){let he;return"getBigInt64"in DataView.prototype?he=Number(k.getBigInt64(Z.value,!0)):he=k.getUint32(Z.value+4,!0)+Number(k.getUint32(Z.value,!0)<<32),Z.value+=8,he};function Ze(k,Z){var he=k.getFloat32(Z.value,!0);return Z.value+=4,he}function ae(k,Z){return Rh.toHalfFloat(Ze(k,Z))}function Ee(k){var Z=(k&31744)>>10,he=k&1023;return(k>>15?-1:1)*(Z?Z===31?he?NaN:1/0:Math.pow(2,Z-15)*(1+he/1024):6103515625e-14*(he/1024))}function rt(k,Z){var he=k.getUint16(Z.value,!0);return Z.value+=2,he}function ct(k,Z){return Ee(rt(k,Z))}function lt(k,Z,he,Re){for(var Ne=he.value,Fe=[];he.value<Ne+Re-1;){var ht=xt(Z,he),it=je(k,he),ot=oe(k,he);he.value+=3;var F=je(k,he),ie=je(k,he);Fe.push({name:ht,pixelType:it,pLinear:ot,xSampling:F,ySampling:ie})}return he.value+=1,Fe}function Ye(k,Z){var he=Ze(k,Z),Re=Ze(k,Z),Ne=Ze(k,Z),Fe=Ze(k,Z),ht=Ze(k,Z),it=Ze(k,Z),ot=Ze(k,Z),F=Ze(k,Z);return{redX:he,redY:Re,greenX:Ne,greenY:Fe,blueX:ht,blueY:it,whiteX:ot,whiteY:F}}function _t(k,Z){var he=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Re=oe(k,Z);return he[Re]}function Pt(k,Z){var he=et(k,Z),Re=et(k,Z),Ne=et(k,Z),Fe=et(k,Z);return{xMin:he,yMin:Re,xMax:Ne,yMax:Fe}}function bn(k,Z){var he=["INCREASING_Y"],Re=oe(k,Z);return he[Re]}function vn(k,Z){var he=Ze(k,Z),Re=Ze(k,Z);return[he,Re]}function Pi(k,Z){var he=Ze(k,Z),Re=Ze(k,Z),Ne=Ze(k,Z);return[he,Re,Ne]}function ni(k,Z,he,Re,Ne){if(Re==="string"||Re==="stringvector"||Re==="iccProfile")return yt(Z,he,Ne);if(Re==="chlist")return lt(k,Z,he,Ne);if(Re==="chromaticities")return Ye(k,he);if(Re==="compression")return _t(k,he);if(Re==="box2i")return Pt(k,he);if(Re==="lineOrder")return bn(k,he);if(Re==="float")return Ze(k,he);if(Re==="v2f")return vn(k,he);if(Re==="v3f")return Pi(k,he);if(Re==="int")return je(k,he);if(Re==="rational")return Vt(k,he);if(Re==="timecode")return Nt(k,he);if(Re==="preview")return he.value+=Ne,"skipped";he.value+=Ne}function Bi(k,Z,he){const Re={};if(k.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Re.version=k.getUint8(4);const Ne=k.getUint8(5);Re.spec={singleTile:!!(Ne&2),longName:!!(Ne&4),deepFormat:!!(Ne&8),multiPart:!!(Ne&16)},he.value=8;for(var Fe=!0;Fe;){var ht=xt(Z,he);if(ht==0)Fe=!1;else{var it=xt(Z,he),ot=et(k,he),F=ni(k,Z,he,it,ot);F===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${it}'.`):Re[ht]=F}}if((Ne&-5)!=0)throw console.error("EXRHeader:",Re),"THREE.EXRLoader: provided file is currently unsupported.";return Re}function zi(k,Z,he,Re,Ne){const Fe={size:0,viewer:Z,array:he,offset:Re,width:k.dataWindow.xMax-k.dataWindow.xMin+1,height:k.dataWindow.yMax-k.dataWindow.yMin+1,channels:k.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:k.channels[0].pixelType,uncompress:null,getter:null,format:null,[Q0?"colorSpace":"encoding"]:null};switch(k.compression){case"NO_COMPRESSION":Fe.lines=1,Fe.uncompress=Q;break;case"RLE_COMPRESSION":Fe.lines=1,Fe.uncompress=j;break;case"ZIPS_COMPRESSION":Fe.lines=1,Fe.uncompress=_e;break;case"ZIP_COMPRESSION":Fe.lines=16,Fe.uncompress=_e;break;case"PIZ_COMPRESSION":Fe.lines=32,Fe.uncompress=Ve;break;case"PXR24_COMPRESSION":Fe.lines=16,Fe.uncompress=ke;break;case"DWAA_COMPRESSION":Fe.lines=32,Fe.uncompress=Oe;break;case"DWAB_COMPRESSION":Fe.lines=256,Fe.uncompress=Oe;break;default:throw"EXRLoader.parse: "+k.compression+" is unsupported"}if(Fe.scanlineBlockSize=Fe.lines,Fe.type==1)switch(Ne){case Wi:Fe.getter=ct,Fe.inputSize=2;break;case La:Fe.getter=rt,Fe.inputSize=2;break}else if(Fe.type==2)switch(Ne){case Wi:Fe.getter=Ze,Fe.inputSize=4;break;case La:Fe.getter=ae,Fe.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Fe.type+" for "+k.compression+".";Fe.blockCount=(k.dataWindow.yMax+1)/Fe.scanlineBlockSize;for(var ht=0;ht<Fe.blockCount;ht++)we(Z,Re);Fe.outputChannels=Fe.channels==3?4:Fe.channels;const it=Fe.width*Fe.height*Fe.outputChannels;switch(Ne){case Wi:Fe.byteArray=new Float32Array(it),Fe.channels<Fe.outputChannels&&Fe.byteArray.fill(1,0,it);break;case La:Fe.byteArray=new Uint16Array(it),Fe.channels<Fe.outputChannels&&Fe.byteArray.fill(15360,0,it);break;default:console.error("THREE.EXRLoader: unsupported type: ",Ne);break}return Fe.bytesPerLine=Fe.width*Fe.inputSize*Fe.channels,Fe.outputChannels==4?Fe.format=ha:Fe.format=dv,Q0?Fe.colorSpace="srgb-linear":Fe.encoding=3e3,Fe}const Ia=new DataView(e),Yi=new Uint8Array(e),Js={value:0},Sa=Bi(Ia,e,Js),Jt=zi(Sa,Ia,Yi,Js,this.type),Pa={value:0},ii={R:0,G:1,B:2,A:3,Y:0};for(let k=0;k<Jt.height/Jt.scanlineBlockSize;k++){const Z=et(Ia,Js);Jt.size=et(Ia,Js),Jt.lines=Z+Jt.scanlineBlockSize>Jt.height?Jt.height-Z:Jt.scanlineBlockSize;const Re=Jt.size<Jt.lines*Jt.bytesPerLine?Jt.uncompress(Jt):Q(Jt);Js.value+=Jt.size;for(let Ne=0;Ne<Jt.scanlineBlockSize;Ne++){const Fe=Ne+k*Jt.scanlineBlockSize;if(Fe>=Jt.height)break;for(let ht=0;ht<Jt.channels;ht++){const it=ii[Sa.channels[ht].name];for(let ot=0;ot<Jt.width;ot++){Pa.value=(Ne*(Jt.channels*Jt.width)+ht*Jt.width+ot)*Jt.inputSize;const F=(Jt.height-1-Fe)*(Jt.width*Jt.outputChannels)+ot*Jt.outputChannels+it;Jt.byteArray[F]=Jt.getter(Re,Pa)}}}}return{header:Sa,width:Jt.width,height:Jt.height,data:Jt.byteArray,format:Jt.format,[Q0?"colorSpace":"encoding"]:Jt[Q0?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,i,a){function r(l,u){Q0?l.colorSpace=u.colorSpace:l.encoding=u.encoding,l.minFilter=ti,l.magFilter=ti,l.generateMipmaps=!1,l.flipY=!1,t&&t(l,u)}return super.load(e,r,i,a)}}const aJ=ne.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:a=!0,keyEvents:r=!1,onChange:l,onStart:u,onEnd:h,...p},m)=>{const v=Lr(U=>U.invalidate),x=Lr(U=>U.camera),b=Lr(U=>U.gl),M=Lr(U=>U.events),C=Lr(U=>U.setEvents),E=Lr(U=>U.set),w=Lr(U=>U.get),R=Lr(U=>U.performance),D=e||x,O=i||M.connected||b.domElement,P=ne.useMemo(()=>new tJ(D),[D]);return rT(()=>{P.enabled&&P.update()},-1),ne.useEffect(()=>(r&&P.connect(r===!0?O:r),P.connect(O),()=>void P.dispose()),[r,O,t,P,v]),ne.useEffect(()=>{const U=I=>{v(),t&&R.regress(),l&&l(I)},V=I=>{u&&u(I)},H=I=>{h&&h(I)};return P.addEventListener("change",U),P.addEventListener("start",V),P.addEventListener("end",H),()=>{P.removeEventListener("start",V),P.removeEventListener("end",H),P.removeEventListener("change",U)}},[l,u,h,P,v,C]),ne.useEffect(()=>{if(n){const U=w().controls;return E({controls:P}),()=>E({controls:U})}},[n,P]),ne.createElement("primitive",O1({ref:m,object:P,enableDamping:a},p))}),K5=(n,e,t)=>{let i;switch(n){case qs:i=new Uint8ClampedArray(e*t*4);break;case La:i=new Uint16Array(e*t*4);break;case Wl:i=new Uint32Array(e*t*4);break;case $1:i=new Int8Array(e*t*4);break;case e_:i=new Int16Array(e*t*4);break;case hv:i=new Int32Array(e*t*4);break;case Wi:i=new Float32Array(e*t*4);break;default:throw new Error("Unsupported data type")}return i};let tb;const sJ=(n,e,t,i)=>{if(tb!==void 0)return tb;const a=new ho(1,1,i);e.setRenderTarget(a);const r=new na(new ff,new jc({color:16777215}));e.render(r,t),e.setRenderTarget(null);const l=K5(n,a.width,a.height);return e.readRenderTargetPixels(a,0,0,a.width,a.height,l),a.dispose(),r.geometry.dispose(),r.material.dispose(),tb=l[0]!==0,tb};class lT{constructor(e){var t,i,a,r,l,u,h,p,m,v,x,b,M,C,E,w;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(D){throw this._renderer.setRenderTarget(null),D}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const R={format:ha,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((t=e.renderTargetOptions)===null||t===void 0?void 0:t.anisotropy)!==void 0?(i=e.renderTargetOptions)===null||i===void 0?void 0:i.anisotropy:1,generateMipmaps:((a=e.renderTargetOptions)===null||a===void 0?void 0:a.generateMipmaps)!==void 0?(r=e.renderTargetOptions)===null||r===void 0?void 0:r.generateMipmaps:!1,magFilter:((l=e.renderTargetOptions)===null||l===void 0?void 0:l.magFilter)!==void 0?(u=e.renderTargetOptions)===null||u===void 0?void 0:u.magFilter:ti,minFilter:((h=e.renderTargetOptions)===null||h===void 0?void 0:h.minFilter)!==void 0?(p=e.renderTargetOptions)===null||p===void 0?void 0:p.minFilter:ti,samples:((m=e.renderTargetOptions)===null||m===void 0?void 0:m.samples)!==void 0?(v=e.renderTargetOptions)===null||v===void 0?void 0:v.samples:void 0,wrapS:((x=e.renderTargetOptions)===null||x===void 0?void 0:x.wrapS)!==void 0?(b=e.renderTargetOptions)===null||b===void 0?void 0:b.wrapS:ta,wrapT:((M=e.renderTargetOptions)===null||M===void 0?void 0:M.wrapT)!==void 0?(C=e.renderTargetOptions)===null||C===void 0?void 0:C.wrapT:ta};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=lT.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new gv,this._camera=new Bc,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!sJ(this._type,this._renderer,this._camera,R)){let D;switch(this._type){case La:D=this._renderer.extensions.has("EXT_color_buffer_float")?Wi:void 0;break}D!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${Wi}`),this._type=D):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new na(new ff,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ho(this.width,this.height,R),this._renderTarget.texture.mapping=((E=e.renderTargetOptions)===null||E===void 0?void 0:E.mapping)!==void 0?(w=e.renderTargetOptions)===null||w===void 0?void 0:w.mapping:af}static instantiateRenderer(){const e=new eT;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=K5(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const t=new co(this.toArray(),this.width,this.height,ha,this._type,e?.mapping||af,e?.wrapS||ta,e?.wrapT||ta,e?.magFilter||ti,e?.minFilter||ti,e?.anisotropy||1,Ko);return t.generateMipmaps=e?.generateMipmaps!==void 0?e?.generateMipmaps:!1,t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Ys&&Object.values(this.material.uniforms).forEach(t=>{t.value instanceof vi&&t.value.dispose()}),Object.values(this.material).forEach(t=>{t instanceof vi&&t.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}const rJ=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,oJ=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class lJ extends Ys{constructor({gamma:e,offsetHdr:t,offsetSdr:i,gainMapMin:a,gainMapMax:r,maxDisplayBoost:l,hdrCapacityMin:u,hdrCapacityMax:h,sdr:p,gainMap:m}){super({name:"GainMapDecoderMaterial",vertexShader:rJ,fragmentShader:oJ,uniforms:{sdr:{value:p},gainMap:{value:m},gamma:{value:new te(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new te().fromArray(t)},offsetSdr:{value:new te().fromArray(i)},gainMapMin:{value:new te().fromArray(a)},gainMapMax:{value:new te().fromArray(r)},weightFactor:{value:(Math.log2(l)-u)/(h-u)}},blending:Zo,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=l,this._hdrCapacityMin=u,this._hdrCapacityMax=h,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){const e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){const t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){const e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class Q5 extends Error{}class J5 extends Error{}const J0=(n,e,t)=>{const i=new RegExp(`${e}="([^"]*)"`,"i").exec(n);if(i)return i[1];const a=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(n);if(a){const r=a[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return r&&r.length===3?r.map(l=>l.replace(/<\/?rdf:li>/g,"")):a[1].trim()}if(t!==void 0)return t;throw new Error(`Can't find ${e} in gainmap metadata`)},cJ=n=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(n):e=n.toString();let t=e.indexOf("<x:xmpmeta");for(;t!==-1;){const i=e.indexOf("x:xmpmeta>",t),a=e.slice(t,i+10);try{const r=J0(a,"hdrgm:GainMapMin","0"),l=J0(a,"hdrgm:GainMapMax"),u=J0(a,"hdrgm:Gamma","1"),h=J0(a,"hdrgm:OffsetSDR","0.015625"),p=J0(a,"hdrgm:OffsetHDR","0.015625"),m=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(a),v=m?m[1]:"0",x=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(a);if(!x)throw new Error("Incomplete gainmap metadata");const b=x[1];return{gainMapMin:Array.isArray(r)?r.map(M=>parseFloat(M)):[parseFloat(r),parseFloat(r),parseFloat(r)],gainMapMax:Array.isArray(l)?l.map(M=>parseFloat(M)):[parseFloat(l),parseFloat(l),parseFloat(l)],gamma:Array.isArray(u)?u.map(M=>parseFloat(M)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetSdr:Array.isArray(h)?h.map(M=>parseFloat(M)):[parseFloat(h),parseFloat(h),parseFloat(h)],offsetHdr:Array.isArray(p)?p.map(M=>parseFloat(M)):[parseFloat(p),parseFloat(p),parseFloat(p)],hdrCapacityMin:parseFloat(v),hdrCapacityMax:parseFloat(b)}}catch{}t=e.indexOf("<x:xmpmeta",i)}};class uJ{constructor(e){this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((t,i)=>{const a=this.options.debug,r=new DataView(e.buffer);if(r.getUint16(0)!==65496){i(new Error("Not a valid jpeg"));return}const l=r.byteLength;let u=2,h=0,p;for(;u<l;){if(++h>250){i(new Error(`Found no marker after ${h} loops `));return}if(r.getUint8(u)!==255){i(new Error(`Not a valid marker at offset 0x${u.toString(16)}, found: 0x${r.getUint8(u).toString(16)}`));return}if(p=r.getUint8(u+1),a&&console.log(`Marker: ${p.toString(16)}`),p===226){a&&console.log("Found APP2 marker (0xffe2)");const m=u+4;if(r.getUint32(m)===1297106432){const v=m+4;let x;if(r.getUint16(v)===18761)x=!1;else if(r.getUint16(v)===19789)x=!0;else{i(new Error("No valid endianness marker found in TIFF header"));return}if(r.getUint16(v+2,!x)!==42){i(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const b=r.getUint32(v+4,!x);if(b<8){i(new Error("Not valid TIFF data! (First offset less than 8)"));return}const M=v+b,C=r.getUint16(M,!x),E=M+2;let w=0;for(let P=E;P<E+12*C;P+=12)r.getUint16(P,!x)===45057&&(w=r.getUint32(P+8,!x));const D=M+2+C*12+4,O=[];for(let P=D;P<D+w*16;P+=16){const U={MPType:r.getUint32(P,!x),size:r.getUint32(P+4,!x),dataOffset:r.getUint32(P+8,!x),dependantImages:r.getUint32(P+12,!x),start:-1,end:-1,isFII:!1};U.dataOffset?(U.start=v+U.dataOffset,U.isFII=!1):(U.start=0,U.isFII=!0),U.end=U.start+U.size,O.push(U)}if(this.options.extractNonFII&&O.length){const P=new Blob([r]),U=[];for(const V of O){if(V.isFII&&!this.options.extractFII)continue;const H=P.slice(V.start,V.end+1,"image/jpeg");U.push(H)}t(U)}}}u+=2+r.getUint16(u+2)}})}}const fJ=async n=>{const e=cJ(n);if(!e)throw new J5("Gain map XMP metadata not found");const i=await new uJ({extractFII:!0,extractNonFII:!0}).extract(n);if(i.length!==2)throw new Q5("Gain map recovery image not found");return{sdr:new Uint8Array(await i[0].arrayBuffer()),gainMap:new Uint8Array(await i[1].arrayBuffer()),metadata:e}},iD=n=>new Promise((e,t)=>{const i=document.createElement("img");i.onload=()=>{e(i)},i.onerror=a=>{t(a)},i.src=URL.createObjectURL(n)});class $5 extends Qs{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new C_}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const e=new lJ({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new vi,sdr:new vi});return new lT({width:16,height:16,type:La,colorSpace:Ko,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,i,a){const r=a?new Blob([a],{type:"image/jpeg"}):void 0,l=new Blob([i],{type:"image/jpeg"});let u,h,p=!1;if(typeof createImageBitmap>"u"){const x=await Promise.all([r?iD(r):Promise.resolve(void 0),iD(l)]);h=x[0],u=x[1],p=!0}else{const x=await Promise.all([r?createImageBitmap(r,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(l,{imageOrientation:"flipY"})]);h=x[0],u=x[1]}const m=new vi(h||new ImageData(2,2),af,ta,ta,ti,H2,ha,qs,1,Ko);m.flipY=p,m.needsUpdate=!0;const v=new vi(u,af,ta,ta,ti,H2,ha,qs,1,ts);v.flipY=p,v.needsUpdate=!0,e.width=u.width,e.height=u.height,e.material.gainMap=m,e.material.sdr=v,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class hJ extends $5{load([e,t,i],a,r,l){const u=this.prepareQuadRenderer();let h,p,m;const v=async()=>{if(h&&p&&m){try{await this.render(u,m,h,p)}catch(I){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(i),typeof l=="function"&&l(I),u.disposeOnDemandRenderer();return}typeof a=="function"&&a(u),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(i),u.disposeOnDemandRenderer()}};let x=!0,b=0,M=0,C=!0,E=0,w=0,R=!0,D=0,O=0;const P=()=>{if(typeof r=="function"){const I=b+E+D,L=M+w+O,q=x&&C&&R;r(new ProgressEvent("progress",{lengthComputable:q,loaded:L,total:I}))}};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(i);const U=new Ir(this._internalLoadingManager);U.setResponseType("arraybuffer"),U.setRequestHeader(this.requestHeader),U.setPath(this.path),U.setWithCredentials(this.withCredentials),U.load(e,async I=>{if(typeof I=="string")throw new Error("Invalid sdr buffer");h=I,await v()},I=>{x=I.lengthComputable,M=I.loaded,b=I.total,P()},I=>{this.manager.itemError(e),typeof l=="function"&&l(I)});const V=new Ir(this._internalLoadingManager);V.setResponseType("arraybuffer"),V.setRequestHeader(this.requestHeader),V.setPath(this.path),V.setWithCredentials(this.withCredentials),V.load(t,async I=>{if(typeof I=="string")throw new Error("Invalid gainmap buffer");p=I,await v()},I=>{C=I.lengthComputable,w=I.loaded,E=I.total,P()},I=>{this.manager.itemError(t),typeof l=="function"&&l(I)});const H=new Ir(this._internalLoadingManager);return H.setRequestHeader(this.requestHeader),H.setPath(this.path),H.setWithCredentials(this.withCredentials),H.load(i,async I=>{if(typeof I!="string")throw new Error("Invalid metadata string");m=JSON.parse(I),await v()},I=>{R=I.lengthComputable,O=I.loaded,D=I.total,P()},I=>{this.manager.itemError(i),typeof l=="function"&&l(I)}),u}}class dJ extends $5{load(e,t,i,a){const r=this.prepareQuadRenderer(),l=new Ir(this._internalLoadingManager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(this.withCredentials),this.manager.itemStart(e),l.load(e,async u=>{if(typeof u=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const h=new Uint8Array(u);let p,m,v;try{const x=await fJ(h);p=x.sdr,m=x.gainMap,v=x.metadata}catch(x){if(x instanceof J5||x instanceof Q5)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),v={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},p=h;else throw x}try{await this.render(r,v,p,m)}catch(x){this.manager.itemError(e),typeof a=="function"&&a(x),r.disposeOnDemandRenderer();return}typeof t=="function"&&t(r),this.manager.itemEnd(e),r.disposeOnDemandRenderer()},i,u=>{this.manager.itemError(e),typeof a=="function"&&a(u)}),r}}const Zg={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},eU="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Ip=n=>Array.isArray(n),cT=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function O_({files:n=cT,path:e="",preset:t=void 0,colorSpace:i=void 0,extensions:a}={}){t&&(uT(t),n=Zg[t],e=eU);const r=Ip(n),{extension:l,isCubemap:u}=fT(n),h=hT(l);if(!h)throw new Error("useEnvironment: Unrecognized file extension: "+n);const p=Lr(b=>b.gl);ne.useLayoutEffect(()=>{if(l!=="webp"&&l!=="jpg"&&l!=="jpeg")return;function b(){im.clear(h,r?[n]:n)}p.domElement.addEventListener("webglcontextlost",b,{once:!0})},[n,p.domElement]);const m=im(h,r?[n]:n,b=>{(l==="webp"||l==="jpg"||l==="jpeg")&&b.setRenderer(p),b.setPath==null||b.setPath(e),a&&a(b)});let v=r?m[0]:m;if(l==="jpg"||l==="jpeg"||l==="webp"){var x;v=(x=v.renderTarget)==null?void 0:x.texture}return v.mapping=u?Xl:Xp,v.colorSpace=i??(u?"srgb":"srgb-linear"),v}const pJ={files:cT,path:"",preset:void 0,extensions:void 0};O_.preload=n=>{const e={...pJ,...n};let{files:t,path:i=""}=e;const{preset:a,extensions:r}=e;a&&(uT(a),t=Zg[a],i=eU);const{extension:l}=fT(t);if(l==="webp"||l==="jpg"||l==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const u=hT(l);if(!u)throw new Error("useEnvironment: Unrecognized file extension: "+t);im.preload(u,Ip(t)?[t]:t,h=>{h.setPath==null||h.setPath(i),r&&r(h)})};const mJ={files:cT,preset:void 0};O_.clear=n=>{const e={...mJ,...n};let{files:t}=e;const{preset:i}=e;i&&(uT(i),t=Zg[i]);const{extension:a}=fT(t),r=hT(a);if(!r)throw new Error("useEnvironment: Unrecognized file extension: "+t);im.clear(r,Ip(t)?[t]:t)};function uT(n){if(!(n in Zg))throw new Error("Preset must be one of: "+Object.keys(Zg).join(", "))}function fT(n){var e;const t=Ip(n)&&n.length===6,i=Ip(n)&&n.length===3&&n.some(l=>l.endsWith("json")),a=Ip(n)?n[0]:n;return{extension:t?"cube":i?"webp":a.startsWith("data:application/exr")?"exr":a.startsWith("data:application/hdr")?"hdr":a.startsWith("data:image/jpeg")?"jpg":(e=a.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:t,isGainmap:i}}function hT(n){return n==="cube"?e5:n==="hdr"?nJ:n==="exr"?iJ:n==="jpg"||n==="jpeg"?dJ:n==="webp"?hJ:null}const gJ=n=>n.current&&n.current.isScene,vJ=n=>gJ(n)?n.current:n;function dT(n,e,t,i,a={}){var r,l,u,h;a={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...a};const p=vJ(e||t),m=p.background,v=p.environment,x={backgroundBlurriness:p.backgroundBlurriness,backgroundIntensity:p.backgroundIntensity,backgroundRotation:(r=(l=p.backgroundRotation)==null||l.clone==null?void 0:l.clone())!==null&&r!==void 0?r:[0,0,0],environmentIntensity:p.environmentIntensity,environmentRotation:(u=(h=p.environmentRotation)==null||h.clone==null?void 0:h.clone())!==null&&u!==void 0?u:[0,0,0]};return n!=="only"&&(p.environment=i),n&&(p.background=i),Pl(p,a),()=>{n!=="only"&&(p.environment=v),n&&(p.background=m),Pl(p,x)}}function pT({scene:n,background:e=!1,map:t,...i}){const a=Lr(r=>r.scene);return ne.useLayoutEffect(()=>{if(t)return dT(e,n,a,t,i)}),null}function tU({background:n=!1,scene:e,blur:t,backgroundBlurriness:i,backgroundIntensity:a,backgroundRotation:r,environmentIntensity:l,environmentRotation:u,...h}){const p=O_(h),m=Lr(v=>v.scene);return ne.useLayoutEffect(()=>dT(n,e,m,p,{backgroundBlurriness:t??i,backgroundIntensity:a,backgroundRotation:r,environmentIntensity:l,environmentRotation:u})),ne.useEffect(()=>()=>{p.dispose()},[p]),null}function yJ({children:n,near:e=.1,far:t=1e3,resolution:i=256,frames:a=1,map:r,background:l=!1,blur:u,backgroundBlurriness:h,backgroundIntensity:p,backgroundRotation:m,environmentIntensity:v,environmentRotation:x,scene:b,files:M,path:C,preset:E=void 0,extensions:w}){const R=Lr(H=>H.gl),D=Lr(H=>H.scene),O=ne.useRef(null),[P]=ne.useState(()=>new gv),U=ne.useMemo(()=>{const H=new AE(i);return H.texture.type=La,H},[i]);ne.useEffect(()=>()=>{U.dispose()},[U]),ne.useLayoutEffect(()=>{if(a===1){const H=R.autoClear;R.autoClear=!0,O.current.update(R,P),R.autoClear=H}return dT(l,b,D,U.texture,{backgroundBlurriness:u??h,backgroundIntensity:p,backgroundRotation:m,environmentIntensity:v,environmentRotation:x})},[n,P,U.texture,b,D,l,a,R]);let V=1;return rT(()=>{if(a===1/0||V<a){const H=R.autoClear;R.autoClear=!0,O.current.update(R,P),R.autoClear=H,V++}}),ne.createElement(ne.Fragment,null,bQ(ne.createElement(ne.Fragment,null,n,ne.createElement("cubeCamera",{ref:O,args:[e,t,U]}),M||E?ne.createElement(tU,{background:!0,files:M,preset:E,path:C,extensions:w}):r?ne.createElement(pT,{background:!0,map:r,extensions:w}):null),P))}function xJ(n){var e,t,i,a;const r=O_(n),l=n.map||r;ne.useMemo(()=>P5({GroundProjectedEnvImpl:qQ}),[]),ne.useEffect(()=>()=>{r.dispose()},[r]);const u=ne.useMemo(()=>[l],[l]),h=(e=n.ground)==null?void 0:e.height,p=(t=n.ground)==null?void 0:t.radius,m=(i=(a=n.ground)==null?void 0:a.scale)!==null&&i!==void 0?i:1e3;return ne.createElement(ne.Fragment,null,ne.createElement(pT,O1({},n,{map:l})),ne.createElement("groundProjectedEnvImpl",{args:u,scale:m,height:h,radius:p}))}function bJ(n){return n.ground?ne.createElement(xJ,n):n.map?ne.createElement(pT,n):n.children?ne.createElement(yJ,n):ne.createElement(tU,n)}function _J(){const n=ne.useRef();return rT(()=>{n.current&&(n.current.rotation.x+=.01,n.current.rotation.y+=.01)}),B.jsxs("mesh",{ref:n,scale:1,children:[B.jsx("tetrahedronGeometry",{args:[1,0]}),B.jsx("meshStandardMaterial",{color:"#4f38f9",metalness:.1,roughness:.1})]})}function SJ(){return B.jsx("div",{style:{width:"200px",height:"200px"},children:B.jsxs(LQ,{children:[B.jsx("ambientLight",{intensity:1.25}),B.jsx(bJ,{preset:"sunset"}),B.jsx(_J,{}),B.jsx(aJ,{enableDamping:!0,dampingFactor:.25,enableZoom:!1,enablePan:!1})]})})}function wJ(){const[n,e]=ne.useState(!0),[t,i]=ne.useState(null);return ne.useEffect(()=>{setTimeout(()=>{i("Data loaded!"),e(!1)},1e4)},[]),B.jsx("div",{className:"App",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:n?B.jsx(SJ,{}):B.jsx("h1",{children:t})})}function MJ(){return B.jsx(uP,{basename:"/tetrahedron/",children:B.jsxs("div",{className:"flex flex-col min-h-screen",children:[B.jsx(RP,{}),B.jsxs("main",{className:"flex-grow",children:[B.jsx(Z7,{}),B.jsxs(HI,{children:[B.jsx(Rc,{path:"/",element:B.jsx(UF,{})}),B.jsx(Rc,{path:"/chairmans-gallery",element:B.jsx(K7,{})}),B.jsx(Rc,{path:"/about",element:B.jsx(IF,{})}),B.jsx(Rc,{path:"/academics",element:B.jsx(PF,{})}),B.jsx(Rc,{path:"/facilities",element:B.jsx(BF,{})}),B.jsx(Rc,{path:"/gallery",element:B.jsx(aH,{})}),B.jsx(Rc,{path:"/contact",element:B.jsx(Y7,{})}),B.jsx(Rc,{path:"/loader",element:B.jsx(wJ,{})})]})]}),B.jsx(DP,{})]})})}KU.createRoot(document.getElementById("root")).render(B.jsx(ne.StrictMode,{children:B.jsx(MJ,{})}));
